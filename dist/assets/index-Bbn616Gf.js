function C_(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();function vn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var qp={exports:{}},nd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pk;function A_(){if(pk)return nd;pk=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,i,o){var c=null;if(o!==void 0&&(c=""+o),i.key!==void 0&&(c=""+i.key),"key"in i){o={};for(var u in i)u!=="key"&&(o[u]=i[u])}else o=i;return i=o.ref,{$$typeof:e,type:n,key:c,ref:i!==void 0?i:null,props:o}}return nd.Fragment=t,nd.jsx=r,nd.jsxs=r,nd}var xk;function D_(){return xk||(xk=1,qp.exports=A_()),qp.exports}var a=D_(),Wp={exports:{}},at={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yk;function T_(){if(yk)return at;yk=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),y=Symbol.iterator;function j(I){return I===null||typeof I!="object"?null:(I=y&&I[y]||I["@@iterator"],typeof I=="function"?I:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,C={};function S(I,L,me){this.props=I,this.context=L,this.refs=C,this.updater=me||k}S.prototype.isReactComponent={},S.prototype.setState=function(I,L){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,L,"setState")},S.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function N(){}N.prototype=S.prototype;function A(I,L,me){this.props=I,this.context=L,this.refs=C,this.updater=me||k}var E=A.prototype=new N;E.constructor=A,b(E,S.prototype),E.isPureReactComponent=!0;var T=Array.isArray;function P(){}var O={H:null,A:null,T:null,S:null},U=Object.prototype.hasOwnProperty;function X(I,L,me){var Z=me.ref;return{$$typeof:e,type:I,key:L,ref:Z!==void 0?Z:null,props:me}}function ie(I,L){return X(I.type,L,I.props)}function W(I){return typeof I=="object"&&I!==null&&I.$$typeof===e}function G(I){var L={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(me){return L[me]})}var H=/\/+/g;function Q(I,L){return typeof I=="object"&&I!==null&&I.key!=null?G(""+I.key):L.toString(36)}function te(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(P,P):(I.status="pending",I.then(function(L){I.status==="pending"&&(I.status="fulfilled",I.value=L)},function(L){I.status==="pending"&&(I.status="rejected",I.reason=L)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function $(I,L,me,Z,ye){var Me=typeof I;(Me==="undefined"||Me==="boolean")&&(I=null);var ve=!1;if(I===null)ve=!0;else switch(Me){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(I.$$typeof){case e:case t:ve=!0;break;case g:return ve=I._init,$(ve(I._payload),L,me,Z,ye)}}if(ve)return ye=ye(I),ve=Z===""?"."+Q(I,0):Z,T(ye)?(me="",ve!=null&&(me=ve.replace(H,"$&/")+"/"),$(ye,L,me,"",function(F){return F})):ye!=null&&(W(ye)&&(ye=ie(ye,me+(ye.key==null||I&&I.key===ye.key?"":(""+ye.key).replace(H,"$&/")+"/")+ve)),L.push(ye)),1;ve=0;var _e=Z===""?".":Z+":";if(T(I))for(var we=0;we<I.length;we++)Z=I[we],Me=_e+Q(Z,we),ve+=$(Z,L,me,Me,ye);else if(we=j(I),typeof we=="function")for(I=we.call(I),we=0;!(Z=I.next()).done;)Z=Z.value,Me=_e+Q(Z,we++),ve+=$(Z,L,me,Me,ye);else if(Me==="object"){if(typeof I.then=="function")return $(te(I),L,me,Z,ye);throw L=String(I),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return ve}function V(I,L,me){if(I==null)return I;var Z=[],ye=0;return $(I,Z,"","",function(Me){return L.call(me,Me,ye++)}),Z}function re(I){if(I._status===-1){var L=I._result;L=L(),L.then(function(me){(I._status===0||I._status===-1)&&(I._status=1,I._result=me)},function(me){(I._status===0||I._status===-1)&&(I._status=2,I._result=me)}),I._status===-1&&(I._status=0,I._result=L)}if(I._status===1)return I._result.default;throw I._result}var K=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},J={map:V,forEach:function(I,L,me){V(I,function(){L.apply(this,arguments)},me)},count:function(I){var L=0;return V(I,function(){L++}),L},toArray:function(I){return V(I,function(L){return L})||[]},only:function(I){if(!W(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return at.Activity=p,at.Children=J,at.Component=S,at.Fragment=r,at.Profiler=i,at.PureComponent=A,at.StrictMode=n,at.Suspense=m,at.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,at.__COMPILER_RUNTIME={__proto__:null,c:function(I){return O.H.useMemoCache(I)}},at.cache=function(I){return function(){return I.apply(null,arguments)}},at.cacheSignal=function(){return null},at.cloneElement=function(I,L,me){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var Z=b({},I.props),ye=I.key;if(L!=null)for(Me in L.key!==void 0&&(ye=""+L.key),L)!U.call(L,Me)||Me==="key"||Me==="__self"||Me==="__source"||Me==="ref"&&L.ref===void 0||(Z[Me]=L[Me]);var Me=arguments.length-2;if(Me===1)Z.children=me;else if(1<Me){for(var ve=Array(Me),_e=0;_e<Me;_e++)ve[_e]=arguments[_e+2];Z.children=ve}return X(I.type,ye,Z)},at.createContext=function(I){return I={$$typeof:c,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:o,_context:I},I},at.createElement=function(I,L,me){var Z,ye={},Me=null;if(L!=null)for(Z in L.key!==void 0&&(Me=""+L.key),L)U.call(L,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(ye[Z]=L[Z]);var ve=arguments.length-2;if(ve===1)ye.children=me;else if(1<ve){for(var _e=Array(ve),we=0;we<ve;we++)_e[we]=arguments[we+2];ye.children=_e}if(I&&I.defaultProps)for(Z in ve=I.defaultProps,ve)ye[Z]===void 0&&(ye[Z]=ve[Z]);return X(I,Me,ye)},at.createRef=function(){return{current:null}},at.forwardRef=function(I){return{$$typeof:u,render:I}},at.isValidElement=W,at.lazy=function(I){return{$$typeof:g,_payload:{_status:-1,_result:I},_init:re}},at.memo=function(I,L){return{$$typeof:f,type:I,compare:L===void 0?null:L}},at.startTransition=function(I){var L=O.T,me={};O.T=me;try{var Z=I(),ye=O.S;ye!==null&&ye(me,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(P,K)}catch(Me){K(Me)}finally{L!==null&&me.types!==null&&(L.types=me.types),O.T=L}},at.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},at.use=function(I){return O.H.use(I)},at.useActionState=function(I,L,me){return O.H.useActionState(I,L,me)},at.useCallback=function(I,L){return O.H.useCallback(I,L)},at.useContext=function(I){return O.H.useContext(I)},at.useDebugValue=function(){},at.useDeferredValue=function(I,L){return O.H.useDeferredValue(I,L)},at.useEffect=function(I,L){return O.H.useEffect(I,L)},at.useEffectEvent=function(I){return O.H.useEffectEvent(I)},at.useId=function(){return O.H.useId()},at.useImperativeHandle=function(I,L,me){return O.H.useImperativeHandle(I,L,me)},at.useInsertionEffect=function(I,L){return O.H.useInsertionEffect(I,L)},at.useLayoutEffect=function(I,L){return O.H.useLayoutEffect(I,L)},at.useMemo=function(I,L){return O.H.useMemo(I,L)},at.useOptimistic=function(I,L){return O.H.useOptimistic(I,L)},at.useReducer=function(I,L,me){return O.H.useReducer(I,L,me)},at.useRef=function(I){return O.H.useRef(I)},at.useState=function(I){return O.H.useState(I)},at.useSyncExternalStore=function(I,L,me){return O.H.useSyncExternalStore(I,L,me)},at.useTransition=function(){return O.H.useTransition()},at.version="19.2.0",at}var vk;function Xo(){return vk||(vk=1,Wp.exports=T_()),Wp.exports}var x=Xo();const ht=vn(x),hb=C_({__proto__:null,default:ht},[x]);var Vp={exports:{}},sd={},Yp={exports:{}},Kp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bk;function E_(){return bk||(bk=1,(function(e){function t($,V){var re=$.length;$.push(V);e:for(;0<re;){var K=re-1>>>1,J=$[K];if(0<i(J,V))$[K]=V,$[re]=J,re=K;else break e}}function r($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var V=$[0],re=$.pop();if(re!==V){$[0]=re;e:for(var K=0,J=$.length,I=J>>>1;K<I;){var L=2*(K+1)-1,me=$[L],Z=L+1,ye=$[Z];if(0>i(me,re))Z<J&&0>i(ye,me)?($[K]=ye,$[Z]=re,K=Z):($[K]=me,$[L]=re,K=L);else if(Z<J&&0>i(ye,re))$[K]=ye,$[Z]=re,K=Z;else break e}}return V}function i($,V){var re=$.sortIndex-V.sortIndex;return re!==0?re:$.id-V.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var m=[],f=[],g=1,p=null,y=3,j=!1,k=!1,b=!1,C=!1,S=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function E($){for(var V=r(f);V!==null;){if(V.callback===null)n(f);else if(V.startTime<=$)n(f),V.sortIndex=V.expirationTime,t(m,V);else break;V=r(f)}}function T($){if(b=!1,E($),!k)if(r(m)!==null)k=!0,P||(P=!0,G());else{var V=r(f);V!==null&&te(T,V.startTime-$)}}var P=!1,O=-1,U=5,X=-1;function ie(){return C?!0:!(e.unstable_now()-X<U)}function W(){if(C=!1,P){var $=e.unstable_now();X=$;var V=!0;try{e:{k=!1,b&&(b=!1,N(O),O=-1),j=!0;var re=y;try{t:{for(E($),p=r(m);p!==null&&!(p.expirationTime>$&&ie());){var K=p.callback;if(typeof K=="function"){p.callback=null,y=p.priorityLevel;var J=K(p.expirationTime<=$);if($=e.unstable_now(),typeof J=="function"){p.callback=J,E($),V=!0;break t}p===r(m)&&n(m),E($)}else n(m);p=r(m)}if(p!==null)V=!0;else{var I=r(f);I!==null&&te(T,I.startTime-$),V=!1}}break e}finally{p=null,y=re,j=!1}V=void 0}}finally{V?G():P=!1}}}var G;if(typeof A=="function")G=function(){A(W)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,Q=H.port2;H.port1.onmessage=W,G=function(){Q.postMessage(null)}}else G=function(){S(W,0)};function te($,V){O=S(function(){$(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function($){switch(y){case 1:case 2:case 3:var V=3;break;default:V=y}var re=y;y=V;try{return $()}finally{y=re}},e.unstable_requestPaint=function(){C=!0},e.unstable_runWithPriority=function($,V){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var re=y;y=$;try{return V()}finally{y=re}},e.unstable_scheduleCallback=function($,V,re){var K=e.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?K+re:K):re=K,$){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=re+J,$={id:g++,callback:V,priorityLevel:$,startTime:re,expirationTime:J,sortIndex:-1},re>K?($.sortIndex=re,t(f,$),r(m)===null&&$===r(f)&&(b?(N(O),O=-1):b=!0,te(T,re-K))):($.sortIndex=J,t(m,$),k||j||(k=!0,P||(P=!0,G()))),$},e.unstable_shouldYield=ie,e.unstable_wrapCallback=function($){var V=y;return function(){var re=y;y=V;try{return $.apply(this,arguments)}finally{y=re}}}})(Kp)),Kp}var jk;function O_(){return jk||(jk=1,Yp.exports=E_()),Yp.exports}var Gp={exports:{}},Hr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wk;function M_(){if(wk)return Hr;wk=1;var e=Xo();function t(m){var f="https://react.dev/errors/"+m;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+m+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(m,f,g){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:m,containerInfo:f,implementation:g}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(m,f){if(m==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Hr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Hr.createPortal=function(m,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return o(m,f,null,g)},Hr.flushSync=function(m){var f=c.T,g=n.p;try{if(c.T=null,n.p=2,m)return m()}finally{c.T=f,n.p=g,n.d.f()}},Hr.preconnect=function(m,f){typeof m=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(m,f))},Hr.prefetchDNS=function(m){typeof m=="string"&&n.d.D(m)},Hr.preinit=function(m,f){if(typeof m=="string"&&f&&typeof f.as=="string"){var g=f.as,p=u(g,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,j=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?n.d.S(m,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:y,fetchPriority:j}):g==="script"&&n.d.X(m,{crossOrigin:p,integrity:y,fetchPriority:j,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Hr.preinitModule=function(m,f){if(typeof m=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=u(f.as,f.crossOrigin);n.d.M(m,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(m)},Hr.preload=function(m,f){if(typeof m=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,p=u(g,f.crossOrigin);n.d.L(m,g,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Hr.preloadModule=function(m,f){if(typeof m=="string")if(f){var g=u(f.as,f.crossOrigin);n.d.m(m,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(m)},Hr.requestFormReset=function(m){n.d.r(m)},Hr.unstable_batchedUpdates=function(m,f){return m(f)},Hr.useFormState=function(m,f,g){return c.H.useFormState(m,f,g)},Hr.useFormStatus=function(){return c.H.useHostTransitionStatus()},Hr.version="19.2.0",Hr}var Nk;function SD(){if(Nk)return Gp.exports;Nk=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Gp.exports=M_(),Gp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kk;function P_(){if(kk)return sd;kk=1;var e=O_(),t=Xo(),r=SD();function n(s){var l="https://react.dev/errors/"+s;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var l=s,d=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(d=l.return),s=l.return;while(s)}return l.tag===3?d:null}function c(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function u(s){if(s.tag===31){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function m(s){if(o(s)!==s)throw Error(n(188))}function f(s){var l=s.alternate;if(!l){if(l=o(s),l===null)throw Error(n(188));return l!==s?null:s}for(var d=s,h=l;;){var v=d.return;if(v===null)break;var w=v.alternate;if(w===null){if(h=v.return,h!==null){d=h;continue}break}if(v.child===w.child){for(w=v.child;w;){if(w===d)return m(v),s;if(w===h)return m(v),l;w=w.sibling}throw Error(n(188))}if(d.return!==h.return)d=v,h=w;else{for(var D=!1,M=v.child;M;){if(M===d){D=!0,d=v,h=w;break}if(M===h){D=!0,h=v,d=w;break}M=M.sibling}if(!D){for(M=w.child;M;){if(M===d){D=!0,d=w,h=v;break}if(M===h){D=!0,h=w,d=v;break}M=M.sibling}if(!D)throw Error(n(189))}}if(d.alternate!==h)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?s:l}function g(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s;for(s=s.child;s!==null;){if(l=g(s),l!==null)return l;s=s.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),A=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),X=Symbol.for("react.activity"),ie=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function G(s){return s===null||typeof s!="object"?null:(s=W&&s[W]||s["@@iterator"],typeof s=="function"?s:null)}var H=Symbol.for("react.client.reference");function Q(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===H?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case b:return"Fragment";case S:return"Profiler";case C:return"StrictMode";case T:return"Suspense";case P:return"SuspenseList";case X:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case k:return"Portal";case A:return s.displayName||"Context";case N:return(s._context.displayName||"Context")+".Consumer";case E:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case O:return l=s.displayName||null,l!==null?l:Q(s.type)||"Memo";case U:l=s._payload,s=s._init;try{return Q(s(l))}catch{}}return null}var te=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},K=[],J=-1;function I(s){return{current:s}}function L(s){0>J||(s.current=K[J],K[J]=null,J--)}function me(s,l){J++,K[J]=s.current,s.current=l}var Z=I(null),ye=I(null),Me=I(null),ve=I(null);function _e(s,l){switch(me(Me,l),me(ye,s),me(Z,null),l.nodeType){case 9:case 11:s=(s=l.documentElement)&&(s=s.namespaceURI)?zN(s):0;break;default:if(s=l.tagName,l=l.namespaceURI)l=zN(l),s=UN(l,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}L(Z),me(Z,s)}function we(){L(Z),L(ye),L(Me)}function F(s){s.memoizedState!==null&&me(ve,s);var l=Z.current,d=UN(l,s.type);l!==d&&(me(ye,s),me(Z,d))}function ue(s){ye.current===s&&(L(Z),L(ye)),ve.current===s&&(L(ve),ed._currentValue=re)}var R,be;function Ee(s){if(R===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);R=l&&l[1]||"",be=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+R+s+be}var Ve=!1;function qe(s,l){if(!s||Ve)return"";Ve=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(l){var Se=function(){throw Error()};if(Object.defineProperty(Se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Se,[])}catch(fe){var de=fe}Reflect.construct(s,[],Se)}else{try{Se.call()}catch(fe){de=fe}s.call(Se.prototype)}}else{try{throw Error()}catch(fe){de=fe}(Se=s())&&typeof Se.catch=="function"&&Se.catch(function(){})}}catch(fe){if(fe&&de&&typeof fe.stack=="string")return[fe.stack,de.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=h.DetermineComponentFrameRoot(),D=w[0],M=w[1];if(D&&M){var Y=D.split(`
`),ce=M.split(`
`);for(v=h=0;h<Y.length&&!Y[h].includes("DetermineComponentFrameRoot");)h++;for(;v<ce.length&&!ce[v].includes("DetermineComponentFrameRoot");)v++;if(h===Y.length||v===ce.length)for(h=Y.length-1,v=ce.length-1;1<=h&&0<=v&&Y[h]!==ce[v];)v--;for(;1<=h&&0<=v;h--,v--)if(Y[h]!==ce[v]){if(h!==1||v!==1)do if(h--,v--,0>v||Y[h]!==ce[v]){var je=`
`+Y[h].replace(" at new "," at ");return s.displayName&&je.includes("<anonymous>")&&(je=je.replace("<anonymous>",s.displayName)),je}while(1<=h&&0<=v);break}}}finally{Ve=!1,Error.prepareStackTrace=d}return(d=s?s.displayName||s.name:"")?Ee(d):""}function dt(s,l){switch(s.tag){case 26:case 27:case 5:return Ee(s.type);case 16:return Ee("Lazy");case 13:return s.child!==l&&l!==null?Ee("Suspense Fallback"):Ee("Suspense");case 19:return Ee("SuspenseList");case 0:case 15:return qe(s.type,!1);case 11:return qe(s.type.render,!1);case 1:return qe(s.type,!0);case 31:return Ee("Activity");default:return""}}function Ut(s){try{var l="",d=null;do l+=dt(s,d),d=s,s=s.return;while(s);return l}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var _=Object.prototype.hasOwnProperty,ne=e.unstable_scheduleCallback,Ce=e.unstable_cancelCallback,Le=e.unstable_shouldYield,q=e.unstable_requestPaint,le=e.unstable_now,De=e.unstable_getCurrentPriorityLevel,et=e.unstable_ImmediatePriority,B=e.unstable_UserBlockingPriority,he=e.unstable_NormalPriority,Ae=e.unstable_LowPriority,Ie=e.unstable_IdlePriority,Ke=e.log,Ue=e.unstable_setDisableYieldValue,Te=null,ke=null;function Re(s){if(typeof Ke=="function"&&Ue(s),ke&&typeof ke.setStrictMode=="function")try{ke.setStrictMode(Te,s)}catch{}}var Je=Math.clz32?Math.clz32:Jt,Zt=Math.log,ar=Math.LN2;function Jt(s){return s>>>=0,s===0?32:31-(Zt(s)/ar|0)|0}var Bt=256,Ur=262144,Qt=4194304;function lr(s){var l=s&42;if(l!==0)return l;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function xr(s,l,d){var h=s.pendingLanes;if(h===0)return 0;var v=0,w=s.suspendedLanes,D=s.pingedLanes;s=s.warmLanes;var M=h&134217727;return M!==0?(h=M&~w,h!==0?v=lr(h):(D&=M,D!==0?v=lr(D):d||(d=M&~s,d!==0&&(v=lr(d))))):(M=h&~w,M!==0?v=lr(M):D!==0?v=lr(D):d||(d=h&~s,d!==0&&(v=lr(d)))),v===0?0:l!==0&&l!==v&&(l&w)===0&&(w=v&-v,d=l&-l,w>=d||w===32&&(d&4194048)!==0)?l:v}function Pa(s,l){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&l)===0}function Vn(s,l){switch(s){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oi(){var s=Qt;return Qt<<=1,(Qt&62914560)===0&&(Qt=4194304),s}function Ra(s){for(var l=[],d=0;31>d;d++)l.push(s);return l}function sn(s,l){s.pendingLanes|=l,l!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Ol(s,l,d,h,v,w){var D=s.pendingLanes;s.pendingLanes=d,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=d,s.entangledLanes&=d,s.errorRecoveryDisabledLanes&=d,s.shellSuspendCounter=0;var M=s.entanglements,Y=s.expirationTimes,ce=s.hiddenUpdates;for(d=D&~d;0<d;){var je=31-Je(d),Se=1<<je;M[je]=0,Y[je]=-1;var de=ce[je];if(de!==null)for(ce[je]=null,je=0;je<de.length;je++){var fe=de[je];fe!==null&&(fe.lane&=-536870913)}d&=~Se}h!==0&&Er(s,h,0),w!==0&&v===0&&s.tag!==0&&(s.suspendedLanes|=w&~(D&~l))}function Er(s,l,d){s.pendingLanes|=l,s.suspendedLanes&=~l;var h=31-Je(l);s.entangledLanes|=l,s.entanglements[h]=s.entanglements[h]|1073741824|d&261930}function ma(s,l){var d=s.entangledLanes|=l;for(s=s.entanglements;d;){var h=31-Je(d),v=1<<h;v&l|s[h]&l&&(s[h]|=l),d&=~v}}function Ml(s,l){var d=l&-l;return d=(d&42)!==0?1:Pl(d),(d&(s.suspendedLanes|l))!==0?0:d}function Pl(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Cn(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Rl(){var s=V.p;return s!==0?s:(s=window.event,s===void 0?32:ck(s.type))}function bu(s,l){var d=V.p;try{return V.p=s,l()}finally{V.p=d}}var An=Math.random().toString(36).slice(2),or="__reactFiber$"+An,Br="__reactProps$"+An,Dn="__reactContainer$"+An,Yn="__reactEvents$"+An,Ih="__reactListeners$"+An,Lh="__reactHandles$"+An,ju="__reactResources$"+An,Mi="__reactMarker$"+An;function gc(s){delete s[or],delete s[Br],delete s[Yn],delete s[Ih],delete s[Lh]}function Tn(s){var l=s[or];if(l)return l;for(var d=s.parentNode;d;){if(l=d[Dn]||d[or]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(s=YN(s);s!==null;){if(d=s[or])return d;s=YN(s)}return l}s=d,d=s.parentNode}return null}function _s(s){if(s=s[or]||s[Dn]){var l=s.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return s}return null}function Is(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s.stateNode;throw Error(n(33))}function Ls(s){var l=s[ju];return l||(l=s[ju]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function cr(s){s[Mi]=!0}var wu=new Set,Nu={};function Kn(s,l){$s(s,l),$s(s+"Capture",l)}function $s(s,l){for(Nu[s]=l,s=0;s<l.length;s++)wu.add(l[s])}var $h=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pc={},_l={};function zh(s){return _.call(_l,s)?!0:_.call(pc,s)?!1:$h.test(s)?_l[s]=!0:(pc[s]=!0,!1)}function Il(s,l,d){if(zh(l))if(d===null)s.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":s.removeAttribute(l);return;case"boolean":var h=l.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){s.removeAttribute(l);return}}s.setAttribute(l,""+d)}}function Pi(s,l,d){if(d===null)s.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttribute(l,""+d)}}function _a(s,l,d,h){if(h===null)s.removeAttribute(d);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(d);return}s.setAttributeNS(l,d,""+h)}}function Wr(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ku(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Su(s,l,d){var h=Object.getOwnPropertyDescriptor(s.constructor.prototype,l);if(!s.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var v=h.get,w=h.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return v.call(this)},set:function(D){d=""+D,w.call(this,D)}}),Object.defineProperty(s,l,{enumerable:h.enumerable}),{getValue:function(){return d},setValue:function(D){d=""+D},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function Ri(s){if(!s._valueTracker){var l=ku(s)?"checked":"value";s._valueTracker=Su(s,l,""+s[l])}}function Cu(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var d=l.getValue(),h="";return s&&(h=ku(s)?s.checked?"true":"false":s.value),s=h,s!==d?(l.setValue(s),!0):!1}function Ll(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Uh=/[\n"\\]/g;function Zr(s){return s.replace(Uh,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function z(s,l,d,h,v,w,D,M){s.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?s.type=D:s.removeAttribute("type"),l!=null?D==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+Wr(l)):s.value!==""+Wr(l)&&(s.value=""+Wr(l)):D!=="submit"&&D!=="reset"||s.removeAttribute("value"),l!=null?xe(s,D,Wr(l)):d!=null?xe(s,D,Wr(d)):h!=null&&s.removeAttribute("value"),v==null&&w!=null&&(s.defaultChecked=!!w),v!=null&&(s.checked=v&&typeof v!="function"&&typeof v!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?s.name=""+Wr(M):s.removeAttribute("name")}function se(s,l,d,h,v,w,D,M){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(s.type=w),l!=null||d!=null){if(!(w!=="submit"&&w!=="reset"||l!=null)){Ri(s);return}d=d!=null?""+Wr(d):"",l=l!=null?""+Wr(l):d,M||l===s.value||(s.value=l),s.defaultValue=l}h=h??v,h=typeof h!="function"&&typeof h!="symbol"&&!!h,s.checked=M?s.checked:!!h,s.defaultChecked=!!h,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(s.name=D),Ri(s)}function xe(s,l,d){l==="number"&&Ll(s.ownerDocument)===s||s.defaultValue===""+d||(s.defaultValue=""+d)}function pe(s,l,d,h){if(s=s.options,l){l={};for(var v=0;v<d.length;v++)l["$"+d[v]]=!0;for(d=0;d<s.length;d++)v=l.hasOwnProperty("$"+s[d].value),s[d].selected!==v&&(s[d].selected=v),v&&h&&(s[d].defaultSelected=!0)}else{for(d=""+Wr(d),l=null,v=0;v<s.length;v++){if(s[v].value===d){s[v].selected=!0,h&&(s[v].defaultSelected=!0);return}l!==null||s[v].disabled||(l=s[v])}l!==null&&(l.selected=!0)}}function Oe(s,l,d){if(l!=null&&(l=""+Wr(l),l!==s.value&&(s.value=l),d==null)){s.defaultValue!==l&&(s.defaultValue=l);return}s.defaultValue=d!=null?""+Wr(d):""}function He(s,l,d,h){if(l==null){if(h!=null){if(d!=null)throw Error(n(92));if(te(h)){if(1<h.length)throw Error(n(93));h=h[0]}d=h}d==null&&(d=""),l=d}d=Wr(l),s.defaultValue=d,h=s.textContent,h===d&&h!==""&&h!==null&&(s.value=h),Ri(s)}function Pe(s,l){if(l){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=l;return}}s.textContent=l}var $e=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function We(s,l,d){var h=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?h?s.setProperty(l,""):l==="float"?s.cssFloat="":s[l]="":h?s.setProperty(l,d):typeof d!="number"||d===0||$e.has(l)?l==="float"?s.cssFloat=d:s[l]=(""+d).trim():s[l]=d+"px"}function gt(s,l,d){if(l!=null&&typeof l!="object")throw Error(n(62));if(s=s.style,d!=null){for(var h in d)!d.hasOwnProperty(h)||l!=null&&l.hasOwnProperty(h)||(h.indexOf("--")===0?s.setProperty(h,""):h==="float"?s.cssFloat="":s[h]="");for(var v in l)h=l[v],l.hasOwnProperty(v)&&d[v]!==h&&We(s,v,h)}else for(var w in l)l.hasOwnProperty(w)&&We(s,w,l[w])}function ot(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fa=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $l(s){return Gn.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function ln(){}var Bh=null;function Hh(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var zl=null,Ul=null;function $1(s){var l=_s(s);if(l&&(s=l.stateNode)){var d=s[Br]||null;e:switch(s=l.stateNode,l.type){case"input":if(z(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Zr(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var h=d[l];if(h!==s&&h.form===s.form){var v=h[Br]||null;if(!v)throw Error(n(90));z(h,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(l=0;l<d.length;l++)h=d[l],h.form===s.form&&Cu(h)}break e;case"textarea":Oe(s,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&pe(s,!!d.multiple,l,!1)}}}var Fh=!1;function z1(s,l,d){if(Fh)return s(l,d);Fh=!0;try{var h=s(l);return h}finally{if(Fh=!1,(zl!==null||Ul!==null)&&(fm(),zl&&(l=zl,s=Ul,Ul=zl=null,$1(l),s)))for(l=0;l<s.length;l++)$1(s[l])}}function xc(s,l){var d=s.stateNode;if(d===null)return null;var h=d[Br]||null;if(h===null)return null;d=h[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(n(231,l,typeof d));return d}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qh=!1;if(Xn)try{var yc={};Object.defineProperty(yc,"passive",{get:function(){qh=!0}}),window.addEventListener("test",yc,yc),window.removeEventListener("test",yc,yc)}catch{qh=!1}var zs=null,Wh=null,Au=null;function U1(){if(Au)return Au;var s,l=Wh,d=l.length,h,v="value"in zs?zs.value:zs.textContent,w=v.length;for(s=0;s<d&&l[s]===v[s];s++);var D=d-s;for(h=1;h<=D&&l[d-h]===v[w-h];h++);return Au=v.slice(s,1<h?1-h:void 0)}function Du(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function Tu(){return!0}function B1(){return!1}function Jr(s){function l(d,h,v,w,D){this._reactName=d,this._targetInst=v,this.type=h,this.nativeEvent=w,this.target=D,this.currentTarget=null;for(var M in s)s.hasOwnProperty(M)&&(d=s[M],this[M]=d?d(w):w[M]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Tu:B1,this.isPropagationStopped=B1,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Tu)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Tu)},persist:function(){},isPersistent:Tu}),l}var _i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Eu=Jr(_i),vc=p({},_i,{view:0,detail:0}),kP=Jr(vc),Vh,Yh,bc,Ou=p({},vc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gh,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==bc&&(bc&&s.type==="mousemove"?(Vh=s.screenX-bc.screenX,Yh=s.screenY-bc.screenY):Yh=Vh=0,bc=s),Vh)},movementY:function(s){return"movementY"in s?s.movementY:Yh}}),H1=Jr(Ou),SP=p({},Ou,{dataTransfer:0}),CP=Jr(SP),AP=p({},vc,{relatedTarget:0}),Kh=Jr(AP),DP=p({},_i,{animationName:0,elapsedTime:0,pseudoElement:0}),TP=Jr(DP),EP=p({},_i,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),OP=Jr(EP),MP=p({},_i,{data:0}),F1=Jr(MP),PP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_P={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function IP(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=_P[s])?!!l[s]:!1}function Gh(){return IP}var LP=p({},vc,{key:function(s){if(s.key){var l=PP[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=Du(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?RP[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gh,charCode:function(s){return s.type==="keypress"?Du(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Du(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),$P=Jr(LP),zP=p({},Ou,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),q1=Jr(zP),UP=p({},vc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gh}),BP=Jr(UP),HP=p({},_i,{propertyName:0,elapsedTime:0,pseudoElement:0}),FP=Jr(HP),qP=p({},Ou,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),WP=Jr(qP),VP=p({},_i,{newState:0,oldState:0}),YP=Jr(VP),KP=[9,13,27,32],Xh=Xn&&"CompositionEvent"in window,jc=null;Xn&&"documentMode"in document&&(jc=document.documentMode);var GP=Xn&&"TextEvent"in window&&!jc,W1=Xn&&(!Xh||jc&&8<jc&&11>=jc),V1=" ",Y1=!1;function K1(s,l){switch(s){case"keyup":return KP.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function G1(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Bl=!1;function XP(s,l){switch(s){case"compositionend":return G1(l);case"keypress":return l.which!==32?null:(Y1=!0,V1);case"textInput":return s=l.data,s===V1&&Y1?null:s;default:return null}}function ZP(s,l){if(Bl)return s==="compositionend"||!Xh&&K1(s,l)?(s=U1(),Au=Wh=zs=null,Bl=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return W1&&l.locale!=="ko"?null:l.data;default:return null}}var JP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function X1(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!JP[s.type]:l==="textarea"}function Z1(s,l,d,h){zl?Ul?Ul.push(h):Ul=[h]:zl=h,l=bm(l,"onChange"),0<l.length&&(d=new Eu("onChange","change",null,d,h),s.push({event:d,listeners:l}))}var wc=null,Nc=null;function QP(s){PN(s,0)}function Mu(s){var l=Is(s);if(Cu(l))return s}function J1(s,l){if(s==="change")return l}var Q1=!1;if(Xn){var Zh;if(Xn){var Jh="oninput"in document;if(!Jh){var ew=document.createElement("div");ew.setAttribute("oninput","return;"),Jh=typeof ew.oninput=="function"}Zh=Jh}else Zh=!1;Q1=Zh&&(!document.documentMode||9<document.documentMode)}function tw(){wc&&(wc.detachEvent("onpropertychange",rw),Nc=wc=null)}function rw(s){if(s.propertyName==="value"&&Mu(Nc)){var l=[];Z1(l,Nc,s,Hh(s)),z1(QP,l)}}function eR(s,l,d){s==="focusin"?(tw(),wc=l,Nc=d,wc.attachEvent("onpropertychange",rw)):s==="focusout"&&tw()}function tR(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Mu(Nc)}function rR(s,l){if(s==="click")return Mu(l)}function aR(s,l){if(s==="input"||s==="change")return Mu(l)}function nR(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var ha=typeof Object.is=="function"?Object.is:nR;function kc(s,l){if(ha(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var d=Object.keys(s),h=Object.keys(l);if(d.length!==h.length)return!1;for(h=0;h<d.length;h++){var v=d[h];if(!_.call(l,v)||!ha(s[v],l[v]))return!1}return!0}function aw(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function nw(s,l){var d=aw(s);s=0;for(var h;d;){if(d.nodeType===3){if(h=s+d.textContent.length,s<=l&&h>=l)return{node:d,offset:l-s};s=h}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=aw(d)}}function sw(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?sw(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function iw(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var l=Ll(s.document);l instanceof s.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)s=l.contentWindow;else break;l=Ll(s.document)}return l}function Qh(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}var sR=Xn&&"documentMode"in document&&11>=document.documentMode,Hl=null,eg=null,Sc=null,tg=!1;function lw(s,l,d){var h=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;tg||Hl==null||Hl!==Ll(h)||(h=Hl,"selectionStart"in h&&Qh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Sc&&kc(Sc,h)||(Sc=h,h=bm(eg,"onSelect"),0<h.length&&(l=new Eu("onSelect","select",null,l,d),s.push({event:l,listeners:h}),l.target=Hl)))}function Ii(s,l){var d={};return d[s.toLowerCase()]=l.toLowerCase(),d["Webkit"+s]="webkit"+l,d["Moz"+s]="moz"+l,d}var Fl={animationend:Ii("Animation","AnimationEnd"),animationiteration:Ii("Animation","AnimationIteration"),animationstart:Ii("Animation","AnimationStart"),transitionrun:Ii("Transition","TransitionRun"),transitionstart:Ii("Transition","TransitionStart"),transitioncancel:Ii("Transition","TransitionCancel"),transitionend:Ii("Transition","TransitionEnd")},rg={},ow={};Xn&&(ow=document.createElement("div").style,"AnimationEvent"in window||(delete Fl.animationend.animation,delete Fl.animationiteration.animation,delete Fl.animationstart.animation),"TransitionEvent"in window||delete Fl.transitionend.transition);function Li(s){if(rg[s])return rg[s];if(!Fl[s])return s;var l=Fl[s],d;for(d in l)if(l.hasOwnProperty(d)&&d in ow)return rg[s]=l[d];return s}var cw=Li("animationend"),dw=Li("animationiteration"),uw=Li("animationstart"),iR=Li("transitionrun"),lR=Li("transitionstart"),oR=Li("transitioncancel"),mw=Li("transitionend"),fw=new Map,ag="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ag.push("scrollEnd");function on(s,l){fw.set(s,l),Kn(l,[s])}var Pu=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Ia=[],ql=0,ng=0;function Ru(){for(var s=ql,l=ng=ql=0;l<s;){var d=Ia[l];Ia[l++]=null;var h=Ia[l];Ia[l++]=null;var v=Ia[l];Ia[l++]=null;var w=Ia[l];if(Ia[l++]=null,h!==null&&v!==null){var D=h.pending;D===null?v.next=v:(v.next=D.next,D.next=v),h.pending=v}w!==0&&hw(d,v,w)}}function _u(s,l,d,h){Ia[ql++]=s,Ia[ql++]=l,Ia[ql++]=d,Ia[ql++]=h,ng|=h,s.lanes|=h,s=s.alternate,s!==null&&(s.lanes|=h)}function sg(s,l,d,h){return _u(s,l,d,h),Iu(s)}function $i(s,l){return _u(s,null,null,l),Iu(s)}function hw(s,l,d){s.lanes|=d;var h=s.alternate;h!==null&&(h.lanes|=d);for(var v=!1,w=s.return;w!==null;)w.childLanes|=d,h=w.alternate,h!==null&&(h.childLanes|=d),w.tag===22&&(s=w.stateNode,s===null||s._visibility&1||(v=!0)),s=w,w=w.return;return s.tag===3?(w=s.stateNode,v&&l!==null&&(v=31-Je(d),s=w.hiddenUpdates,h=s[v],h===null?s[v]=[l]:h.push(l),l.lane=d|536870912),w):null}function Iu(s){if(50<Yc)throw Yc=0,hp=null,Error(n(185));for(var l=s.return;l!==null;)s=l,l=s.return;return s.tag===3?s.stateNode:null}var Wl={};function cR(s,l,d,h){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ga(s,l,d,h){return new cR(s,l,d,h)}function ig(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Zn(s,l){var d=s.alternate;return d===null?(d=ga(s.tag,l,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=l,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&65011712,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,l=s.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d.refCleanup=s.refCleanup,d}function gw(s,l){s.flags&=65011714;var d=s.alternate;return d===null?(s.childLanes=0,s.lanes=l,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=d.childLanes,s.lanes=d.lanes,s.child=d.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=d.memoizedProps,s.memoizedState=d.memoizedState,s.updateQueue=d.updateQueue,s.type=d.type,l=d.dependencies,s.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),s}function Lu(s,l,d,h,v,w){var D=0;if(h=s,typeof s=="function")ig(s)&&(D=1);else if(typeof s=="string")D=h_(s,d,Z.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case X:return s=ga(31,d,l,v),s.elementType=X,s.lanes=w,s;case b:return zi(d.children,v,w,l);case C:D=8,v|=24;break;case S:return s=ga(12,d,l,v|2),s.elementType=S,s.lanes=w,s;case T:return s=ga(13,d,l,v),s.elementType=T,s.lanes=w,s;case P:return s=ga(19,d,l,v),s.elementType=P,s.lanes=w,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case A:D=10;break e;case N:D=9;break e;case E:D=11;break e;case O:D=14;break e;case U:D=16,h=null;break e}D=29,d=Error(n(130,s===null?"null":typeof s,"")),h=null}return l=ga(D,d,l,v),l.elementType=s,l.type=h,l.lanes=w,l}function zi(s,l,d,h){return s=ga(7,s,h,l),s.lanes=d,s}function lg(s,l,d){return s=ga(6,s,null,l),s.lanes=d,s}function pw(s){var l=ga(18,null,null,0);return l.stateNode=s,l}function og(s,l,d){return l=ga(4,s.children!==null?s.children:[],s.key,l),l.lanes=d,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}var xw=new WeakMap;function La(s,l){if(typeof s=="object"&&s!==null){var d=xw.get(s);return d!==void 0?d:(l={value:s,source:l,stack:Ut(l)},xw.set(s,l),l)}return{value:s,source:l,stack:Ut(l)}}var Vl=[],Yl=0,$u=null,Cc=0,$a=[],za=0,Us=null,En=1,On="";function Jn(s,l){Vl[Yl++]=Cc,Vl[Yl++]=$u,$u=s,Cc=l}function yw(s,l,d){$a[za++]=En,$a[za++]=On,$a[za++]=Us,Us=s;var h=En;s=On;var v=32-Je(h)-1;h&=~(1<<v),d+=1;var w=32-Je(l)+v;if(30<w){var D=v-v%5;w=(h&(1<<D)-1).toString(32),h>>=D,v-=D,En=1<<32-Je(l)+v|d<<v|h,On=w+s}else En=1<<w|d<<v|h,On=s}function cg(s){s.return!==null&&(Jn(s,1),yw(s,1,0))}function dg(s){for(;s===$u;)$u=Vl[--Yl],Vl[Yl]=null,Cc=Vl[--Yl],Vl[Yl]=null;for(;s===Us;)Us=$a[--za],$a[za]=null,On=$a[--za],$a[za]=null,En=$a[--za],$a[za]=null}function vw(s,l){$a[za++]=En,$a[za++]=On,$a[za++]=Us,En=l.id,On=l.overflow,Us=s}var Or=null,Ht=null,yt=!1,Bs=null,Ua=!1,ug=Error(n(519));function Hs(s){var l=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ac(La(l,s)),ug}function bw(s){var l=s.stateNode,d=s.type,h=s.memoizedProps;switch(l[or]=s,l[Br]=h,d){case"dialog":ft("cancel",l),ft("close",l);break;case"iframe":case"object":case"embed":ft("load",l);break;case"video":case"audio":for(d=0;d<Gc.length;d++)ft(Gc[d],l);break;case"source":ft("error",l);break;case"img":case"image":case"link":ft("error",l),ft("load",l);break;case"details":ft("toggle",l);break;case"input":ft("invalid",l),se(l,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":ft("invalid",l);break;case"textarea":ft("invalid",l),He(l,h.value,h.defaultValue,h.children)}d=h.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||h.suppressHydrationWarning===!0||LN(l.textContent,d)?(h.popover!=null&&(ft("beforetoggle",l),ft("toggle",l)),h.onScroll!=null&&ft("scroll",l),h.onScrollEnd!=null&&ft("scrollend",l),h.onClick!=null&&(l.onclick=ln),l=!0):l=!1,l||Hs(s,!0)}function jw(s){for(Or=s.return;Or;)switch(Or.tag){case 5:case 31:case 13:Ua=!1;return;case 27:case 3:Ua=!0;return;default:Or=Or.return}}function Kl(s){if(s!==Or)return!1;if(!yt)return jw(s),yt=!0,!1;var l=s.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=s.type,d=!(d!=="form"&&d!=="button")||Tp(s.type,s.memoizedProps)),d=!d),d&&Ht&&Hs(s),jw(s),l===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));Ht=VN(s)}else if(l===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));Ht=VN(s)}else l===27?(l=Ht,ri(s.type)?(s=Rp,Rp=null,Ht=s):Ht=l):Ht=Or?Ha(s.stateNode.nextSibling):null;return!0}function Ui(){Ht=Or=null,yt=!1}function mg(){var s=Bs;return s!==null&&(ra===null?ra=s:ra.push.apply(ra,s),Bs=null),s}function Ac(s){Bs===null?Bs=[s]:Bs.push(s)}var fg=I(null),Bi=null,Qn=null;function Fs(s,l,d){me(fg,l._currentValue),l._currentValue=d}function es(s){s._currentValue=fg.current,L(fg)}function hg(s,l,d){for(;s!==null;){var h=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,h!==null&&(h.childLanes|=l)):h!==null&&(h.childLanes&l)!==l&&(h.childLanes|=l),s===d)break;s=s.return}}function gg(s,l,d,h){var v=s.child;for(v!==null&&(v.return=s);v!==null;){var w=v.dependencies;if(w!==null){var D=v.child;w=w.firstContext;e:for(;w!==null;){var M=w;w=v;for(var Y=0;Y<l.length;Y++)if(M.context===l[Y]){w.lanes|=d,M=w.alternate,M!==null&&(M.lanes|=d),hg(w.return,d,s),h||(D=null);break e}w=M.next}}else if(v.tag===18){if(D=v.return,D===null)throw Error(n(341));D.lanes|=d,w=D.alternate,w!==null&&(w.lanes|=d),hg(D,d,s),D=null}else D=v.child;if(D!==null)D.return=v;else for(D=v;D!==null;){if(D===s){D=null;break}if(v=D.sibling,v!==null){v.return=D.return,D=v;break}D=D.return}v=D}}function Gl(s,l,d,h){s=null;for(var v=l,w=!1;v!==null;){if(!w){if((v.flags&524288)!==0)w=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var D=v.alternate;if(D===null)throw Error(n(387));if(D=D.memoizedProps,D!==null){var M=v.type;ha(v.pendingProps.value,D.value)||(s!==null?s.push(M):s=[M])}}else if(v===ve.current){if(D=v.alternate,D===null)throw Error(n(387));D.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(s!==null?s.push(ed):s=[ed])}v=v.return}s!==null&&gg(l,s,d,h),l.flags|=262144}function zu(s){for(s=s.firstContext;s!==null;){if(!ha(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Hi(s){Bi=s,Qn=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Mr(s){return ww(Bi,s)}function Uu(s,l){return Bi===null&&Hi(s),ww(s,l)}function ww(s,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},Qn===null){if(s===null)throw Error(n(308));Qn=l,s.dependencies={lanes:0,firstContext:l},s.flags|=524288}else Qn=Qn.next=l;return d}var dR=typeof AbortController<"u"?AbortController:function(){var s=[],l=this.signal={aborted:!1,addEventListener:function(d,h){s.push(h)}};this.abort=function(){l.aborted=!0,s.forEach(function(d){return d()})}},uR=e.unstable_scheduleCallback,mR=e.unstable_NormalPriority,dr={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pg(){return{controller:new dR,data:new Map,refCount:0}}function Dc(s){s.refCount--,s.refCount===0&&uR(mR,function(){s.controller.abort()})}var Tc=null,xg=0,Xl=0,Zl=null;function fR(s,l){if(Tc===null){var d=Tc=[];xg=0,Xl=bp(),Zl={status:"pending",value:void 0,then:function(h){d.push(h)}}}return xg++,l.then(Nw,Nw),l}function Nw(){if(--xg===0&&Tc!==null){Zl!==null&&(Zl.status="fulfilled");var s=Tc;Tc=null,Xl=0,Zl=null;for(var l=0;l<s.length;l++)(0,s[l])()}}function hR(s,l){var d=[],h={status:"pending",value:null,reason:null,then:function(v){d.push(v)}};return s.then(function(){h.status="fulfilled",h.value=l;for(var v=0;v<d.length;v++)(0,d[v])(l)},function(v){for(h.status="rejected",h.reason=v,v=0;v<d.length;v++)(0,d[v])(void 0)}),h}var kw=$.S;$.S=function(s,l){lN=le(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&fR(s,l),kw!==null&&kw(s,l)};var Fi=I(null);function yg(){var s=Fi.current;return s!==null?s:Lt.pooledCache}function Bu(s,l){l===null?me(Fi,Fi.current):me(Fi,l.pool)}function Sw(){var s=yg();return s===null?null:{parent:dr._currentValue,pool:s}}var Jl=Error(n(460)),vg=Error(n(474)),Hu=Error(n(542)),Fu={then:function(){}};function Cw(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Aw(s,l,d){switch(d=s[d],d===void 0?s.push(l):d!==l&&(l.then(ln,ln),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,Tw(s),s;default:if(typeof l.status=="string")l.then(ln,ln);else{if(s=Lt,s!==null&&100<s.shellSuspendCounter)throw Error(n(482));s=l,s.status="pending",s.then(function(h){if(l.status==="pending"){var v=l;v.status="fulfilled",v.value=h}},function(h){if(l.status==="pending"){var v=l;v.status="rejected",v.reason=h}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,Tw(s),s}throw Wi=l,Jl}}function qi(s){try{var l=s._init;return l(s._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(Wi=d,Jl):d}}var Wi=null;function Dw(){if(Wi===null)throw Error(n(459));var s=Wi;return Wi=null,s}function Tw(s){if(s===Jl||s===Hu)throw Error(n(483))}var Ql=null,Ec=0;function qu(s){var l=Ec;return Ec+=1,Ql===null&&(Ql=[]),Aw(Ql,s,l)}function Oc(s,l){l=l.props.ref,s.ref=l!==void 0?l:null}function Wu(s,l){throw l.$$typeof===y?Error(n(525)):(s=Object.prototype.toString.call(l),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s)))}function Ew(s){function l(ae,ee){if(s){var oe=ae.deletions;oe===null?(ae.deletions=[ee],ae.flags|=16):oe.push(ee)}}function d(ae,ee){if(!s)return null;for(;ee!==null;)l(ae,ee),ee=ee.sibling;return null}function h(ae){for(var ee=new Map;ae!==null;)ae.key!==null?ee.set(ae.key,ae):ee.set(ae.index,ae),ae=ae.sibling;return ee}function v(ae,ee){return ae=Zn(ae,ee),ae.index=0,ae.sibling=null,ae}function w(ae,ee,oe){return ae.index=oe,s?(oe=ae.alternate,oe!==null?(oe=oe.index,oe<ee?(ae.flags|=67108866,ee):oe):(ae.flags|=67108866,ee)):(ae.flags|=1048576,ee)}function D(ae){return s&&ae.alternate===null&&(ae.flags|=67108866),ae}function M(ae,ee,oe,Ne){return ee===null||ee.tag!==6?(ee=lg(oe,ae.mode,Ne),ee.return=ae,ee):(ee=v(ee,oe),ee.return=ae,ee)}function Y(ae,ee,oe,Ne){var Ge=oe.type;return Ge===b?je(ae,ee,oe.props.children,Ne,oe.key):ee!==null&&(ee.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===U&&qi(Ge)===ee.type)?(ee=v(ee,oe.props),Oc(ee,oe),ee.return=ae,ee):(ee=Lu(oe.type,oe.key,oe.props,null,ae.mode,Ne),Oc(ee,oe),ee.return=ae,ee)}function ce(ae,ee,oe,Ne){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==oe.containerInfo||ee.stateNode.implementation!==oe.implementation?(ee=og(oe,ae.mode,Ne),ee.return=ae,ee):(ee=v(ee,oe.children||[]),ee.return=ae,ee)}function je(ae,ee,oe,Ne,Ge){return ee===null||ee.tag!==7?(ee=zi(oe,ae.mode,Ne,Ge),ee.return=ae,ee):(ee=v(ee,oe),ee.return=ae,ee)}function Se(ae,ee,oe){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return ee=lg(""+ee,ae.mode,oe),ee.return=ae,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case j:return oe=Lu(ee.type,ee.key,ee.props,null,ae.mode,oe),Oc(oe,ee),oe.return=ae,oe;case k:return ee=og(ee,ae.mode,oe),ee.return=ae,ee;case U:return ee=qi(ee),Se(ae,ee,oe)}if(te(ee)||G(ee))return ee=zi(ee,ae.mode,oe,null),ee.return=ae,ee;if(typeof ee.then=="function")return Se(ae,qu(ee),oe);if(ee.$$typeof===A)return Se(ae,Uu(ae,ee),oe);Wu(ae,ee)}return null}function de(ae,ee,oe,Ne){var Ge=ee!==null?ee.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return Ge!==null?null:M(ae,ee,""+oe,Ne);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case j:return oe.key===Ge?Y(ae,ee,oe,Ne):null;case k:return oe.key===Ge?ce(ae,ee,oe,Ne):null;case U:return oe=qi(oe),de(ae,ee,oe,Ne)}if(te(oe)||G(oe))return Ge!==null?null:je(ae,ee,oe,Ne,null);if(typeof oe.then=="function")return de(ae,ee,qu(oe),Ne);if(oe.$$typeof===A)return de(ae,ee,Uu(ae,oe),Ne);Wu(ae,oe)}return null}function fe(ae,ee,oe,Ne,Ge){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return ae=ae.get(oe)||null,M(ee,ae,""+Ne,Ge);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case j:return ae=ae.get(Ne.key===null?oe:Ne.key)||null,Y(ee,ae,Ne,Ge);case k:return ae=ae.get(Ne.key===null?oe:Ne.key)||null,ce(ee,ae,Ne,Ge);case U:return Ne=qi(Ne),fe(ae,ee,oe,Ne,Ge)}if(te(Ne)||G(Ne))return ae=ae.get(oe)||null,je(ee,ae,Ne,Ge,null);if(typeof Ne.then=="function")return fe(ae,ee,oe,qu(Ne),Ge);if(Ne.$$typeof===A)return fe(ae,ee,oe,Uu(ee,Ne),Ge);Wu(ee,Ne)}return null}function Be(ae,ee,oe,Ne){for(var Ge=null,bt=null,Fe=ee,it=ee=0,xt=null;Fe!==null&&it<oe.length;it++){Fe.index>it?(xt=Fe,Fe=null):xt=Fe.sibling;var jt=de(ae,Fe,oe[it],Ne);if(jt===null){Fe===null&&(Fe=xt);break}s&&Fe&&jt.alternate===null&&l(ae,Fe),ee=w(jt,ee,it),bt===null?Ge=jt:bt.sibling=jt,bt=jt,Fe=xt}if(it===oe.length)return d(ae,Fe),yt&&Jn(ae,it),Ge;if(Fe===null){for(;it<oe.length;it++)Fe=Se(ae,oe[it],Ne),Fe!==null&&(ee=w(Fe,ee,it),bt===null?Ge=Fe:bt.sibling=Fe,bt=Fe);return yt&&Jn(ae,it),Ge}for(Fe=h(Fe);it<oe.length;it++)xt=fe(Fe,ae,it,oe[it],Ne),xt!==null&&(s&&xt.alternate!==null&&Fe.delete(xt.key===null?it:xt.key),ee=w(xt,ee,it),bt===null?Ge=xt:bt.sibling=xt,bt=xt);return s&&Fe.forEach(function(li){return l(ae,li)}),yt&&Jn(ae,it),Ge}function Qe(ae,ee,oe,Ne){if(oe==null)throw Error(n(151));for(var Ge=null,bt=null,Fe=ee,it=ee=0,xt=null,jt=oe.next();Fe!==null&&!jt.done;it++,jt=oe.next()){Fe.index>it?(xt=Fe,Fe=null):xt=Fe.sibling;var li=de(ae,Fe,jt.value,Ne);if(li===null){Fe===null&&(Fe=xt);break}s&&Fe&&li.alternate===null&&l(ae,Fe),ee=w(li,ee,it),bt===null?Ge=li:bt.sibling=li,bt=li,Fe=xt}if(jt.done)return d(ae,Fe),yt&&Jn(ae,it),Ge;if(Fe===null){for(;!jt.done;it++,jt=oe.next())jt=Se(ae,jt.value,Ne),jt!==null&&(ee=w(jt,ee,it),bt===null?Ge=jt:bt.sibling=jt,bt=jt);return yt&&Jn(ae,it),Ge}for(Fe=h(Fe);!jt.done;it++,jt=oe.next())jt=fe(Fe,ae,it,jt.value,Ne),jt!==null&&(s&&jt.alternate!==null&&Fe.delete(jt.key===null?it:jt.key),ee=w(jt,ee,it),bt===null?Ge=jt:bt.sibling=jt,bt=jt);return s&&Fe.forEach(function(S_){return l(ae,S_)}),yt&&Jn(ae,it),Ge}function Rt(ae,ee,oe,Ne){if(typeof oe=="object"&&oe!==null&&oe.type===b&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case j:e:{for(var Ge=oe.key;ee!==null;){if(ee.key===Ge){if(Ge=oe.type,Ge===b){if(ee.tag===7){d(ae,ee.sibling),Ne=v(ee,oe.props.children),Ne.return=ae,ae=Ne;break e}}else if(ee.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===U&&qi(Ge)===ee.type){d(ae,ee.sibling),Ne=v(ee,oe.props),Oc(Ne,oe),Ne.return=ae,ae=Ne;break e}d(ae,ee);break}else l(ae,ee);ee=ee.sibling}oe.type===b?(Ne=zi(oe.props.children,ae.mode,Ne,oe.key),Ne.return=ae,ae=Ne):(Ne=Lu(oe.type,oe.key,oe.props,null,ae.mode,Ne),Oc(Ne,oe),Ne.return=ae,ae=Ne)}return D(ae);case k:e:{for(Ge=oe.key;ee!==null;){if(ee.key===Ge)if(ee.tag===4&&ee.stateNode.containerInfo===oe.containerInfo&&ee.stateNode.implementation===oe.implementation){d(ae,ee.sibling),Ne=v(ee,oe.children||[]),Ne.return=ae,ae=Ne;break e}else{d(ae,ee);break}else l(ae,ee);ee=ee.sibling}Ne=og(oe,ae.mode,Ne),Ne.return=ae,ae=Ne}return D(ae);case U:return oe=qi(oe),Rt(ae,ee,oe,Ne)}if(te(oe))return Be(ae,ee,oe,Ne);if(G(oe)){if(Ge=G(oe),typeof Ge!="function")throw Error(n(150));return oe=Ge.call(oe),Qe(ae,ee,oe,Ne)}if(typeof oe.then=="function")return Rt(ae,ee,qu(oe),Ne);if(oe.$$typeof===A)return Rt(ae,ee,Uu(ae,oe),Ne);Wu(ae,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint"?(oe=""+oe,ee!==null&&ee.tag===6?(d(ae,ee.sibling),Ne=v(ee,oe),Ne.return=ae,ae=Ne):(d(ae,ee),Ne=lg(oe,ae.mode,Ne),Ne.return=ae,ae=Ne),D(ae)):d(ae,ee)}return function(ae,ee,oe,Ne){try{Ec=0;var Ge=Rt(ae,ee,oe,Ne);return Ql=null,Ge}catch(Fe){if(Fe===Jl||Fe===Hu)throw Fe;var bt=ga(29,Fe,null,ae.mode);return bt.lanes=Ne,bt.return=ae,bt}finally{}}}var Vi=Ew(!0),Ow=Ew(!1),qs=!1;function bg(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jg(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Ws(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Vs(s,l,d){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(Nt&2)!==0){var v=h.pending;return v===null?l.next=l:(l.next=v.next,v.next=l),h.pending=l,l=Iu(s),hw(s,null,d),l}return _u(s,h,l,d),Iu(s)}function Mc(s,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var h=l.lanes;h&=s.pendingLanes,d|=h,l.lanes=d,ma(s,d)}}function wg(s,l){var d=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,d===h)){var v=null,w=null;if(d=d.firstBaseUpdate,d!==null){do{var D={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};w===null?v=w=D:w=w.next=D,d=d.next}while(d!==null);w===null?v=w=l:w=w.next=l}else v=w=l;d={baseState:h.baseState,firstBaseUpdate:v,lastBaseUpdate:w,shared:h.shared,callbacks:h.callbacks},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=l:s.next=l,d.lastBaseUpdate=l}var Ng=!1;function Pc(){if(Ng){var s=Zl;if(s!==null)throw s}}function Rc(s,l,d,h){Ng=!1;var v=s.updateQueue;qs=!1;var w=v.firstBaseUpdate,D=v.lastBaseUpdate,M=v.shared.pending;if(M!==null){v.shared.pending=null;var Y=M,ce=Y.next;Y.next=null,D===null?w=ce:D.next=ce,D=Y;var je=s.alternate;je!==null&&(je=je.updateQueue,M=je.lastBaseUpdate,M!==D&&(M===null?je.firstBaseUpdate=ce:M.next=ce,je.lastBaseUpdate=Y))}if(w!==null){var Se=v.baseState;D=0,je=ce=Y=null,M=w;do{var de=M.lane&-536870913,fe=de!==M.lane;if(fe?(pt&de)===de:(h&de)===de){de!==0&&de===Xl&&(Ng=!0),je!==null&&(je=je.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var Be=s,Qe=M;de=l;var Rt=d;switch(Qe.tag){case 1:if(Be=Qe.payload,typeof Be=="function"){Se=Be.call(Rt,Se,de);break e}Se=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=Qe.payload,de=typeof Be=="function"?Be.call(Rt,Se,de):Be,de==null)break e;Se=p({},Se,de);break e;case 2:qs=!0}}de=M.callback,de!==null&&(s.flags|=64,fe&&(s.flags|=8192),fe=v.callbacks,fe===null?v.callbacks=[de]:fe.push(de))}else fe={lane:de,tag:M.tag,payload:M.payload,callback:M.callback,next:null},je===null?(ce=je=fe,Y=Se):je=je.next=fe,D|=de;if(M=M.next,M===null){if(M=v.shared.pending,M===null)break;fe=M,M=fe.next,fe.next=null,v.lastBaseUpdate=fe,v.shared.pending=null}}while(!0);je===null&&(Y=Se),v.baseState=Y,v.firstBaseUpdate=ce,v.lastBaseUpdate=je,w===null&&(v.shared.lanes=0),Zs|=D,s.lanes=D,s.memoizedState=Se}}function Mw(s,l){if(typeof s!="function")throw Error(n(191,s));s.call(l)}function Pw(s,l){var d=s.callbacks;if(d!==null)for(s.callbacks=null,s=0;s<d.length;s++)Mw(d[s],l)}var eo=I(null),Vu=I(0);function Rw(s,l){s=cs,me(Vu,s),me(eo,l),cs=s|l.baseLanes}function kg(){me(Vu,cs),me(eo,eo.current)}function Sg(){cs=Vu.current,L(eo),L(Vu)}var pa=I(null),Ba=null;function Ys(s){var l=s.alternate;me(nr,nr.current&1),me(pa,s),Ba===null&&(l===null||eo.current!==null||l.memoizedState!==null)&&(Ba=s)}function Cg(s){me(nr,nr.current),me(pa,s),Ba===null&&(Ba=s)}function _w(s){s.tag===22?(me(nr,nr.current),me(pa,s),Ba===null&&(Ba=s)):Ks()}function Ks(){me(nr,nr.current),me(pa,pa.current)}function xa(s){L(pa),Ba===s&&(Ba=null),L(nr)}var nr=I(0);function Yu(s){for(var l=s;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||Mp(d)||Pp(d)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var ts=0,st=null,Mt=null,ur=null,Ku=!1,to=!1,Yi=!1,Gu=0,_c=0,ro=null,gR=0;function er(){throw Error(n(321))}function Ag(s,l){if(l===null)return!1;for(var d=0;d<l.length&&d<s.length;d++)if(!ha(s[d],l[d]))return!1;return!0}function Dg(s,l,d,h,v,w){return ts=w,st=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,$.H=s===null||s.memoizedState===null?y2:Fg,Yi=!1,w=d(h,v),Yi=!1,to&&(w=Lw(l,d,h,v)),Iw(s),w}function Iw(s){$.H=$c;var l=Mt!==null&&Mt.next!==null;if(ts=0,ur=Mt=st=null,Ku=!1,_c=0,ro=null,l)throw Error(n(300));s===null||mr||(s=s.dependencies,s!==null&&zu(s)&&(mr=!0))}function Lw(s,l,d,h){st=s;var v=0;do{if(to&&(ro=null),_c=0,to=!1,25<=v)throw Error(n(301));if(v+=1,ur=Mt=null,s.updateQueue!=null){var w=s.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}$.H=v2,w=l(d,h)}while(to);return w}function pR(){var s=$.H,l=s.useState()[0];return l=typeof l.then=="function"?Ic(l):l,s=s.useState()[0],(Mt!==null?Mt.memoizedState:null)!==s&&(st.flags|=1024),l}function Tg(){var s=Gu!==0;return Gu=0,s}function Eg(s,l,d){l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~d}function Og(s){if(Ku){for(s=s.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}Ku=!1}ts=0,ur=Mt=st=null,to=!1,_c=Gu=0,ro=null}function Vr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ur===null?st.memoizedState=ur=s:ur=ur.next=s,ur}function sr(){if(Mt===null){var s=st.alternate;s=s!==null?s.memoizedState:null}else s=Mt.next;var l=ur===null?st.memoizedState:ur.next;if(l!==null)ur=l,Mt=s;else{if(s===null)throw st.alternate===null?Error(n(467)):Error(n(310));Mt=s,s={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},ur===null?st.memoizedState=ur=s:ur=ur.next=s}return ur}function Xu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ic(s){var l=_c;return _c+=1,ro===null&&(ro=[]),s=Aw(ro,s,l),l=st,(ur===null?l.memoizedState:ur.next)===null&&(l=l.alternate,$.H=l===null||l.memoizedState===null?y2:Fg),s}function Zu(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Ic(s);if(s.$$typeof===A)return Mr(s)}throw Error(n(438,String(s)))}function Mg(s){var l=null,d=st.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var h=st.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(l={data:h.data.map(function(v){return v.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=Xu(),st.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(s),h=0;h<s;h++)d[h]=ie;return l.index++,d}function rs(s,l){return typeof l=="function"?l(s):l}function Ju(s){var l=sr();return Pg(l,Mt,s)}function Pg(s,l,d){var h=s.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=d;var v=s.baseQueue,w=h.pending;if(w!==null){if(v!==null){var D=v.next;v.next=w.next,w.next=D}l.baseQueue=v=w,h.pending=null}if(w=s.baseState,v===null)s.memoizedState=w;else{l=v.next;var M=D=null,Y=null,ce=l,je=!1;do{var Se=ce.lane&-536870913;if(Se!==ce.lane?(pt&Se)===Se:(ts&Se)===Se){var de=ce.revertLane;if(de===0)Y!==null&&(Y=Y.next={lane:0,revertLane:0,gesture:null,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),Se===Xl&&(je=!0);else if((ts&de)===de){ce=ce.next,de===Xl&&(je=!0);continue}else Se={lane:0,revertLane:ce.revertLane,gesture:null,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},Y===null?(M=Y=Se,D=w):Y=Y.next=Se,st.lanes|=de,Zs|=de;Se=ce.action,Yi&&d(w,Se),w=ce.hasEagerState?ce.eagerState:d(w,Se)}else de={lane:Se,revertLane:ce.revertLane,gesture:ce.gesture,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},Y===null?(M=Y=de,D=w):Y=Y.next=de,st.lanes|=Se,Zs|=Se;ce=ce.next}while(ce!==null&&ce!==l);if(Y===null?D=w:Y.next=M,!ha(w,s.memoizedState)&&(mr=!0,je&&(d=Zl,d!==null)))throw d;s.memoizedState=w,s.baseState=D,s.baseQueue=Y,h.lastRenderedState=w}return v===null&&(h.lanes=0),[s.memoizedState,h.dispatch]}function Rg(s){var l=sr(),d=l.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=s;var h=d.dispatch,v=d.pending,w=l.memoizedState;if(v!==null){d.pending=null;var D=v=v.next;do w=s(w,D.action),D=D.next;while(D!==v);ha(w,l.memoizedState)||(mr=!0),l.memoizedState=w,l.baseQueue===null&&(l.baseState=w),d.lastRenderedState=w}return[w,h]}function $w(s,l,d){var h=st,v=sr(),w=yt;if(w){if(d===void 0)throw Error(n(407));d=d()}else d=l();var D=!ha((Mt||v).memoizedState,d);if(D&&(v.memoizedState=d,mr=!0),v=v.queue,Lg(Bw.bind(null,h,v,s),[s]),v.getSnapshot!==l||D||ur!==null&&ur.memoizedState.tag&1){if(h.flags|=2048,ao(9,{destroy:void 0},Uw.bind(null,h,v,d,l),null),Lt===null)throw Error(n(349));w||(ts&127)!==0||zw(h,l,d)}return d}function zw(s,l,d){s.flags|=16384,s={getSnapshot:l,value:d},l=st.updateQueue,l===null?(l=Xu(),st.updateQueue=l,l.stores=[s]):(d=l.stores,d===null?l.stores=[s]:d.push(s))}function Uw(s,l,d,h){l.value=d,l.getSnapshot=h,Hw(l)&&Fw(s)}function Bw(s,l,d){return d(function(){Hw(l)&&Fw(s)})}function Hw(s){var l=s.getSnapshot;s=s.value;try{var d=l();return!ha(s,d)}catch{return!0}}function Fw(s){var l=$i(s,2);l!==null&&aa(l,s,2)}function _g(s){var l=Vr();if(typeof s=="function"){var d=s;if(s=d(),Yi){Re(!0);try{d()}finally{Re(!1)}}}return l.memoizedState=l.baseState=s,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:s},l}function qw(s,l,d,h){return s.baseState=d,Pg(s,Mt,typeof h=="function"?h:rs)}function xR(s,l,d,h,v){if(tm(s))throw Error(n(485));if(s=l.action,s!==null){var w={payload:v,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){w.listeners.push(D)}};$.T!==null?d(!0):w.isTransition=!1,h(w),d=l.pending,d===null?(w.next=l.pending=w,Ww(l,w)):(w.next=d.next,l.pending=d.next=w)}}function Ww(s,l){var d=l.action,h=l.payload,v=s.state;if(l.isTransition){var w=$.T,D={};$.T=D;try{var M=d(v,h),Y=$.S;Y!==null&&Y(D,M),Vw(s,l,M)}catch(ce){Ig(s,l,ce)}finally{w!==null&&D.types!==null&&(w.types=D.types),$.T=w}}else try{w=d(v,h),Vw(s,l,w)}catch(ce){Ig(s,l,ce)}}function Vw(s,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(h){Yw(s,l,h)},function(h){return Ig(s,l,h)}):Yw(s,l,d)}function Yw(s,l,d){l.status="fulfilled",l.value=d,Kw(l),s.state=d,l=s.pending,l!==null&&(d=l.next,d===l?s.pending=null:(d=d.next,l.next=d,Ww(s,d)))}function Ig(s,l,d){var h=s.pending;if(s.pending=null,h!==null){h=h.next;do l.status="rejected",l.reason=d,Kw(l),l=l.next;while(l!==h)}s.action=null}function Kw(s){s=s.listeners;for(var l=0;l<s.length;l++)(0,s[l])()}function Gw(s,l){return l}function Xw(s,l){if(yt){var d=Lt.formState;if(d!==null){e:{var h=st;if(yt){if(Ht){t:{for(var v=Ht,w=Ua;v.nodeType!==8;){if(!w){v=null;break t}if(v=Ha(v.nextSibling),v===null){v=null;break t}}w=v.data,v=w==="F!"||w==="F"?v:null}if(v){Ht=Ha(v.nextSibling),h=v.data==="F!";break e}}Hs(h)}h=!1}h&&(l=d[0])}}return d=Vr(),d.memoizedState=d.baseState=l,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gw,lastRenderedState:l},d.queue=h,d=g2.bind(null,st,h),h.dispatch=d,h=_g(!1),w=Hg.bind(null,st,!1,h.queue),h=Vr(),v={state:l,dispatch:null,action:s,pending:null},h.queue=v,d=xR.bind(null,st,v,w,d),v.dispatch=d,h.memoizedState=s,[l,d,!1]}function Zw(s){var l=sr();return Jw(l,Mt,s)}function Jw(s,l,d){if(l=Pg(s,l,Gw)[0],s=Ju(rs)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var h=Ic(l)}catch(D){throw D===Jl?Hu:D}else h=l;l=sr();var v=l.queue,w=v.dispatch;return d!==l.memoizedState&&(st.flags|=2048,ao(9,{destroy:void 0},yR.bind(null,v,d),null)),[h,w,s]}function yR(s,l){s.action=l}function Qw(s){var l=sr(),d=Mt;if(d!==null)return Jw(l,d,s);sr(),l=l.memoizedState,d=sr();var h=d.queue.dispatch;return d.memoizedState=s,[l,h,!1]}function ao(s,l,d,h){return s={tag:s,create:d,deps:h,inst:l,next:null},l=st.updateQueue,l===null&&(l=Xu(),st.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=s.next=s:(h=d.next,d.next=s,s.next=h,l.lastEffect=s),s}function e2(){return sr().memoizedState}function Qu(s,l,d,h){var v=Vr();st.flags|=s,v.memoizedState=ao(1|l,{destroy:void 0},d,h===void 0?null:h)}function em(s,l,d,h){var v=sr();h=h===void 0?null:h;var w=v.memoizedState.inst;Mt!==null&&h!==null&&Ag(h,Mt.memoizedState.deps)?v.memoizedState=ao(l,w,d,h):(st.flags|=s,v.memoizedState=ao(1|l,w,d,h))}function t2(s,l){Qu(8390656,8,s,l)}function Lg(s,l){em(2048,8,s,l)}function vR(s){st.flags|=4;var l=st.updateQueue;if(l===null)l=Xu(),st.updateQueue=l,l.events=[s];else{var d=l.events;d===null?l.events=[s]:d.push(s)}}function r2(s){var l=sr().memoizedState;return vR({ref:l,nextImpl:s}),function(){if((Nt&2)!==0)throw Error(n(440));return l.impl.apply(void 0,arguments)}}function a2(s,l){return em(4,2,s,l)}function n2(s,l){return em(4,4,s,l)}function s2(s,l){if(typeof l=="function"){s=s();var d=l(s);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function i2(s,l,d){d=d!=null?d.concat([s]):null,em(4,4,s2.bind(null,l,s),d)}function $g(){}function l2(s,l){var d=sr();l=l===void 0?null:l;var h=d.memoizedState;return l!==null&&Ag(l,h[1])?h[0]:(d.memoizedState=[s,l],s)}function o2(s,l){var d=sr();l=l===void 0?null:l;var h=d.memoizedState;if(l!==null&&Ag(l,h[1]))return h[0];if(h=s(),Yi){Re(!0);try{s()}finally{Re(!1)}}return d.memoizedState=[h,l],h}function zg(s,l,d){return d===void 0||(ts&1073741824)!==0&&(pt&261930)===0?s.memoizedState=l:(s.memoizedState=d,s=cN(),st.lanes|=s,Zs|=s,d)}function c2(s,l,d,h){return ha(d,l)?d:eo.current!==null?(s=zg(s,d,h),ha(s,l)||(mr=!0),s):(ts&42)===0||(ts&1073741824)!==0&&(pt&261930)===0?(mr=!0,s.memoizedState=d):(s=cN(),st.lanes|=s,Zs|=s,l)}function d2(s,l,d,h,v){var w=V.p;V.p=w!==0&&8>w?w:8;var D=$.T,M={};$.T=M,Hg(s,!1,l,d);try{var Y=v(),ce=$.S;if(ce!==null&&ce(M,Y),Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var je=hR(Y,h);Lc(s,l,je,ba(s))}else Lc(s,l,h,ba(s))}catch(Se){Lc(s,l,{then:function(){},status:"rejected",reason:Se},ba())}finally{V.p=w,D!==null&&M.types!==null&&(D.types=M.types),$.T=D}}function bR(){}function Ug(s,l,d,h){if(s.tag!==5)throw Error(n(476));var v=u2(s).queue;d2(s,v,l,re,d===null?bR:function(){return m2(s),d(h)})}function u2(s){var l=s.memoizedState;if(l!==null)return l;l={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:re},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:d},next:null},s.memoizedState=l,s=s.alternate,s!==null&&(s.memoizedState=l),l}function m2(s){var l=u2(s);l.next===null&&(l=s.alternate.memoizedState),Lc(s,l.next.queue,{},ba())}function Bg(){return Mr(ed)}function f2(){return sr().memoizedState}function h2(){return sr().memoizedState}function jR(s){for(var l=s.return;l!==null;){switch(l.tag){case 24:case 3:var d=ba();s=Ws(d);var h=Vs(l,s,d);h!==null&&(aa(h,l,d),Mc(h,l,d)),l={cache:pg()},s.payload=l;return}l=l.return}}function wR(s,l,d){var h=ba();d={lane:h,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},tm(s)?p2(l,d):(d=sg(s,l,d,h),d!==null&&(aa(d,s,h),x2(d,l,h)))}function g2(s,l,d){var h=ba();Lc(s,l,d,h)}function Lc(s,l,d,h){var v={lane:h,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(tm(s))p2(l,v);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=l.lastRenderedReducer,w!==null))try{var D=l.lastRenderedState,M=w(D,d);if(v.hasEagerState=!0,v.eagerState=M,ha(M,D))return _u(s,l,v,0),Lt===null&&Ru(),!1}catch{}finally{}if(d=sg(s,l,v,h),d!==null)return aa(d,s,h),x2(d,l,h),!0}return!1}function Hg(s,l,d,h){if(h={lane:2,revertLane:bp(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},tm(s)){if(l)throw Error(n(479))}else l=sg(s,d,h,2),l!==null&&aa(l,s,2)}function tm(s){var l=s.alternate;return s===st||l!==null&&l===st}function p2(s,l){to=Ku=!0;var d=s.pending;d===null?l.next=l:(l.next=d.next,d.next=l),s.pending=l}function x2(s,l,d){if((d&4194048)!==0){var h=l.lanes;h&=s.pendingLanes,d|=h,l.lanes=d,ma(s,d)}}var $c={readContext:Mr,use:Zu,useCallback:er,useContext:er,useEffect:er,useImperativeHandle:er,useLayoutEffect:er,useInsertionEffect:er,useMemo:er,useReducer:er,useRef:er,useState:er,useDebugValue:er,useDeferredValue:er,useTransition:er,useSyncExternalStore:er,useId:er,useHostTransitionStatus:er,useFormState:er,useActionState:er,useOptimistic:er,useMemoCache:er,useCacheRefresh:er};$c.useEffectEvent=er;var y2={readContext:Mr,use:Zu,useCallback:function(s,l){return Vr().memoizedState=[s,l===void 0?null:l],s},useContext:Mr,useEffect:t2,useImperativeHandle:function(s,l,d){d=d!=null?d.concat([s]):null,Qu(4194308,4,s2.bind(null,l,s),d)},useLayoutEffect:function(s,l){return Qu(4194308,4,s,l)},useInsertionEffect:function(s,l){Qu(4,2,s,l)},useMemo:function(s,l){var d=Vr();l=l===void 0?null:l;var h=s();if(Yi){Re(!0);try{s()}finally{Re(!1)}}return d.memoizedState=[h,l],h},useReducer:function(s,l,d){var h=Vr();if(d!==void 0){var v=d(l);if(Yi){Re(!0);try{d(l)}finally{Re(!1)}}}else v=l;return h.memoizedState=h.baseState=v,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:v},h.queue=s,s=s.dispatch=wR.bind(null,st,s),[h.memoizedState,s]},useRef:function(s){var l=Vr();return s={current:s},l.memoizedState=s},useState:function(s){s=_g(s);var l=s.queue,d=g2.bind(null,st,l);return l.dispatch=d,[s.memoizedState,d]},useDebugValue:$g,useDeferredValue:function(s,l){var d=Vr();return zg(d,s,l)},useTransition:function(){var s=_g(!1);return s=d2.bind(null,st,s.queue,!0,!1),Vr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,l,d){var h=st,v=Vr();if(yt){if(d===void 0)throw Error(n(407));d=d()}else{if(d=l(),Lt===null)throw Error(n(349));(pt&127)!==0||zw(h,l,d)}v.memoizedState=d;var w={value:d,getSnapshot:l};return v.queue=w,t2(Bw.bind(null,h,w,s),[s]),h.flags|=2048,ao(9,{destroy:void 0},Uw.bind(null,h,w,d,l),null),d},useId:function(){var s=Vr(),l=Lt.identifierPrefix;if(yt){var d=On,h=En;d=(h&~(1<<32-Je(h)-1)).toString(32)+d,l="_"+l+"R_"+d,d=Gu++,0<d&&(l+="H"+d.toString(32)),l+="_"}else d=gR++,l="_"+l+"r_"+d.toString(32)+"_";return s.memoizedState=l},useHostTransitionStatus:Bg,useFormState:Xw,useActionState:Xw,useOptimistic:function(s){var l=Vr();l.memoizedState=l.baseState=s;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=Hg.bind(null,st,!0,d),d.dispatch=l,[s,l]},useMemoCache:Mg,useCacheRefresh:function(){return Vr().memoizedState=jR.bind(null,st)},useEffectEvent:function(s){var l=Vr(),d={impl:s};return l.memoizedState=d,function(){if((Nt&2)!==0)throw Error(n(440));return d.impl.apply(void 0,arguments)}}},Fg={readContext:Mr,use:Zu,useCallback:l2,useContext:Mr,useEffect:Lg,useImperativeHandle:i2,useInsertionEffect:a2,useLayoutEffect:n2,useMemo:o2,useReducer:Ju,useRef:e2,useState:function(){return Ju(rs)},useDebugValue:$g,useDeferredValue:function(s,l){var d=sr();return c2(d,Mt.memoizedState,s,l)},useTransition:function(){var s=Ju(rs)[0],l=sr().memoizedState;return[typeof s=="boolean"?s:Ic(s),l]},useSyncExternalStore:$w,useId:f2,useHostTransitionStatus:Bg,useFormState:Zw,useActionState:Zw,useOptimistic:function(s,l){var d=sr();return qw(d,Mt,s,l)},useMemoCache:Mg,useCacheRefresh:h2};Fg.useEffectEvent=r2;var v2={readContext:Mr,use:Zu,useCallback:l2,useContext:Mr,useEffect:Lg,useImperativeHandle:i2,useInsertionEffect:a2,useLayoutEffect:n2,useMemo:o2,useReducer:Rg,useRef:e2,useState:function(){return Rg(rs)},useDebugValue:$g,useDeferredValue:function(s,l){var d=sr();return Mt===null?zg(d,s,l):c2(d,Mt.memoizedState,s,l)},useTransition:function(){var s=Rg(rs)[0],l=sr().memoizedState;return[typeof s=="boolean"?s:Ic(s),l]},useSyncExternalStore:$w,useId:f2,useHostTransitionStatus:Bg,useFormState:Qw,useActionState:Qw,useOptimistic:function(s,l){var d=sr();return Mt!==null?qw(d,Mt,s,l):(d.baseState=s,[s,d.queue.dispatch])},useMemoCache:Mg,useCacheRefresh:h2};v2.useEffectEvent=r2;function qg(s,l,d,h){l=s.memoizedState,d=d(h,l),d=d==null?l:p({},l,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var Wg={enqueueSetState:function(s,l,d){s=s._reactInternals;var h=ba(),v=Ws(h);v.payload=l,d!=null&&(v.callback=d),l=Vs(s,v,h),l!==null&&(aa(l,s,h),Mc(l,s,h))},enqueueReplaceState:function(s,l,d){s=s._reactInternals;var h=ba(),v=Ws(h);v.tag=1,v.payload=l,d!=null&&(v.callback=d),l=Vs(s,v,h),l!==null&&(aa(l,s,h),Mc(l,s,h))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var d=ba(),h=Ws(d);h.tag=2,l!=null&&(h.callback=l),l=Vs(s,h,d),l!==null&&(aa(l,s,d),Mc(l,s,d))}};function b2(s,l,d,h,v,w,D){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,w,D):l.prototype&&l.prototype.isPureReactComponent?!kc(d,h)||!kc(v,w):!0}function j2(s,l,d,h){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,h),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,h),l.state!==s&&Wg.enqueueReplaceState(l,l.state,null)}function Ki(s,l){var d=l;if("ref"in l){d={};for(var h in l)h!=="ref"&&(d[h]=l[h])}if(s=s.defaultProps){d===l&&(d=p({},d));for(var v in s)d[v]===void 0&&(d[v]=s[v])}return d}function w2(s){Pu(s)}function N2(s){console.error(s)}function k2(s){Pu(s)}function rm(s,l){try{var d=s.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(h){setTimeout(function(){throw h})}}function S2(s,l,d){try{var h=s.onCaughtError;h(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Vg(s,l,d){return d=Ws(d),d.tag=3,d.payload={element:null},d.callback=function(){rm(s,l)},d}function C2(s){return s=Ws(s),s.tag=3,s}function A2(s,l,d,h){var v=d.type.getDerivedStateFromError;if(typeof v=="function"){var w=h.value;s.payload=function(){return v(w)},s.callback=function(){S2(l,d,h)}}var D=d.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(s.callback=function(){S2(l,d,h),typeof v!="function"&&(Js===null?Js=new Set([this]):Js.add(this));var M=h.stack;this.componentDidCatch(h.value,{componentStack:M!==null?M:""})})}function NR(s,l,d,h,v){if(d.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(l=d.alternate,l!==null&&Gl(l,d,v,!0),d=pa.current,d!==null){switch(d.tag){case 31:case 13:return Ba===null?hm():d.alternate===null&&tr===0&&(tr=3),d.flags&=-257,d.flags|=65536,d.lanes=v,h===Fu?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([h]):l.add(h),xp(s,h,v)),!1;case 22:return d.flags|=65536,h===Fu?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([h])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([h]):d.add(h)),xp(s,h,v)),!1}throw Error(n(435,d.tag))}return xp(s,h,v),hm(),!1}if(yt)return l=pa.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=v,h!==ug&&(s=Error(n(422),{cause:h}),Ac(La(s,d)))):(h!==ug&&(l=Error(n(423),{cause:h}),Ac(La(l,d))),s=s.current.alternate,s.flags|=65536,v&=-v,s.lanes|=v,h=La(h,d),v=Vg(s.stateNode,h,v),wg(s,v),tr!==4&&(tr=2)),!1;var w=Error(n(520),{cause:h});if(w=La(w,d),Vc===null?Vc=[w]:Vc.push(w),tr!==4&&(tr=2),l===null)return!0;h=La(h,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,s=v&-v,d.lanes|=s,s=Vg(d.stateNode,h,s),wg(d,s),!1;case 1:if(l=d.type,w=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Js===null||!Js.has(w))))return d.flags|=65536,v&=-v,d.lanes|=v,v=C2(v),A2(v,s,d,h),wg(d,v),!1}d=d.return}while(d!==null);return!1}var Yg=Error(n(461)),mr=!1;function Pr(s,l,d,h){l.child=s===null?Ow(l,null,d,h):Vi(l,s.child,d,h)}function D2(s,l,d,h,v){d=d.render;var w=l.ref;if("ref"in h){var D={};for(var M in h)M!=="ref"&&(D[M]=h[M])}else D=h;return Hi(l),h=Dg(s,l,d,D,w,v),M=Tg(),s!==null&&!mr?(Eg(s,l,v),as(s,l,v)):(yt&&M&&cg(l),l.flags|=1,Pr(s,l,h,v),l.child)}function T2(s,l,d,h,v){if(s===null){var w=d.type;return typeof w=="function"&&!ig(w)&&w.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=w,E2(s,l,w,h,v)):(s=Lu(d.type,null,h,l,l.mode,v),s.ref=l.ref,s.return=l,l.child=s)}if(w=s.child,!tp(s,v)){var D=w.memoizedProps;if(d=d.compare,d=d!==null?d:kc,d(D,h)&&s.ref===l.ref)return as(s,l,v)}return l.flags|=1,s=Zn(w,h),s.ref=l.ref,s.return=l,l.child=s}function E2(s,l,d,h,v){if(s!==null){var w=s.memoizedProps;if(kc(w,h)&&s.ref===l.ref)if(mr=!1,l.pendingProps=h=w,tp(s,v))(s.flags&131072)!==0&&(mr=!0);else return l.lanes=s.lanes,as(s,l,v)}return Kg(s,l,d,h,v)}function O2(s,l,d,h){var v=h.children,w=s!==null?s.memoizedState:null;if(s===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((l.flags&128)!==0){if(w=w!==null?w.baseLanes|d:d,s!==null){for(h=l.child=s.child,v=0;h!==null;)v=v|h.lanes|h.childLanes,h=h.sibling;h=v&~w}else h=0,l.child=null;return M2(s,l,w,d,h)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},s!==null&&Bu(l,w!==null?w.cachePool:null),w!==null?Rw(l,w):kg(),_w(l);else return h=l.lanes=536870912,M2(s,l,w!==null?w.baseLanes|d:d,d,h)}else w!==null?(Bu(l,w.cachePool),Rw(l,w),Ks(),l.memoizedState=null):(s!==null&&Bu(l,null),kg(),Ks());return Pr(s,l,v,d),l.child}function zc(s,l){return s!==null&&s.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function M2(s,l,d,h,v){var w=yg();return w=w===null?null:{parent:dr._currentValue,pool:w},l.memoizedState={baseLanes:d,cachePool:w},s!==null&&Bu(l,null),kg(),_w(l),s!==null&&Gl(s,l,h,!0),l.childLanes=v,null}function am(s,l){return l=sm({mode:l.mode,children:l.children},s.mode),l.ref=s.ref,s.child=l,l.return=s,l}function P2(s,l,d){return Vi(l,s.child,null,d),s=am(l,l.pendingProps),s.flags|=2,xa(l),l.memoizedState=null,s}function kR(s,l,d){var h=l.pendingProps,v=(l.flags&128)!==0;if(l.flags&=-129,s===null){if(yt){if(h.mode==="hidden")return s=am(l,h),l.lanes=536870912,zc(null,s);if(Cg(l),(s=Ht)?(s=WN(s,Ua),s=s!==null&&s.data==="&"?s:null,s!==null&&(l.memoizedState={dehydrated:s,treeContext:Us!==null?{id:En,overflow:On}:null,retryLane:536870912,hydrationErrors:null},d=pw(s),d.return=l,l.child=d,Or=l,Ht=null)):s=null,s===null)throw Hs(l);return l.lanes=536870912,null}return am(l,h)}var w=s.memoizedState;if(w!==null){var D=w.dehydrated;if(Cg(l),v)if(l.flags&256)l.flags&=-257,l=P2(s,l,d);else if(l.memoizedState!==null)l.child=s.child,l.flags|=128,l=null;else throw Error(n(558));else if(mr||Gl(s,l,d,!1),v=(d&s.childLanes)!==0,mr||v){if(h=Lt,h!==null&&(D=Ml(h,d),D!==0&&D!==w.retryLane))throw w.retryLane=D,$i(s,D),aa(h,s,D),Yg;hm(),l=P2(s,l,d)}else s=w.treeContext,Ht=Ha(D.nextSibling),Or=l,yt=!0,Bs=null,Ua=!1,s!==null&&vw(l,s),l=am(l,h),l.flags|=4096;return l}return s=Zn(s.child,{mode:h.mode,children:h.children}),s.ref=l.ref,l.child=s,s.return=l,s}function nm(s,l){var d=l.ref;if(d===null)s!==null&&s.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(n(284));(s===null||s.ref!==d)&&(l.flags|=4194816)}}function Kg(s,l,d,h,v){return Hi(l),d=Dg(s,l,d,h,void 0,v),h=Tg(),s!==null&&!mr?(Eg(s,l,v),as(s,l,v)):(yt&&h&&cg(l),l.flags|=1,Pr(s,l,d,v),l.child)}function R2(s,l,d,h,v,w){return Hi(l),l.updateQueue=null,d=Lw(l,h,d,v),Iw(s),h=Tg(),s!==null&&!mr?(Eg(s,l,w),as(s,l,w)):(yt&&h&&cg(l),l.flags|=1,Pr(s,l,d,w),l.child)}function _2(s,l,d,h,v){if(Hi(l),l.stateNode===null){var w=Wl,D=d.contextType;typeof D=="object"&&D!==null&&(w=Mr(D)),w=new d(h,w),l.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Wg,l.stateNode=w,w._reactInternals=l,w=l.stateNode,w.props=h,w.state=l.memoizedState,w.refs={},bg(l),D=d.contextType,w.context=typeof D=="object"&&D!==null?Mr(D):Wl,w.state=l.memoizedState,D=d.getDerivedStateFromProps,typeof D=="function"&&(qg(l,d,D,h),w.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(D=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),D!==w.state&&Wg.enqueueReplaceState(w,w.state,null),Rc(l,h,w,v),Pc(),w.state=l.memoizedState),typeof w.componentDidMount=="function"&&(l.flags|=4194308),h=!0}else if(s===null){w=l.stateNode;var M=l.memoizedProps,Y=Ki(d,M);w.props=Y;var ce=w.context,je=d.contextType;D=Wl,typeof je=="object"&&je!==null&&(D=Mr(je));var Se=d.getDerivedStateFromProps;je=typeof Se=="function"||typeof w.getSnapshotBeforeUpdate=="function",M=l.pendingProps!==M,je||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(M||ce!==D)&&j2(l,w,h,D),qs=!1;var de=l.memoizedState;w.state=de,Rc(l,h,w,v),Pc(),ce=l.memoizedState,M||de!==ce||qs?(typeof Se=="function"&&(qg(l,d,Se,h),ce=l.memoizedState),(Y=qs||b2(l,d,Y,h,de,ce,D))?(je||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(l.flags|=4194308)):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=h,l.memoizedState=ce),w.props=h,w.state=ce,w.context=D,h=Y):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),h=!1)}else{w=l.stateNode,jg(s,l),D=l.memoizedProps,je=Ki(d,D),w.props=je,Se=l.pendingProps,de=w.context,ce=d.contextType,Y=Wl,typeof ce=="object"&&ce!==null&&(Y=Mr(ce)),M=d.getDerivedStateFromProps,(ce=typeof M=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(D!==Se||de!==Y)&&j2(l,w,h,Y),qs=!1,de=l.memoizedState,w.state=de,Rc(l,h,w,v),Pc();var fe=l.memoizedState;D!==Se||de!==fe||qs||s!==null&&s.dependencies!==null&&zu(s.dependencies)?(typeof M=="function"&&(qg(l,d,M,h),fe=l.memoizedState),(je=qs||b2(l,d,je,h,de,fe,Y)||s!==null&&s.dependencies!==null&&zu(s.dependencies))?(ce||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,fe,Y),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,fe,Y)),typeof w.componentDidUpdate=="function"&&(l.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof w.componentDidUpdate!="function"||D===s.memoizedProps&&de===s.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||D===s.memoizedProps&&de===s.memoizedState||(l.flags|=1024),l.memoizedProps=h,l.memoizedState=fe),w.props=h,w.state=fe,w.context=Y,h=je):(typeof w.componentDidUpdate!="function"||D===s.memoizedProps&&de===s.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||D===s.memoizedProps&&de===s.memoizedState||(l.flags|=1024),h=!1)}return w=h,nm(s,l),h=(l.flags&128)!==0,w||h?(w=l.stateNode,d=h&&typeof d.getDerivedStateFromError!="function"?null:w.render(),l.flags|=1,s!==null&&h?(l.child=Vi(l,s.child,null,v),l.child=Vi(l,null,d,v)):Pr(s,l,d,v),l.memoizedState=w.state,s=l.child):s=as(s,l,v),s}function I2(s,l,d,h){return Ui(),l.flags|=256,Pr(s,l,d,h),l.child}var Gg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xg(s){return{baseLanes:s,cachePool:Sw()}}function Zg(s,l,d){return s=s!==null?s.childLanes&~d:0,l&&(s|=va),s}function L2(s,l,d){var h=l.pendingProps,v=!1,w=(l.flags&128)!==0,D;if((D=w)||(D=s!==null&&s.memoizedState===null?!1:(nr.current&2)!==0),D&&(v=!0,l.flags&=-129),D=(l.flags&32)!==0,l.flags&=-33,s===null){if(yt){if(v?Ys(l):Ks(),(s=Ht)?(s=WN(s,Ua),s=s!==null&&s.data!=="&"?s:null,s!==null&&(l.memoizedState={dehydrated:s,treeContext:Us!==null?{id:En,overflow:On}:null,retryLane:536870912,hydrationErrors:null},d=pw(s),d.return=l,l.child=d,Or=l,Ht=null)):s=null,s===null)throw Hs(l);return Pp(s)?l.lanes=32:l.lanes=536870912,null}var M=h.children;return h=h.fallback,v?(Ks(),v=l.mode,M=sm({mode:"hidden",children:M},v),h=zi(h,v,d,null),M.return=l,h.return=l,M.sibling=h,l.child=M,h=l.child,h.memoizedState=Xg(d),h.childLanes=Zg(s,D,d),l.memoizedState=Gg,zc(null,h)):(Ys(l),Jg(l,M))}var Y=s.memoizedState;if(Y!==null&&(M=Y.dehydrated,M!==null)){if(w)l.flags&256?(Ys(l),l.flags&=-257,l=Qg(s,l,d)):l.memoizedState!==null?(Ks(),l.child=s.child,l.flags|=128,l=null):(Ks(),M=h.fallback,v=l.mode,h=sm({mode:"visible",children:h.children},v),M=zi(M,v,d,null),M.flags|=2,h.return=l,M.return=l,h.sibling=M,l.child=h,Vi(l,s.child,null,d),h=l.child,h.memoizedState=Xg(d),h.childLanes=Zg(s,D,d),l.memoizedState=Gg,l=zc(null,h));else if(Ys(l),Pp(M)){if(D=M.nextSibling&&M.nextSibling.dataset,D)var ce=D.dgst;D=ce,h=Error(n(419)),h.stack="",h.digest=D,Ac({value:h,source:null,stack:null}),l=Qg(s,l,d)}else if(mr||Gl(s,l,d,!1),D=(d&s.childLanes)!==0,mr||D){if(D=Lt,D!==null&&(h=Ml(D,d),h!==0&&h!==Y.retryLane))throw Y.retryLane=h,$i(s,h),aa(D,s,h),Yg;Mp(M)||hm(),l=Qg(s,l,d)}else Mp(M)?(l.flags|=192,l.child=s.child,l=null):(s=Y.treeContext,Ht=Ha(M.nextSibling),Or=l,yt=!0,Bs=null,Ua=!1,s!==null&&vw(l,s),l=Jg(l,h.children),l.flags|=4096);return l}return v?(Ks(),M=h.fallback,v=l.mode,Y=s.child,ce=Y.sibling,h=Zn(Y,{mode:"hidden",children:h.children}),h.subtreeFlags=Y.subtreeFlags&65011712,ce!==null?M=Zn(ce,M):(M=zi(M,v,d,null),M.flags|=2),M.return=l,h.return=l,h.sibling=M,l.child=h,zc(null,h),h=l.child,M=s.child.memoizedState,M===null?M=Xg(d):(v=M.cachePool,v!==null?(Y=dr._currentValue,v=v.parent!==Y?{parent:Y,pool:Y}:v):v=Sw(),M={baseLanes:M.baseLanes|d,cachePool:v}),h.memoizedState=M,h.childLanes=Zg(s,D,d),l.memoizedState=Gg,zc(s.child,h)):(Ys(l),d=s.child,s=d.sibling,d=Zn(d,{mode:"visible",children:h.children}),d.return=l,d.sibling=null,s!==null&&(D=l.deletions,D===null?(l.deletions=[s],l.flags|=16):D.push(s)),l.child=d,l.memoizedState=null,d)}function Jg(s,l){return l=sm({mode:"visible",children:l},s.mode),l.return=s,s.child=l}function sm(s,l){return s=ga(22,s,null,l),s.lanes=0,s}function Qg(s,l,d){return Vi(l,s.child,null,d),s=Jg(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function $2(s,l,d){s.lanes|=l;var h=s.alternate;h!==null&&(h.lanes|=l),hg(s.return,l,d)}function ep(s,l,d,h,v,w){var D=s.memoizedState;D===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:h,tail:d,tailMode:v,treeForkCount:w}:(D.isBackwards=l,D.rendering=null,D.renderingStartTime=0,D.last=h,D.tail=d,D.tailMode=v,D.treeForkCount=w)}function z2(s,l,d){var h=l.pendingProps,v=h.revealOrder,w=h.tail;h=h.children;var D=nr.current,M=(D&2)!==0;if(M?(D=D&1|2,l.flags|=128):D&=1,me(nr,D),Pr(s,l,h,d),h=yt?Cc:0,!M&&s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&$2(s,d,l);else if(s.tag===19)$2(s,d,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(v){case"forwards":for(d=l.child,v=null;d!==null;)s=d.alternate,s!==null&&Yu(s)===null&&(v=d),d=d.sibling;d=v,d===null?(v=l.child,l.child=null):(v=d.sibling,d.sibling=null),ep(l,!1,v,d,w,h);break;case"backwards":case"unstable_legacy-backwards":for(d=null,v=l.child,l.child=null;v!==null;){if(s=v.alternate,s!==null&&Yu(s)===null){l.child=v;break}s=v.sibling,v.sibling=d,d=v,v=s}ep(l,!0,d,null,w,h);break;case"together":ep(l,!1,null,null,void 0,h);break;default:l.memoizedState=null}return l.child}function as(s,l,d){if(s!==null&&(l.dependencies=s.dependencies),Zs|=l.lanes,(d&l.childLanes)===0)if(s!==null){if(Gl(s,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(s!==null&&l.child!==s.child)throw Error(n(153));if(l.child!==null){for(s=l.child,d=Zn(s,s.pendingProps),l.child=d,d.return=l;s.sibling!==null;)s=s.sibling,d=d.sibling=Zn(s,s.pendingProps),d.return=l;d.sibling=null}return l.child}function tp(s,l){return(s.lanes&l)!==0?!0:(s=s.dependencies,!!(s!==null&&zu(s)))}function SR(s,l,d){switch(l.tag){case 3:_e(l,l.stateNode.containerInfo),Fs(l,dr,s.memoizedState.cache),Ui();break;case 27:case 5:F(l);break;case 4:_e(l,l.stateNode.containerInfo);break;case 10:Fs(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,Cg(l),null;break;case 13:var h=l.memoizedState;if(h!==null)return h.dehydrated!==null?(Ys(l),l.flags|=128,null):(d&l.child.childLanes)!==0?L2(s,l,d):(Ys(l),s=as(s,l,d),s!==null?s.sibling:null);Ys(l);break;case 19:var v=(s.flags&128)!==0;if(h=(d&l.childLanes)!==0,h||(Gl(s,l,d,!1),h=(d&l.childLanes)!==0),v){if(h)return z2(s,l,d);l.flags|=128}if(v=l.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),me(nr,nr.current),h)break;return null;case 22:return l.lanes=0,O2(s,l,d,l.pendingProps);case 24:Fs(l,dr,s.memoizedState.cache)}return as(s,l,d)}function U2(s,l,d){if(s!==null)if(s.memoizedProps!==l.pendingProps)mr=!0;else{if(!tp(s,d)&&(l.flags&128)===0)return mr=!1,SR(s,l,d);mr=(s.flags&131072)!==0}else mr=!1,yt&&(l.flags&1048576)!==0&&yw(l,Cc,l.index);switch(l.lanes=0,l.tag){case 16:e:{var h=l.pendingProps;if(s=qi(l.elementType),l.type=s,typeof s=="function")ig(s)?(h=Ki(s,h),l.tag=1,l=_2(null,l,s,h,d)):(l.tag=0,l=Kg(null,l,s,h,d));else{if(s!=null){var v=s.$$typeof;if(v===E){l.tag=11,l=D2(null,l,s,h,d);break e}else if(v===O){l.tag=14,l=T2(null,l,s,h,d);break e}}throw l=Q(s)||s,Error(n(306,l,""))}}return l;case 0:return Kg(s,l,l.type,l.pendingProps,d);case 1:return h=l.type,v=Ki(h,l.pendingProps),_2(s,l,h,v,d);case 3:e:{if(_e(l,l.stateNode.containerInfo),s===null)throw Error(n(387));h=l.pendingProps;var w=l.memoizedState;v=w.element,jg(s,l),Rc(l,h,null,d);var D=l.memoizedState;if(h=D.cache,Fs(l,dr,h),h!==w.cache&&gg(l,[dr],d,!0),Pc(),h=D.element,w.isDehydrated)if(w={element:h,isDehydrated:!1,cache:D.cache},l.updateQueue.baseState=w,l.memoizedState=w,l.flags&256){l=I2(s,l,h,d);break e}else if(h!==v){v=La(Error(n(424)),l),Ac(v),l=I2(s,l,h,d);break e}else{switch(s=l.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Ht=Ha(s.firstChild),Or=l,yt=!0,Bs=null,Ua=!0,d=Ow(l,null,h,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Ui(),h===v){l=as(s,l,d);break e}Pr(s,l,h,d)}l=l.child}return l;case 26:return nm(s,l),s===null?(d=ZN(l.type,null,l.pendingProps,null))?l.memoizedState=d:yt||(d=l.type,s=l.pendingProps,h=jm(Me.current).createElement(d),h[or]=l,h[Br]=s,Rr(h,d,s),cr(h),l.stateNode=h):l.memoizedState=ZN(l.type,s.memoizedProps,l.pendingProps,s.memoizedState),null;case 27:return F(l),s===null&&yt&&(h=l.stateNode=KN(l.type,l.pendingProps,Me.current),Or=l,Ua=!0,v=Ht,ri(l.type)?(Rp=v,Ht=Ha(h.firstChild)):Ht=v),Pr(s,l,l.pendingProps.children,d),nm(s,l),s===null&&(l.flags|=4194304),l.child;case 5:return s===null&&yt&&((v=h=Ht)&&(h=t_(h,l.type,l.pendingProps,Ua),h!==null?(l.stateNode=h,Or=l,Ht=Ha(h.firstChild),Ua=!1,v=!0):v=!1),v||Hs(l)),F(l),v=l.type,w=l.pendingProps,D=s!==null?s.memoizedProps:null,h=w.children,Tp(v,w)?h=null:D!==null&&Tp(v,D)&&(l.flags|=32),l.memoizedState!==null&&(v=Dg(s,l,pR,null,null,d),ed._currentValue=v),nm(s,l),Pr(s,l,h,d),l.child;case 6:return s===null&&yt&&((s=d=Ht)&&(d=r_(d,l.pendingProps,Ua),d!==null?(l.stateNode=d,Or=l,Ht=null,s=!0):s=!1),s||Hs(l)),null;case 13:return L2(s,l,d);case 4:return _e(l,l.stateNode.containerInfo),h=l.pendingProps,s===null?l.child=Vi(l,null,h,d):Pr(s,l,h,d),l.child;case 11:return D2(s,l,l.type,l.pendingProps,d);case 7:return Pr(s,l,l.pendingProps,d),l.child;case 8:return Pr(s,l,l.pendingProps.children,d),l.child;case 12:return Pr(s,l,l.pendingProps.children,d),l.child;case 10:return h=l.pendingProps,Fs(l,l.type,h.value),Pr(s,l,h.children,d),l.child;case 9:return v=l.type._context,h=l.pendingProps.children,Hi(l),v=Mr(v),h=h(v),l.flags|=1,Pr(s,l,h,d),l.child;case 14:return T2(s,l,l.type,l.pendingProps,d);case 15:return E2(s,l,l.type,l.pendingProps,d);case 19:return z2(s,l,d);case 31:return kR(s,l,d);case 22:return O2(s,l,d,l.pendingProps);case 24:return Hi(l),h=Mr(dr),s===null?(v=yg(),v===null&&(v=Lt,w=pg(),v.pooledCache=w,w.refCount++,w!==null&&(v.pooledCacheLanes|=d),v=w),l.memoizedState={parent:h,cache:v},bg(l),Fs(l,dr,v)):((s.lanes&d)!==0&&(jg(s,l),Rc(l,null,null,d),Pc()),v=s.memoizedState,w=l.memoizedState,v.parent!==h?(v={parent:h,cache:h},l.memoizedState=v,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=v),Fs(l,dr,h)):(h=w.cache,Fs(l,dr,h),h!==v.cache&&gg(l,[dr],d,!0))),Pr(s,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(n(156,l.tag))}function ns(s){s.flags|=4}function rp(s,l,d,h,v){if((l=(s.mode&32)!==0)&&(l=!1),l){if(s.flags|=16777216,(v&335544128)===v)if(s.stateNode.complete)s.flags|=8192;else if(fN())s.flags|=8192;else throw Wi=Fu,vg}else s.flags&=-16777217}function B2(s,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!rk(l))if(fN())s.flags|=8192;else throw Wi=Fu,vg}function im(s,l){l!==null&&(s.flags|=4),s.flags&16384&&(l=s.tag!==22?Oi():536870912,s.lanes|=l,lo|=l)}function Uc(s,l){if(!yt)switch(s.tailMode){case"hidden":l=s.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var h=null;d!==null;)d.alternate!==null&&(h=d),d=d.sibling;h===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function Ft(s){var l=s.alternate!==null&&s.alternate.child===s.child,d=0,h=0;if(l)for(var v=s.child;v!==null;)d|=v.lanes|v.childLanes,h|=v.subtreeFlags&65011712,h|=v.flags&65011712,v.return=s,v=v.sibling;else for(v=s.child;v!==null;)d|=v.lanes|v.childLanes,h|=v.subtreeFlags,h|=v.flags,v.return=s,v=v.sibling;return s.subtreeFlags|=h,s.childLanes=d,l}function CR(s,l,d){var h=l.pendingProps;switch(dg(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(l),null;case 1:return Ft(l),null;case 3:return d=l.stateNode,h=null,s!==null&&(h=s.memoizedState.cache),l.memoizedState.cache!==h&&(l.flags|=2048),es(dr),we(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(Kl(l)?ns(l):s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,mg())),Ft(l),null;case 26:var v=l.type,w=l.memoizedState;return s===null?(ns(l),w!==null?(Ft(l),B2(l,w)):(Ft(l),rp(l,v,null,h,d))):w?w!==s.memoizedState?(ns(l),Ft(l),B2(l,w)):(Ft(l),l.flags&=-16777217):(s=s.memoizedProps,s!==h&&ns(l),Ft(l),rp(l,v,s,h,d)),null;case 27:if(ue(l),d=Me.current,v=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==h&&ns(l);else{if(!h){if(l.stateNode===null)throw Error(n(166));return Ft(l),null}s=Z.current,Kl(l)?bw(l):(s=KN(v,h,d),l.stateNode=s,ns(l))}return Ft(l),null;case 5:if(ue(l),v=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==h&&ns(l);else{if(!h){if(l.stateNode===null)throw Error(n(166));return Ft(l),null}if(w=Z.current,Kl(l))bw(l);else{var D=jm(Me.current);switch(w){case 1:w=D.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:w=D.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":w=D.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":w=D.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":w=D.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof h.is=="string"?D.createElement("select",{is:h.is}):D.createElement("select"),h.multiple?w.multiple=!0:h.size&&(w.size=h.size);break;default:w=typeof h.is=="string"?D.createElement(v,{is:h.is}):D.createElement(v)}}w[or]=l,w[Br]=h;e:for(D=l.child;D!==null;){if(D.tag===5||D.tag===6)w.appendChild(D.stateNode);else if(D.tag!==4&&D.tag!==27&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===l)break e;for(;D.sibling===null;){if(D.return===null||D.return===l)break e;D=D.return}D.sibling.return=D.return,D=D.sibling}l.stateNode=w;e:switch(Rr(w,v,h),v){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&ns(l)}}return Ft(l),rp(l,l.type,s===null?null:s.memoizedProps,l.pendingProps,d),null;case 6:if(s&&l.stateNode!=null)s.memoizedProps!==h&&ns(l);else{if(typeof h!="string"&&l.stateNode===null)throw Error(n(166));if(s=Me.current,Kl(l)){if(s=l.stateNode,d=l.memoizedProps,h=null,v=Or,v!==null)switch(v.tag){case 27:case 5:h=v.memoizedProps}s[or]=l,s=!!(s.nodeValue===d||h!==null&&h.suppressHydrationWarning===!0||LN(s.nodeValue,d)),s||Hs(l,!0)}else s=jm(s).createTextNode(h),s[or]=l,l.stateNode=s}return Ft(l),null;case 31:if(d=l.memoizedState,s===null||s.memoizedState!==null){if(h=Kl(l),d!==null){if(s===null){if(!h)throw Error(n(318));if(s=l.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(557));s[or]=l}else Ui(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Ft(l),s=!1}else d=mg(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=d),s=!0;if(!s)return l.flags&256?(xa(l),l):(xa(l),null);if((l.flags&128)!==0)throw Error(n(558))}return Ft(l),null;case 13:if(h=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(v=Kl(l),h!==null&&h.dehydrated!==null){if(s===null){if(!v)throw Error(n(318));if(v=l.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[or]=l}else Ui(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Ft(l),v=!1}else v=mg(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=v),v=!0;if(!v)return l.flags&256?(xa(l),l):(xa(l),null)}return xa(l),(l.flags&128)!==0?(l.lanes=d,l):(d=h!==null,s=s!==null&&s.memoizedState!==null,d&&(h=l.child,v=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(v=h.alternate.memoizedState.cachePool.pool),w=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(w=h.memoizedState.cachePool.pool),w!==v&&(h.flags|=2048)),d!==s&&d&&(l.child.flags|=8192),im(l,l.updateQueue),Ft(l),null);case 4:return we(),s===null&&kp(l.stateNode.containerInfo),Ft(l),null;case 10:return es(l.type),Ft(l),null;case 19:if(L(nr),h=l.memoizedState,h===null)return Ft(l),null;if(v=(l.flags&128)!==0,w=h.rendering,w===null)if(v)Uc(h,!1);else{if(tr!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(w=Yu(s),w!==null){for(l.flags|=128,Uc(h,!1),s=w.updateQueue,l.updateQueue=s,im(l,s),l.subtreeFlags=0,s=d,d=l.child;d!==null;)gw(d,s),d=d.sibling;return me(nr,nr.current&1|2),yt&&Jn(l,h.treeForkCount),l.child}s=s.sibling}h.tail!==null&&le()>um&&(l.flags|=128,v=!0,Uc(h,!1),l.lanes=4194304)}else{if(!v)if(s=Yu(w),s!==null){if(l.flags|=128,v=!0,s=s.updateQueue,l.updateQueue=s,im(l,s),Uc(h,!0),h.tail===null&&h.tailMode==="hidden"&&!w.alternate&&!yt)return Ft(l),null}else 2*le()-h.renderingStartTime>um&&d!==536870912&&(l.flags|=128,v=!0,Uc(h,!1),l.lanes=4194304);h.isBackwards?(w.sibling=l.child,l.child=w):(s=h.last,s!==null?s.sibling=w:l.child=w,h.last=w)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=le(),s.sibling=null,d=nr.current,me(nr,v?d&1|2:d&1),yt&&Jn(l,h.treeForkCount),s):(Ft(l),null);case 22:case 23:return xa(l),Sg(),h=l.memoizedState!==null,s!==null?s.memoizedState!==null!==h&&(l.flags|=8192):h&&(l.flags|=8192),h?(d&536870912)!==0&&(l.flags&128)===0&&(Ft(l),l.subtreeFlags&6&&(l.flags|=8192)):Ft(l),d=l.updateQueue,d!==null&&im(l,d.retryQueue),d=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),h=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==d&&(l.flags|=2048),s!==null&&L(Fi),null;case 24:return d=null,s!==null&&(d=s.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),es(dr),Ft(l),null;case 25:return null;case 30:return null}throw Error(n(156,l.tag))}function AR(s,l){switch(dg(l),l.tag){case 1:return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return es(dr),we(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 26:case 27:case 5:return ue(l),null;case 31:if(l.memoizedState!==null){if(xa(l),l.alternate===null)throw Error(n(340));Ui()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 13:if(xa(l),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(n(340));Ui()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return L(nr),null;case 4:return we(),null;case 10:return es(l.type),null;case 22:case 23:return xa(l),Sg(),s!==null&&L(Fi),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 24:return es(dr),null;case 25:return null;default:return null}}function H2(s,l){switch(dg(l),l.tag){case 3:es(dr),we();break;case 26:case 27:case 5:ue(l);break;case 4:we();break;case 31:l.memoizedState!==null&&xa(l);break;case 13:xa(l);break;case 19:L(nr);break;case 10:es(l.type);break;case 22:case 23:xa(l),Sg(),s!==null&&L(Fi);break;case 24:es(dr)}}function Bc(s,l){try{var d=l.updateQueue,h=d!==null?d.lastEffect:null;if(h!==null){var v=h.next;d=v;do{if((d.tag&s)===s){h=void 0;var w=d.create,D=d.inst;h=w(),D.destroy=h}d=d.next}while(d!==v)}}catch(M){At(l,l.return,M)}}function Gs(s,l,d){try{var h=l.updateQueue,v=h!==null?h.lastEffect:null;if(v!==null){var w=v.next;h=w;do{if((h.tag&s)===s){var D=h.inst,M=D.destroy;if(M!==void 0){D.destroy=void 0,v=l;var Y=d,ce=M;try{ce()}catch(je){At(v,Y,je)}}}h=h.next}while(h!==w)}}catch(je){At(l,l.return,je)}}function F2(s){var l=s.updateQueue;if(l!==null){var d=s.stateNode;try{Pw(l,d)}catch(h){At(s,s.return,h)}}}function q2(s,l,d){d.props=Ki(s.type,s.memoizedProps),d.state=s.memoizedState;try{d.componentWillUnmount()}catch(h){At(s,l,h)}}function Hc(s,l){try{var d=s.ref;if(d!==null){switch(s.tag){case 26:case 27:case 5:var h=s.stateNode;break;case 30:h=s.stateNode;break;default:h=s.stateNode}typeof d=="function"?s.refCleanup=d(h):d.current=h}}catch(v){At(s,l,v)}}function Mn(s,l){var d=s.ref,h=s.refCleanup;if(d!==null)if(typeof h=="function")try{h()}catch(v){At(s,l,v)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(v){At(s,l,v)}else d.current=null}function W2(s){var l=s.type,d=s.memoizedProps,h=s.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&h.focus();break e;case"img":d.src?h.src=d.src:d.srcSet&&(h.srcset=d.srcSet)}}catch(v){At(s,s.return,v)}}function ap(s,l,d){try{var h=s.stateNode;GR(h,s.type,d,l),h[Br]=l}catch(v){At(s,s.return,v)}}function V2(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&ri(s.type)||s.tag===4}function np(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||V2(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&ri(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function sp(s,l,d){var h=s.tag;if(h===5||h===6)s=s.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(s,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(s),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=ln));else if(h!==4&&(h===27&&ri(s.type)&&(d=s.stateNode,l=null),s=s.child,s!==null))for(sp(s,l,d),s=s.sibling;s!==null;)sp(s,l,d),s=s.sibling}function lm(s,l,d){var h=s.tag;if(h===5||h===6)s=s.stateNode,l?d.insertBefore(s,l):d.appendChild(s);else if(h!==4&&(h===27&&ri(s.type)&&(d=s.stateNode),s=s.child,s!==null))for(lm(s,l,d),s=s.sibling;s!==null;)lm(s,l,d),s=s.sibling}function Y2(s){var l=s.stateNode,d=s.memoizedProps;try{for(var h=s.type,v=l.attributes;v.length;)l.removeAttributeNode(v[0]);Rr(l,h,d),l[or]=s,l[Br]=d}catch(w){At(s,s.return,w)}}var ss=!1,fr=!1,ip=!1,K2=typeof WeakSet=="function"?WeakSet:Set,Nr=null;function DR(s,l){if(s=s.containerInfo,Ap=Dm,s=iw(s),Qh(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else e:{d=(d=s.ownerDocument)&&d.defaultView||window;var h=d.getSelection&&d.getSelection();if(h&&h.rangeCount!==0){d=h.anchorNode;var v=h.anchorOffset,w=h.focusNode;h=h.focusOffset;try{d.nodeType,w.nodeType}catch{d=null;break e}var D=0,M=-1,Y=-1,ce=0,je=0,Se=s,de=null;t:for(;;){for(var fe;Se!==d||v!==0&&Se.nodeType!==3||(M=D+v),Se!==w||h!==0&&Se.nodeType!==3||(Y=D+h),Se.nodeType===3&&(D+=Se.nodeValue.length),(fe=Se.firstChild)!==null;)de=Se,Se=fe;for(;;){if(Se===s)break t;if(de===d&&++ce===v&&(M=D),de===w&&++je===h&&(Y=D),(fe=Se.nextSibling)!==null)break;Se=de,de=Se.parentNode}Se=fe}d=M===-1||Y===-1?null:{start:M,end:Y}}else d=null}d=d||{start:0,end:0}}else d=null;for(Dp={focusedElem:s,selectionRange:d},Dm=!1,Nr=l;Nr!==null;)if(l=Nr,s=l.child,(l.subtreeFlags&1028)!==0&&s!==null)s.return=l,Nr=s;else for(;Nr!==null;){switch(l=Nr,w=l.alternate,s=l.flags,l.tag){case 0:if((s&4)!==0&&(s=l.updateQueue,s=s!==null?s.events:null,s!==null))for(d=0;d<s.length;d++)v=s[d],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&w!==null){s=void 0,d=l,v=w.memoizedProps,w=w.memoizedState,h=d.stateNode;try{var Be=Ki(d.type,v);s=h.getSnapshotBeforeUpdate(Be,w),h.__reactInternalSnapshotBeforeUpdate=s}catch(Qe){At(d,d.return,Qe)}}break;case 3:if((s&1024)!==0){if(s=l.stateNode.containerInfo,d=s.nodeType,d===9)Op(s);else if(d===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Op(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(n(163))}if(s=l.sibling,s!==null){s.return=l.return,Nr=s;break}Nr=l.return}}function G2(s,l,d){var h=d.flags;switch(d.tag){case 0:case 11:case 15:ls(s,d),h&4&&Bc(5,d);break;case 1:if(ls(s,d),h&4)if(s=d.stateNode,l===null)try{s.componentDidMount()}catch(D){At(d,d.return,D)}else{var v=Ki(d.type,l.memoizedProps);l=l.memoizedState;try{s.componentDidUpdate(v,l,s.__reactInternalSnapshotBeforeUpdate)}catch(D){At(d,d.return,D)}}h&64&&F2(d),h&512&&Hc(d,d.return);break;case 3:if(ls(s,d),h&64&&(s=d.updateQueue,s!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{Pw(s,l)}catch(D){At(d,d.return,D)}}break;case 27:l===null&&h&4&&Y2(d);case 26:case 5:ls(s,d),l===null&&h&4&&W2(d),h&512&&Hc(d,d.return);break;case 12:ls(s,d);break;case 31:ls(s,d),h&4&&J2(s,d);break;case 13:ls(s,d),h&4&&Q2(s,d),h&64&&(s=d.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(d=LR.bind(null,d),a_(s,d))));break;case 22:if(h=d.memoizedState!==null||ss,!h){l=l!==null&&l.memoizedState!==null||fr,v=ss;var w=fr;ss=h,(fr=l)&&!w?os(s,d,(d.subtreeFlags&8772)!==0):ls(s,d),ss=v,fr=w}break;case 30:break;default:ls(s,d)}}function X2(s){var l=s.alternate;l!==null&&(s.alternate=null,X2(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&gc(l)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Yt=null,Qr=!1;function is(s,l,d){for(d=d.child;d!==null;)Z2(s,l,d),d=d.sibling}function Z2(s,l,d){if(ke&&typeof ke.onCommitFiberUnmount=="function")try{ke.onCommitFiberUnmount(Te,d)}catch{}switch(d.tag){case 26:fr||Mn(d,l),is(s,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:fr||Mn(d,l);var h=Yt,v=Qr;ri(d.type)&&(Yt=d.stateNode,Qr=!1),is(s,l,d),Zc(d.stateNode),Yt=h,Qr=v;break;case 5:fr||Mn(d,l);case 6:if(h=Yt,v=Qr,Yt=null,is(s,l,d),Yt=h,Qr=v,Yt!==null)if(Qr)try{(Yt.nodeType===9?Yt.body:Yt.nodeName==="HTML"?Yt.ownerDocument.body:Yt).removeChild(d.stateNode)}catch(w){At(d,l,w)}else try{Yt.removeChild(d.stateNode)}catch(w){At(d,l,w)}break;case 18:Yt!==null&&(Qr?(s=Yt,FN(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,d.stateNode),po(s)):FN(Yt,d.stateNode));break;case 4:h=Yt,v=Qr,Yt=d.stateNode.containerInfo,Qr=!0,is(s,l,d),Yt=h,Qr=v;break;case 0:case 11:case 14:case 15:Gs(2,d,l),fr||Gs(4,d,l),is(s,l,d);break;case 1:fr||(Mn(d,l),h=d.stateNode,typeof h.componentWillUnmount=="function"&&q2(d,l,h)),is(s,l,d);break;case 21:is(s,l,d);break;case 22:fr=(h=fr)||d.memoizedState!==null,is(s,l,d),fr=h;break;default:is(s,l,d)}}function J2(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{po(s)}catch(d){At(l,l.return,d)}}}function Q2(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{po(s)}catch(d){At(l,l.return,d)}}function TR(s){switch(s.tag){case 31:case 13:case 19:var l=s.stateNode;return l===null&&(l=s.stateNode=new K2),l;case 22:return s=s.stateNode,l=s._retryCache,l===null&&(l=s._retryCache=new K2),l;default:throw Error(n(435,s.tag))}}function om(s,l){var d=TR(s);l.forEach(function(h){if(!d.has(h)){d.add(h);var v=$R.bind(null,s,h);h.then(v,v)}})}function ea(s,l){var d=l.deletions;if(d!==null)for(var h=0;h<d.length;h++){var v=d[h],w=s,D=l,M=D;e:for(;M!==null;){switch(M.tag){case 27:if(ri(M.type)){Yt=M.stateNode,Qr=!1;break e}break;case 5:Yt=M.stateNode,Qr=!1;break e;case 3:case 4:Yt=M.stateNode.containerInfo,Qr=!0;break e}M=M.return}if(Yt===null)throw Error(n(160));Z2(w,D,v),Yt=null,Qr=!1,w=v.alternate,w!==null&&(w.return=null),v.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)eN(l,s),l=l.sibling}var cn=null;function eN(s,l){var d=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:ea(l,s),ta(s),h&4&&(Gs(3,s,s.return),Bc(3,s),Gs(5,s,s.return));break;case 1:ea(l,s),ta(s),h&512&&(fr||d===null||Mn(d,d.return)),h&64&&ss&&(s=s.updateQueue,s!==null&&(h=s.callbacks,h!==null&&(d=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=d===null?h:d.concat(h))));break;case 26:var v=cn;if(ea(l,s),ta(s),h&512&&(fr||d===null||Mn(d,d.return)),h&4){var w=d!==null?d.memoizedState:null;if(h=s.memoizedState,d===null)if(h===null)if(s.stateNode===null){e:{h=s.type,d=s.memoizedProps,v=v.ownerDocument||v;t:switch(h){case"title":w=v.getElementsByTagName("title")[0],(!w||w[Mi]||w[or]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=v.createElement(h),v.head.insertBefore(w,v.querySelector("head > title"))),Rr(w,h,d),w[or]=s,cr(w),h=w;break e;case"link":var D=ek("link","href",v).get(h+(d.href||""));if(D){for(var M=0;M<D.length;M++)if(w=D[M],w.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&w.getAttribute("rel")===(d.rel==null?null:d.rel)&&w.getAttribute("title")===(d.title==null?null:d.title)&&w.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){D.splice(M,1);break t}}w=v.createElement(h),Rr(w,h,d),v.head.appendChild(w);break;case"meta":if(D=ek("meta","content",v).get(h+(d.content||""))){for(M=0;M<D.length;M++)if(w=D[M],w.getAttribute("content")===(d.content==null?null:""+d.content)&&w.getAttribute("name")===(d.name==null?null:d.name)&&w.getAttribute("property")===(d.property==null?null:d.property)&&w.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&w.getAttribute("charset")===(d.charSet==null?null:d.charSet)){D.splice(M,1);break t}}w=v.createElement(h),Rr(w,h,d),v.head.appendChild(w);break;default:throw Error(n(468,h))}w[or]=s,cr(w),h=w}s.stateNode=h}else tk(v,s.type,s.stateNode);else s.stateNode=QN(v,h,s.memoizedProps);else w!==h?(w===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):w.count--,h===null?tk(v,s.type,s.stateNode):QN(v,h,s.memoizedProps)):h===null&&s.stateNode!==null&&ap(s,s.memoizedProps,d.memoizedProps)}break;case 27:ea(l,s),ta(s),h&512&&(fr||d===null||Mn(d,d.return)),d!==null&&h&4&&ap(s,s.memoizedProps,d.memoizedProps);break;case 5:if(ea(l,s),ta(s),h&512&&(fr||d===null||Mn(d,d.return)),s.flags&32){v=s.stateNode;try{Pe(v,"")}catch(Be){At(s,s.return,Be)}}h&4&&s.stateNode!=null&&(v=s.memoizedProps,ap(s,v,d!==null?d.memoizedProps:v)),h&1024&&(ip=!0);break;case 6:if(ea(l,s),ta(s),h&4){if(s.stateNode===null)throw Error(n(162));h=s.memoizedProps,d=s.stateNode;try{d.nodeValue=h}catch(Be){At(s,s.return,Be)}}break;case 3:if(km=null,v=cn,cn=wm(l.containerInfo),ea(l,s),cn=v,ta(s),h&4&&d!==null&&d.memoizedState.isDehydrated)try{po(l.containerInfo)}catch(Be){At(s,s.return,Be)}ip&&(ip=!1,tN(s));break;case 4:h=cn,cn=wm(s.stateNode.containerInfo),ea(l,s),ta(s),cn=h;break;case 12:ea(l,s),ta(s);break;case 31:ea(l,s),ta(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,om(s,h)));break;case 13:ea(l,s),ta(s),s.child.flags&8192&&s.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(dm=le()),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,om(s,h)));break;case 22:v=s.memoizedState!==null;var Y=d!==null&&d.memoizedState!==null,ce=ss,je=fr;if(ss=ce||v,fr=je||Y,ea(l,s),fr=je,ss=ce,ta(s),h&8192)e:for(l=s.stateNode,l._visibility=v?l._visibility&-2:l._visibility|1,v&&(d===null||Y||ss||fr||Gi(s)),d=null,l=s;;){if(l.tag===5||l.tag===26){if(d===null){Y=d=l;try{if(w=Y.stateNode,v)D=w.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{M=Y.stateNode;var Se=Y.memoizedProps.style,de=Se!=null&&Se.hasOwnProperty("display")?Se.display:null;M.style.display=de==null||typeof de=="boolean"?"":(""+de).trim()}}catch(Be){At(Y,Y.return,Be)}}}else if(l.tag===6){if(d===null){Y=l;try{Y.stateNode.nodeValue=v?"":Y.memoizedProps}catch(Be){At(Y,Y.return,Be)}}}else if(l.tag===18){if(d===null){Y=l;try{var fe=Y.stateNode;v?qN(fe,!0):qN(Y.stateNode,!1)}catch(Be){At(Y,Y.return,Be)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===s)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break e;for(;l.sibling===null;){if(l.return===null||l.return===s)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}h&4&&(h=s.updateQueue,h!==null&&(d=h.retryQueue,d!==null&&(h.retryQueue=null,om(s,d))));break;case 19:ea(l,s),ta(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,om(s,h)));break;case 30:break;case 21:break;default:ea(l,s),ta(s)}}function ta(s){var l=s.flags;if(l&2){try{for(var d,h=s.return;h!==null;){if(V2(h)){d=h;break}h=h.return}if(d==null)throw Error(n(160));switch(d.tag){case 27:var v=d.stateNode,w=np(s);lm(s,w,v);break;case 5:var D=d.stateNode;d.flags&32&&(Pe(D,""),d.flags&=-33);var M=np(s);lm(s,M,D);break;case 3:case 4:var Y=d.stateNode.containerInfo,ce=np(s);sp(s,ce,Y);break;default:throw Error(n(161))}}catch(je){At(s,s.return,je)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function tN(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var l=s;tN(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),s=s.sibling}}function ls(s,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)G2(s,l.alternate,l),l=l.sibling}function Gi(s){for(s=s.child;s!==null;){var l=s;switch(l.tag){case 0:case 11:case 14:case 15:Gs(4,l,l.return),Gi(l);break;case 1:Mn(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&q2(l,l.return,d),Gi(l);break;case 27:Zc(l.stateNode);case 26:case 5:Mn(l,l.return),Gi(l);break;case 22:l.memoizedState===null&&Gi(l);break;case 30:Gi(l);break;default:Gi(l)}s=s.sibling}}function os(s,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var h=l.alternate,v=s,w=l,D=w.flags;switch(w.tag){case 0:case 11:case 15:os(v,w,d),Bc(4,w);break;case 1:if(os(v,w,d),h=w,v=h.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(ce){At(h,h.return,ce)}if(h=w,v=h.updateQueue,v!==null){var M=h.stateNode;try{var Y=v.shared.hiddenCallbacks;if(Y!==null)for(v.shared.hiddenCallbacks=null,v=0;v<Y.length;v++)Mw(Y[v],M)}catch(ce){At(h,h.return,ce)}}d&&D&64&&F2(w),Hc(w,w.return);break;case 27:Y2(w);case 26:case 5:os(v,w,d),d&&h===null&&D&4&&W2(w),Hc(w,w.return);break;case 12:os(v,w,d);break;case 31:os(v,w,d),d&&D&4&&J2(v,w);break;case 13:os(v,w,d),d&&D&4&&Q2(v,w);break;case 22:w.memoizedState===null&&os(v,w,d),Hc(w,w.return);break;case 30:break;default:os(v,w,d)}l=l.sibling}}function lp(s,l){var d=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==d&&(s!=null&&s.refCount++,d!=null&&Dc(d))}function op(s,l){s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&Dc(s))}function dn(s,l,d,h){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)rN(s,l,d,h),l=l.sibling}function rN(s,l,d,h){var v=l.flags;switch(l.tag){case 0:case 11:case 15:dn(s,l,d,h),v&2048&&Bc(9,l);break;case 1:dn(s,l,d,h);break;case 3:dn(s,l,d,h),v&2048&&(s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&Dc(s)));break;case 12:if(v&2048){dn(s,l,d,h),s=l.stateNode;try{var w=l.memoizedProps,D=w.id,M=w.onPostCommit;typeof M=="function"&&M(D,l.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(Y){At(l,l.return,Y)}}else dn(s,l,d,h);break;case 31:dn(s,l,d,h);break;case 13:dn(s,l,d,h);break;case 23:break;case 22:w=l.stateNode,D=l.alternate,l.memoizedState!==null?w._visibility&2?dn(s,l,d,h):Fc(s,l):w._visibility&2?dn(s,l,d,h):(w._visibility|=2,no(s,l,d,h,(l.subtreeFlags&10256)!==0||!1)),v&2048&&lp(D,l);break;case 24:dn(s,l,d,h),v&2048&&op(l.alternate,l);break;default:dn(s,l,d,h)}}function no(s,l,d,h,v){for(v=v&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var w=s,D=l,M=d,Y=h,ce=D.flags;switch(D.tag){case 0:case 11:case 15:no(w,D,M,Y,v),Bc(8,D);break;case 23:break;case 22:var je=D.stateNode;D.memoizedState!==null?je._visibility&2?no(w,D,M,Y,v):Fc(w,D):(je._visibility|=2,no(w,D,M,Y,v)),v&&ce&2048&&lp(D.alternate,D);break;case 24:no(w,D,M,Y,v),v&&ce&2048&&op(D.alternate,D);break;default:no(w,D,M,Y,v)}l=l.sibling}}function Fc(s,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=s,h=l,v=h.flags;switch(h.tag){case 22:Fc(d,h),v&2048&&lp(h.alternate,h);break;case 24:Fc(d,h),v&2048&&op(h.alternate,h);break;default:Fc(d,h)}l=l.sibling}}var qc=8192;function so(s,l,d){if(s.subtreeFlags&qc)for(s=s.child;s!==null;)aN(s,l,d),s=s.sibling}function aN(s,l,d){switch(s.tag){case 26:so(s,l,d),s.flags&qc&&s.memoizedState!==null&&g_(d,cn,s.memoizedState,s.memoizedProps);break;case 5:so(s,l,d);break;case 3:case 4:var h=cn;cn=wm(s.stateNode.containerInfo),so(s,l,d),cn=h;break;case 22:s.memoizedState===null&&(h=s.alternate,h!==null&&h.memoizedState!==null?(h=qc,qc=16777216,so(s,l,d),qc=h):so(s,l,d));break;default:so(s,l,d)}}function nN(s){var l=s.alternate;if(l!==null&&(s=l.child,s!==null)){l.child=null;do l=s.sibling,s.sibling=null,s=l;while(s!==null)}}function Wc(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var h=l[d];Nr=h,iN(h,s)}nN(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)sN(s),s=s.sibling}function sN(s){switch(s.tag){case 0:case 11:case 15:Wc(s),s.flags&2048&&Gs(9,s,s.return);break;case 3:Wc(s);break;case 12:Wc(s);break;case 22:var l=s.stateNode;s.memoizedState!==null&&l._visibility&2&&(s.return===null||s.return.tag!==13)?(l._visibility&=-3,cm(s)):Wc(s);break;default:Wc(s)}}function cm(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var h=l[d];Nr=h,iN(h,s)}nN(s)}for(s=s.child;s!==null;){switch(l=s,l.tag){case 0:case 11:case 15:Gs(8,l,l.return),cm(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,cm(l));break;default:cm(l)}s=s.sibling}}function iN(s,l){for(;Nr!==null;){var d=Nr;switch(d.tag){case 0:case 11:case 15:Gs(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var h=d.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Dc(d.memoizedState.cache)}if(h=d.child,h!==null)h.return=d,Nr=h;else e:for(d=s;Nr!==null;){h=Nr;var v=h.sibling,w=h.return;if(X2(h),h===d){Nr=null;break e}if(v!==null){v.return=w,Nr=v;break e}Nr=w}}}var ER={getCacheForType:function(s){var l=Mr(dr),d=l.data.get(s);return d===void 0&&(d=s(),l.data.set(s,d)),d},cacheSignal:function(){return Mr(dr).controller.signal}},OR=typeof WeakMap=="function"?WeakMap:Map,Nt=0,Lt=null,mt=null,pt=0,Ct=0,ya=null,Xs=!1,io=!1,cp=!1,cs=0,tr=0,Zs=0,Xi=0,dp=0,va=0,lo=0,Vc=null,ra=null,up=!1,dm=0,lN=0,um=1/0,mm=null,Js=null,yr=0,Qs=null,oo=null,ds=0,mp=0,fp=null,oN=null,Yc=0,hp=null;function ba(){return(Nt&2)!==0&&pt!==0?pt&-pt:$.T!==null?bp():Rl()}function cN(){if(va===0)if((pt&536870912)===0||yt){var s=Ur;Ur<<=1,(Ur&3932160)===0&&(Ur=262144),va=s}else va=536870912;return s=pa.current,s!==null&&(s.flags|=32),va}function aa(s,l,d){(s===Lt&&(Ct===2||Ct===9)||s.cancelPendingCommit!==null)&&(co(s,0),ei(s,pt,va,!1)),sn(s,d),((Nt&2)===0||s!==Lt)&&(s===Lt&&((Nt&2)===0&&(Xi|=d),tr===4&&ei(s,pt,va,!1)),Pn(s))}function dN(s,l,d){if((Nt&6)!==0)throw Error(n(327));var h=!d&&(l&127)===0&&(l&s.expiredLanes)===0||Pa(s,l),v=h?RR(s,l):pp(s,l,!0),w=h;do{if(v===0){io&&!h&&ei(s,l,0,!1);break}else{if(d=s.current.alternate,w&&!MR(d)){v=pp(s,l,!1),w=!1;continue}if(v===2){if(w=l,s.errorRecoveryDisabledLanes&w)var D=0;else D=s.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){l=D;e:{var M=s;v=Vc;var Y=M.current.memoizedState.isDehydrated;if(Y&&(co(M,D).flags|=256),D=pp(M,D,!1),D!==2){if(cp&&!Y){M.errorRecoveryDisabledLanes|=w,Xi|=w,v=4;break e}w=ra,ra=v,w!==null&&(ra===null?ra=w:ra.push.apply(ra,w))}v=D}if(w=!1,v!==2)continue}}if(v===1){co(s,0),ei(s,l,0,!0);break}e:{switch(h=s,w=v,w){case 0:case 1:throw Error(n(345));case 4:if((l&4194048)!==l)break;case 6:ei(h,l,va,!Xs);break e;case 2:ra=null;break;case 3:case 5:break;default:throw Error(n(329))}if((l&62914560)===l&&(v=dm+300-le(),10<v)){if(ei(h,l,va,!Xs),xr(h,0,!0)!==0)break e;ds=l,h.timeoutHandle=BN(uN.bind(null,h,d,ra,mm,up,l,va,Xi,lo,Xs,w,"Throttled",-0,0),v);break e}uN(h,d,ra,mm,up,l,va,Xi,lo,Xs,w,null,-0,0)}}break}while(!0);Pn(s)}function uN(s,l,d,h,v,w,D,M,Y,ce,je,Se,de,fe){if(s.timeoutHandle=-1,Se=l.subtreeFlags,Se&8192||(Se&16785408)===16785408){Se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ln},aN(l,w,Se);var Be=(w&62914560)===w?dm-le():(w&4194048)===w?lN-le():0;if(Be=p_(Se,Be),Be!==null){ds=w,s.cancelPendingCommit=Be(vN.bind(null,s,l,w,d,h,v,D,M,Y,je,Se,null,de,fe)),ei(s,w,D,!ce);return}}vN(s,l,w,d,h,v,D,M,Y)}function MR(s){for(var l=s;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var h=0;h<d.length;h++){var v=d[h],w=v.getSnapshot;v=v.value;try{if(!ha(w(),v))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function ei(s,l,d,h){l&=~dp,l&=~Xi,s.suspendedLanes|=l,s.pingedLanes&=~l,h&&(s.warmLanes|=l),h=s.expirationTimes;for(var v=l;0<v;){var w=31-Je(v),D=1<<w;h[w]=-1,v&=~D}d!==0&&Er(s,d,l)}function fm(){return(Nt&6)===0?(Kc(0),!1):!0}function gp(){if(mt!==null){if(Ct===0)var s=mt.return;else s=mt,Qn=Bi=null,Og(s),Ql=null,Ec=0,s=mt;for(;s!==null;)H2(s.alternate,s),s=s.return;mt=null}}function co(s,l){var d=s.timeoutHandle;d!==-1&&(s.timeoutHandle=-1,JR(d)),d=s.cancelPendingCommit,d!==null&&(s.cancelPendingCommit=null,d()),ds=0,gp(),Lt=s,mt=d=Zn(s.current,null),pt=l,Ct=0,ya=null,Xs=!1,io=Pa(s,l),cp=!1,lo=va=dp=Xi=Zs=tr=0,ra=Vc=null,up=!1,(l&8)!==0&&(l|=l&32);var h=s.entangledLanes;if(h!==0)for(s=s.entanglements,h&=l;0<h;){var v=31-Je(h),w=1<<v;l|=s[v],h&=~w}return cs=l,Ru(),d}function mN(s,l){st=null,$.H=$c,l===Jl||l===Hu?(l=Dw(),Ct=3):l===vg?(l=Dw(),Ct=4):Ct=l===Yg?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,ya=l,mt===null&&(tr=1,rm(s,La(l,s.current)))}function fN(){var s=pa.current;return s===null?!0:(pt&4194048)===pt?Ba===null:(pt&62914560)===pt||(pt&536870912)!==0?s===Ba:!1}function hN(){var s=$.H;return $.H=$c,s===null?$c:s}function gN(){var s=$.A;return $.A=ER,s}function hm(){tr=4,Xs||(pt&4194048)!==pt&&pa.current!==null||(io=!0),(Zs&134217727)===0&&(Xi&134217727)===0||Lt===null||ei(Lt,pt,va,!1)}function pp(s,l,d){var h=Nt;Nt|=2;var v=hN(),w=gN();(Lt!==s||pt!==l)&&(mm=null,co(s,l)),l=!1;var D=tr;e:do try{if(Ct!==0&&mt!==null){var M=mt,Y=ya;switch(Ct){case 8:gp(),D=6;break e;case 3:case 2:case 9:case 6:pa.current===null&&(l=!0);var ce=Ct;if(Ct=0,ya=null,uo(s,M,Y,ce),d&&io){D=0;break e}break;default:ce=Ct,Ct=0,ya=null,uo(s,M,Y,ce)}}PR(),D=tr;break}catch(je){mN(s,je)}while(!0);return l&&s.shellSuspendCounter++,Qn=Bi=null,Nt=h,$.H=v,$.A=w,mt===null&&(Lt=null,pt=0,Ru()),D}function PR(){for(;mt!==null;)pN(mt)}function RR(s,l){var d=Nt;Nt|=2;var h=hN(),v=gN();Lt!==s||pt!==l?(mm=null,um=le()+500,co(s,l)):io=Pa(s,l);e:do try{if(Ct!==0&&mt!==null){l=mt;var w=ya;t:switch(Ct){case 1:Ct=0,ya=null,uo(s,l,w,1);break;case 2:case 9:if(Cw(w)){Ct=0,ya=null,xN(l);break}l=function(){Ct!==2&&Ct!==9||Lt!==s||(Ct=7),Pn(s)},w.then(l,l);break e;case 3:Ct=7;break e;case 4:Ct=5;break e;case 7:Cw(w)?(Ct=0,ya=null,xN(l)):(Ct=0,ya=null,uo(s,l,w,7));break;case 5:var D=null;switch(mt.tag){case 26:D=mt.memoizedState;case 5:case 27:var M=mt;if(D?rk(D):M.stateNode.complete){Ct=0,ya=null;var Y=M.sibling;if(Y!==null)mt=Y;else{var ce=M.return;ce!==null?(mt=ce,gm(ce)):mt=null}break t}}Ct=0,ya=null,uo(s,l,w,5);break;case 6:Ct=0,ya=null,uo(s,l,w,6);break;case 8:gp(),tr=6;break e;default:throw Error(n(462))}}_R();break}catch(je){mN(s,je)}while(!0);return Qn=Bi=null,$.H=h,$.A=v,Nt=d,mt!==null?0:(Lt=null,pt=0,Ru(),tr)}function _R(){for(;mt!==null&&!Le();)pN(mt)}function pN(s){var l=U2(s.alternate,s,cs);s.memoizedProps=s.pendingProps,l===null?gm(s):mt=l}function xN(s){var l=s,d=l.alternate;switch(l.tag){case 15:case 0:l=R2(d,l,l.pendingProps,l.type,void 0,pt);break;case 11:l=R2(d,l,l.pendingProps,l.type.render,l.ref,pt);break;case 5:Og(l);default:H2(d,l),l=mt=gw(l,cs),l=U2(d,l,cs)}s.memoizedProps=s.pendingProps,l===null?gm(s):mt=l}function uo(s,l,d,h){Qn=Bi=null,Og(l),Ql=null,Ec=0;var v=l.return;try{if(NR(s,v,l,d,pt)){tr=1,rm(s,La(d,s.current)),mt=null;return}}catch(w){if(v!==null)throw mt=v,w;tr=1,rm(s,La(d,s.current)),mt=null;return}l.flags&32768?(yt||h===1?s=!0:io||(pt&536870912)!==0?s=!1:(Xs=s=!0,(h===2||h===9||h===3||h===6)&&(h=pa.current,h!==null&&h.tag===13&&(h.flags|=16384))),yN(l,s)):gm(l)}function gm(s){var l=s;do{if((l.flags&32768)!==0){yN(l,Xs);return}s=l.return;var d=CR(l.alternate,l,cs);if(d!==null){mt=d;return}if(l=l.sibling,l!==null){mt=l;return}mt=l=s}while(l!==null);tr===0&&(tr=5)}function yN(s,l){do{var d=AR(s.alternate,s);if(d!==null){d.flags&=32767,mt=d;return}if(d=s.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(s=s.sibling,s!==null)){mt=s;return}mt=s=d}while(s!==null);tr=6,mt=null}function vN(s,l,d,h,v,w,D,M,Y){s.cancelPendingCommit=null;do pm();while(yr!==0);if((Nt&6)!==0)throw Error(n(327));if(l!==null){if(l===s.current)throw Error(n(177));if(w=l.lanes|l.childLanes,w|=ng,Ol(s,d,w,D,M,Y),s===Lt&&(mt=Lt=null,pt=0),oo=l,Qs=s,ds=d,mp=w,fp=v,oN=h,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,zR(he,function(){return kN(),null})):(s.callbackNode=null,s.callbackPriority=0),h=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||h){h=$.T,$.T=null,v=V.p,V.p=2,D=Nt,Nt|=4;try{DR(s,l,d)}finally{Nt=D,V.p=v,$.T=h}}yr=1,bN(),jN(),wN()}}function bN(){if(yr===1){yr=0;var s=Qs,l=oo,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=$.T,$.T=null;var h=V.p;V.p=2;var v=Nt;Nt|=4;try{eN(l,s);var w=Dp,D=iw(s.containerInfo),M=w.focusedElem,Y=w.selectionRange;if(D!==M&&M&&M.ownerDocument&&sw(M.ownerDocument.documentElement,M)){if(Y!==null&&Qh(M)){var ce=Y.start,je=Y.end;if(je===void 0&&(je=ce),"selectionStart"in M)M.selectionStart=ce,M.selectionEnd=Math.min(je,M.value.length);else{var Se=M.ownerDocument||document,de=Se&&Se.defaultView||window;if(de.getSelection){var fe=de.getSelection(),Be=M.textContent.length,Qe=Math.min(Y.start,Be),Rt=Y.end===void 0?Qe:Math.min(Y.end,Be);!fe.extend&&Qe>Rt&&(D=Rt,Rt=Qe,Qe=D);var ae=nw(M,Qe),ee=nw(M,Rt);if(ae&&ee&&(fe.rangeCount!==1||fe.anchorNode!==ae.node||fe.anchorOffset!==ae.offset||fe.focusNode!==ee.node||fe.focusOffset!==ee.offset)){var oe=Se.createRange();oe.setStart(ae.node,ae.offset),fe.removeAllRanges(),Qe>Rt?(fe.addRange(oe),fe.extend(ee.node,ee.offset)):(oe.setEnd(ee.node,ee.offset),fe.addRange(oe))}}}}for(Se=[],fe=M;fe=fe.parentNode;)fe.nodeType===1&&Se.push({element:fe,left:fe.scrollLeft,top:fe.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<Se.length;M++){var Ne=Se[M];Ne.element.scrollLeft=Ne.left,Ne.element.scrollTop=Ne.top}}Dm=!!Ap,Dp=Ap=null}finally{Nt=v,V.p=h,$.T=d}}s.current=l,yr=2}}function jN(){if(yr===2){yr=0;var s=Qs,l=oo,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=$.T,$.T=null;var h=V.p;V.p=2;var v=Nt;Nt|=4;try{G2(s,l.alternate,l)}finally{Nt=v,V.p=h,$.T=d}}yr=3}}function wN(){if(yr===4||yr===3){yr=0,q();var s=Qs,l=oo,d=ds,h=oN;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?yr=5:(yr=0,oo=Qs=null,NN(s,s.pendingLanes));var v=s.pendingLanes;if(v===0&&(Js=null),Cn(d),l=l.stateNode,ke&&typeof ke.onCommitFiberRoot=="function")try{ke.onCommitFiberRoot(Te,l,void 0,(l.current.flags&128)===128)}catch{}if(h!==null){l=$.T,v=V.p,V.p=2,$.T=null;try{for(var w=s.onRecoverableError,D=0;D<h.length;D++){var M=h[D];w(M.value,{componentStack:M.stack})}}finally{$.T=l,V.p=v}}(ds&3)!==0&&pm(),Pn(s),v=s.pendingLanes,(d&261930)!==0&&(v&42)!==0?s===hp?Yc++:(Yc=0,hp=s):Yc=0,Kc(0)}}function NN(s,l){(s.pooledCacheLanes&=l)===0&&(l=s.pooledCache,l!=null&&(s.pooledCache=null,Dc(l)))}function pm(){return bN(),jN(),wN(),kN()}function kN(){if(yr!==5)return!1;var s=Qs,l=mp;mp=0;var d=Cn(ds),h=$.T,v=V.p;try{V.p=32>d?32:d,$.T=null,d=fp,fp=null;var w=Qs,D=ds;if(yr=0,oo=Qs=null,ds=0,(Nt&6)!==0)throw Error(n(331));var M=Nt;if(Nt|=4,sN(w.current),rN(w,w.current,D,d),Nt=M,Kc(0,!1),ke&&typeof ke.onPostCommitFiberRoot=="function")try{ke.onPostCommitFiberRoot(Te,w)}catch{}return!0}finally{V.p=v,$.T=h,NN(s,l)}}function SN(s,l,d){l=La(d,l),l=Vg(s.stateNode,l,2),s=Vs(s,l,2),s!==null&&(sn(s,2),Pn(s))}function At(s,l,d){if(s.tag===3)SN(s,s,d);else for(;l!==null;){if(l.tag===3){SN(l,s,d);break}else if(l.tag===1){var h=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Js===null||!Js.has(h))){s=La(d,s),d=C2(2),h=Vs(l,d,2),h!==null&&(A2(d,h,l,s),sn(h,2),Pn(h));break}}l=l.return}}function xp(s,l,d){var h=s.pingCache;if(h===null){h=s.pingCache=new OR;var v=new Set;h.set(l,v)}else v=h.get(l),v===void 0&&(v=new Set,h.set(l,v));v.has(d)||(cp=!0,v.add(d),s=IR.bind(null,s,l,d),l.then(s,s))}function IR(s,l,d){var h=s.pingCache;h!==null&&h.delete(l),s.pingedLanes|=s.suspendedLanes&d,s.warmLanes&=~d,Lt===s&&(pt&d)===d&&(tr===4||tr===3&&(pt&62914560)===pt&&300>le()-dm?(Nt&2)===0&&co(s,0):dp|=d,lo===pt&&(lo=0)),Pn(s)}function CN(s,l){l===0&&(l=Oi()),s=$i(s,l),s!==null&&(sn(s,l),Pn(s))}function LR(s){var l=s.memoizedState,d=0;l!==null&&(d=l.retryLane),CN(s,d)}function $R(s,l){var d=0;switch(s.tag){case 31:case 13:var h=s.stateNode,v=s.memoizedState;v!==null&&(d=v.retryLane);break;case 19:h=s.stateNode;break;case 22:h=s.stateNode._retryCache;break;default:throw Error(n(314))}h!==null&&h.delete(l),CN(s,d)}function zR(s,l){return ne(s,l)}var xm=null,mo=null,yp=!1,ym=!1,vp=!1,ti=0;function Pn(s){s!==mo&&s.next===null&&(mo===null?xm=mo=s:mo=mo.next=s),ym=!0,yp||(yp=!0,BR())}function Kc(s,l){if(!vp&&ym){vp=!0;do for(var d=!1,h=xm;h!==null;){if(s!==0){var v=h.pendingLanes;if(v===0)var w=0;else{var D=h.suspendedLanes,M=h.pingedLanes;w=(1<<31-Je(42|s)+1)-1,w&=v&~(D&~M),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(d=!0,EN(h,w))}else w=pt,w=xr(h,h===Lt?w:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(w&3)===0||Pa(h,w)||(d=!0,EN(h,w));h=h.next}while(d);vp=!1}}function UR(){AN()}function AN(){ym=yp=!1;var s=0;ti!==0&&ZR()&&(s=ti);for(var l=le(),d=null,h=xm;h!==null;){var v=h.next,w=DN(h,l);w===0?(h.next=null,d===null?xm=v:d.next=v,v===null&&(mo=d)):(d=h,(s!==0||(w&3)!==0)&&(ym=!0)),h=v}yr!==0&&yr!==5||Kc(s),ti!==0&&(ti=0)}function DN(s,l){for(var d=s.suspendedLanes,h=s.pingedLanes,v=s.expirationTimes,w=s.pendingLanes&-62914561;0<w;){var D=31-Je(w),M=1<<D,Y=v[D];Y===-1?((M&d)===0||(M&h)!==0)&&(v[D]=Vn(M,l)):Y<=l&&(s.expiredLanes|=M),w&=~M}if(l=Lt,d=pt,d=xr(s,s===l?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h=s.callbackNode,d===0||s===l&&(Ct===2||Ct===9)||s.cancelPendingCommit!==null)return h!==null&&h!==null&&Ce(h),s.callbackNode=null,s.callbackPriority=0;if((d&3)===0||Pa(s,d)){if(l=d&-d,l===s.callbackPriority)return l;switch(h!==null&&Ce(h),Cn(d)){case 2:case 8:d=B;break;case 32:d=he;break;case 268435456:d=Ie;break;default:d=he}return h=TN.bind(null,s),d=ne(d,h),s.callbackPriority=l,s.callbackNode=d,l}return h!==null&&h!==null&&Ce(h),s.callbackPriority=2,s.callbackNode=null,2}function TN(s,l){if(yr!==0&&yr!==5)return s.callbackNode=null,s.callbackPriority=0,null;var d=s.callbackNode;if(pm()&&s.callbackNode!==d)return null;var h=pt;return h=xr(s,s===Lt?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h===0?null:(dN(s,h,l),DN(s,le()),s.callbackNode!=null&&s.callbackNode===d?TN.bind(null,s):null)}function EN(s,l){if(pm())return null;dN(s,l,!0)}function BR(){QR(function(){(Nt&6)!==0?ne(et,UR):AN()})}function bp(){if(ti===0){var s=Xl;s===0&&(s=Bt,Bt<<=1,(Bt&261888)===0&&(Bt=256)),ti=s}return ti}function ON(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:$l(""+s)}function MN(s,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,s.id&&d.setAttribute("form",s.id),l.parentNode.insertBefore(d,l),s=new FormData(s),d.parentNode.removeChild(d),s}function HR(s,l,d,h,v){if(l==="submit"&&d&&d.stateNode===v){var w=ON((v[Br]||null).action),D=h.submitter;D&&(l=(l=D[Br]||null)?ON(l.formAction):D.getAttribute("formAction"),l!==null&&(w=l,D=null));var M=new Eu("action","action",null,h,v);s.push({event:M,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(ti!==0){var Y=D?MN(v,D):new FormData(v);Ug(d,{pending:!0,data:Y,method:v.method,action:w},null,Y)}}else typeof w=="function"&&(M.preventDefault(),Y=D?MN(v,D):new FormData(v),Ug(d,{pending:!0,data:Y,method:v.method,action:w},w,Y))},currentTarget:v}]})}}for(var jp=0;jp<ag.length;jp++){var wp=ag[jp],FR=wp.toLowerCase(),qR=wp[0].toUpperCase()+wp.slice(1);on(FR,"on"+qR)}on(cw,"onAnimationEnd"),on(dw,"onAnimationIteration"),on(uw,"onAnimationStart"),on("dblclick","onDoubleClick"),on("focusin","onFocus"),on("focusout","onBlur"),on(iR,"onTransitionRun"),on(lR,"onTransitionStart"),on(oR,"onTransitionCancel"),on(mw,"onTransitionEnd"),$s("onMouseEnter",["mouseout","mouseover"]),$s("onMouseLeave",["mouseout","mouseover"]),$s("onPointerEnter",["pointerout","pointerover"]),$s("onPointerLeave",["pointerout","pointerover"]),Kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Kn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gc));function PN(s,l){l=(l&4)!==0;for(var d=0;d<s.length;d++){var h=s[d],v=h.event;h=h.listeners;e:{var w=void 0;if(l)for(var D=h.length-1;0<=D;D--){var M=h[D],Y=M.instance,ce=M.currentTarget;if(M=M.listener,Y!==w&&v.isPropagationStopped())break e;w=M,v.currentTarget=ce;try{w(v)}catch(je){Pu(je)}v.currentTarget=null,w=Y}else for(D=0;D<h.length;D++){if(M=h[D],Y=M.instance,ce=M.currentTarget,M=M.listener,Y!==w&&v.isPropagationStopped())break e;w=M,v.currentTarget=ce;try{w(v)}catch(je){Pu(je)}v.currentTarget=null,w=Y}}}}function ft(s,l){var d=l[Yn];d===void 0&&(d=l[Yn]=new Set);var h=s+"__bubble";d.has(h)||(RN(l,s,2,!1),d.add(h))}function Np(s,l,d){var h=0;l&&(h|=4),RN(d,s,h,l)}var vm="_reactListening"+Math.random().toString(36).slice(2);function kp(s){if(!s[vm]){s[vm]=!0,wu.forEach(function(d){d!=="selectionchange"&&(WR.has(d)||Np(d,!1,s),Np(d,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[vm]||(l[vm]=!0,Np("selectionchange",!1,l))}}function RN(s,l,d,h){switch(ck(l)){case 2:var v=v_;break;case 8:v=b_;break;default:v=zp}d=v.bind(null,l,d,s),v=void 0,!qh||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(v=!0),h?v!==void 0?s.addEventListener(l,d,{capture:!0,passive:v}):s.addEventListener(l,d,!0):v!==void 0?s.addEventListener(l,d,{passive:v}):s.addEventListener(l,d,!1)}function Sp(s,l,d,h,v){var w=h;if((l&1)===0&&(l&2)===0&&h!==null)e:for(;;){if(h===null)return;var D=h.tag;if(D===3||D===4){var M=h.stateNode.containerInfo;if(M===v)break;if(D===4)for(D=h.return;D!==null;){var Y=D.tag;if((Y===3||Y===4)&&D.stateNode.containerInfo===v)return;D=D.return}for(;M!==null;){if(D=Tn(M),D===null)return;if(Y=D.tag,Y===5||Y===6||Y===26||Y===27){h=w=D;continue e}M=M.parentNode}}h=h.return}z1(function(){var ce=w,je=Hh(d),Se=[];e:{var de=fw.get(s);if(de!==void 0){var fe=Eu,Be=s;switch(s){case"keypress":if(Du(d)===0)break e;case"keydown":case"keyup":fe=$P;break;case"focusin":Be="focus",fe=Kh;break;case"focusout":Be="blur",fe=Kh;break;case"beforeblur":case"afterblur":fe=Kh;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=H1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=CP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=BP;break;case cw:case dw:case uw:fe=TP;break;case mw:fe=FP;break;case"scroll":case"scrollend":fe=kP;break;case"wheel":fe=WP;break;case"copy":case"cut":case"paste":fe=OP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=q1;break;case"toggle":case"beforetoggle":fe=YP}var Qe=(l&4)!==0,Rt=!Qe&&(s==="scroll"||s==="scrollend"),ae=Qe?de!==null?de+"Capture":null:de;Qe=[];for(var ee=ce,oe;ee!==null;){var Ne=ee;if(oe=Ne.stateNode,Ne=Ne.tag,Ne!==5&&Ne!==26&&Ne!==27||oe===null||ae===null||(Ne=xc(ee,ae),Ne!=null&&Qe.push(Xc(ee,Ne,oe))),Rt)break;ee=ee.return}0<Qe.length&&(de=new fe(de,Be,null,d,je),Se.push({event:de,listeners:Qe}))}}if((l&7)===0){e:{if(de=s==="mouseover"||s==="pointerover",fe=s==="mouseout"||s==="pointerout",de&&d!==Bh&&(Be=d.relatedTarget||d.fromElement)&&(Tn(Be)||Be[Dn]))break e;if((fe||de)&&(de=je.window===je?je:(de=je.ownerDocument)?de.defaultView||de.parentWindow:window,fe?(Be=d.relatedTarget||d.toElement,fe=ce,Be=Be?Tn(Be):null,Be!==null&&(Rt=o(Be),Qe=Be.tag,Be!==Rt||Qe!==5&&Qe!==27&&Qe!==6)&&(Be=null)):(fe=null,Be=ce),fe!==Be)){if(Qe=H1,Ne="onMouseLeave",ae="onMouseEnter",ee="mouse",(s==="pointerout"||s==="pointerover")&&(Qe=q1,Ne="onPointerLeave",ae="onPointerEnter",ee="pointer"),Rt=fe==null?de:Is(fe),oe=Be==null?de:Is(Be),de=new Qe(Ne,ee+"leave",fe,d,je),de.target=Rt,de.relatedTarget=oe,Ne=null,Tn(je)===ce&&(Qe=new Qe(ae,ee+"enter",Be,d,je),Qe.target=oe,Qe.relatedTarget=Rt,Ne=Qe),Rt=Ne,fe&&Be)t:{for(Qe=VR,ae=fe,ee=Be,oe=0,Ne=ae;Ne;Ne=Qe(Ne))oe++;Ne=0;for(var Ge=ee;Ge;Ge=Qe(Ge))Ne++;for(;0<oe-Ne;)ae=Qe(ae),oe--;for(;0<Ne-oe;)ee=Qe(ee),Ne--;for(;oe--;){if(ae===ee||ee!==null&&ae===ee.alternate){Qe=ae;break t}ae=Qe(ae),ee=Qe(ee)}Qe=null}else Qe=null;fe!==null&&_N(Se,de,fe,Qe,!1),Be!==null&&Rt!==null&&_N(Se,Rt,Be,Qe,!0)}}e:{if(de=ce?Is(ce):window,fe=de.nodeName&&de.nodeName.toLowerCase(),fe==="select"||fe==="input"&&de.type==="file")var bt=J1;else if(X1(de))if(Q1)bt=aR;else{bt=tR;var Fe=eR}else fe=de.nodeName,!fe||fe.toLowerCase()!=="input"||de.type!=="checkbox"&&de.type!=="radio"?ce&&ot(ce.elementType)&&(bt=J1):bt=rR;if(bt&&(bt=bt(s,ce))){Z1(Se,bt,d,je);break e}Fe&&Fe(s,de,ce),s==="focusout"&&ce&&de.type==="number"&&ce.memoizedProps.value!=null&&xe(de,"number",de.value)}switch(Fe=ce?Is(ce):window,s){case"focusin":(X1(Fe)||Fe.contentEditable==="true")&&(Hl=Fe,eg=ce,Sc=null);break;case"focusout":Sc=eg=Hl=null;break;case"mousedown":tg=!0;break;case"contextmenu":case"mouseup":case"dragend":tg=!1,lw(Se,d,je);break;case"selectionchange":if(sR)break;case"keydown":case"keyup":lw(Se,d,je)}var it;if(Xh)e:{switch(s){case"compositionstart":var xt="onCompositionStart";break e;case"compositionend":xt="onCompositionEnd";break e;case"compositionupdate":xt="onCompositionUpdate";break e}xt=void 0}else Bl?K1(s,d)&&(xt="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&(xt="onCompositionStart");xt&&(W1&&d.locale!=="ko"&&(Bl||xt!=="onCompositionStart"?xt==="onCompositionEnd"&&Bl&&(it=U1()):(zs=je,Wh="value"in zs?zs.value:zs.textContent,Bl=!0)),Fe=bm(ce,xt),0<Fe.length&&(xt=new F1(xt,s,null,d,je),Se.push({event:xt,listeners:Fe}),it?xt.data=it:(it=G1(d),it!==null&&(xt.data=it)))),(it=GP?XP(s,d):ZP(s,d))&&(xt=bm(ce,"onBeforeInput"),0<xt.length&&(Fe=new F1("onBeforeInput","beforeinput",null,d,je),Se.push({event:Fe,listeners:xt}),Fe.data=it)),HR(Se,s,ce,d,je)}PN(Se,l)})}function Xc(s,l,d){return{instance:s,listener:l,currentTarget:d}}function bm(s,l){for(var d=l+"Capture",h=[];s!==null;){var v=s,w=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||w===null||(v=xc(s,d),v!=null&&h.unshift(Xc(s,v,w)),v=xc(s,l),v!=null&&h.push(Xc(s,v,w))),s.tag===3)return h;s=s.return}return[]}function VR(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function _N(s,l,d,h,v){for(var w=l._reactName,D=[];d!==null&&d!==h;){var M=d,Y=M.alternate,ce=M.stateNode;if(M=M.tag,Y!==null&&Y===h)break;M!==5&&M!==26&&M!==27||ce===null||(Y=ce,v?(ce=xc(d,w),ce!=null&&D.unshift(Xc(d,ce,Y))):v||(ce=xc(d,w),ce!=null&&D.push(Xc(d,ce,Y)))),d=d.return}D.length!==0&&s.push({event:l,listeners:D})}var YR=/\r\n?/g,KR=/\u0000|\uFFFD/g;function IN(s){return(typeof s=="string"?s:""+s).replace(YR,`
`).replace(KR,"")}function LN(s,l){return l=IN(l),IN(s)===l}function Pt(s,l,d,h,v,w){switch(d){case"children":typeof h=="string"?l==="body"||l==="textarea"&&h===""||Pe(s,h):(typeof h=="number"||typeof h=="bigint")&&l!=="body"&&Pe(s,""+h);break;case"className":Pi(s,"class",h);break;case"tabIndex":Pi(s,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Pi(s,d,h);break;case"style":gt(s,h,w);break;case"data":if(l!=="object"){Pi(s,"data",h);break}case"src":case"href":if(h===""&&(l!=="a"||d!=="href")){s.removeAttribute(d);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(d);break}h=$l(""+h),s.setAttribute(d,h);break;case"action":case"formAction":if(typeof h=="function"){s.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(d==="formAction"?(l!=="input"&&Pt(s,l,"name",v.name,v,null),Pt(s,l,"formEncType",v.formEncType,v,null),Pt(s,l,"formMethod",v.formMethod,v,null),Pt(s,l,"formTarget",v.formTarget,v,null)):(Pt(s,l,"encType",v.encType,v,null),Pt(s,l,"method",v.method,v,null),Pt(s,l,"target",v.target,v,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(d);break}h=$l(""+h),s.setAttribute(d,h);break;case"onClick":h!=null&&(s.onclick=ln);break;case"onScroll":h!=null&&ft("scroll",s);break;case"onScrollEnd":h!=null&&ft("scrollend",s);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(d=h.__html,d!=null){if(v.children!=null)throw Error(n(60));s.innerHTML=d}}break;case"multiple":s.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":s.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){s.removeAttribute("xlink:href");break}d=$l(""+h),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(d,""+h):s.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(d,""):s.removeAttribute(d);break;case"capture":case"download":h===!0?s.setAttribute(d,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(d,h):s.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?s.setAttribute(d,h):s.removeAttribute(d);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?s.removeAttribute(d):s.setAttribute(d,h);break;case"popover":ft("beforetoggle",s),ft("toggle",s),Il(s,"popover",h);break;case"xlinkActuate":_a(s,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":_a(s,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":_a(s,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":_a(s,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":_a(s,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":_a(s,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":_a(s,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":_a(s,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":_a(s,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Il(s,"is",h);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=fa.get(d)||d,Il(s,d,h))}}function Cp(s,l,d,h,v,w){switch(d){case"style":gt(s,h,w);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(d=h.__html,d!=null){if(v.children!=null)throw Error(n(60));s.innerHTML=d}}break;case"children":typeof h=="string"?Pe(s,h):(typeof h=="number"||typeof h=="bigint")&&Pe(s,""+h);break;case"onScroll":h!=null&&ft("scroll",s);break;case"onScrollEnd":h!=null&&ft("scrollend",s);break;case"onClick":h!=null&&(s.onclick=ln);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nu.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(v=d.endsWith("Capture"),l=d.slice(2,v?d.length-7:void 0),w=s[Br]||null,w=w!=null?w[d]:null,typeof w=="function"&&s.removeEventListener(l,w,v),typeof h=="function")){typeof w!="function"&&w!==null&&(d in s?s[d]=null:s.hasAttribute(d)&&s.removeAttribute(d)),s.addEventListener(l,h,v);break e}d in s?s[d]=h:h===!0?s.setAttribute(d,""):Il(s,d,h)}}}function Rr(s,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ft("error",s),ft("load",s);var h=!1,v=!1,w;for(w in d)if(d.hasOwnProperty(w)){var D=d[w];if(D!=null)switch(w){case"src":h=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:Pt(s,l,w,D,d,null)}}v&&Pt(s,l,"srcSet",d.srcSet,d,null),h&&Pt(s,l,"src",d.src,d,null);return;case"input":ft("invalid",s);var M=w=D=v=null,Y=null,ce=null;for(h in d)if(d.hasOwnProperty(h)){var je=d[h];if(je!=null)switch(h){case"name":v=je;break;case"type":D=je;break;case"checked":Y=je;break;case"defaultChecked":ce=je;break;case"value":w=je;break;case"defaultValue":M=je;break;case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(n(137,l));break;default:Pt(s,l,h,je,d,null)}}se(s,w,M,Y,ce,D,v,!1);return;case"select":ft("invalid",s),h=D=w=null;for(v in d)if(d.hasOwnProperty(v)&&(M=d[v],M!=null))switch(v){case"value":w=M;break;case"defaultValue":D=M;break;case"multiple":h=M;default:Pt(s,l,v,M,d,null)}l=w,d=D,s.multiple=!!h,l!=null?pe(s,!!h,l,!1):d!=null&&pe(s,!!h,d,!0);return;case"textarea":ft("invalid",s),w=v=h=null;for(D in d)if(d.hasOwnProperty(D)&&(M=d[D],M!=null))switch(D){case"value":h=M;break;case"defaultValue":v=M;break;case"children":w=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(n(91));break;default:Pt(s,l,D,M,d,null)}He(s,h,v,w);return;case"option":for(Y in d)if(d.hasOwnProperty(Y)&&(h=d[Y],h!=null))switch(Y){case"selected":s.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Pt(s,l,Y,h,d,null)}return;case"dialog":ft("beforetoggle",s),ft("toggle",s),ft("cancel",s),ft("close",s);break;case"iframe":case"object":ft("load",s);break;case"video":case"audio":for(h=0;h<Gc.length;h++)ft(Gc[h],s);break;case"image":ft("error",s),ft("load",s);break;case"details":ft("toggle",s);break;case"embed":case"source":case"link":ft("error",s),ft("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ce in d)if(d.hasOwnProperty(ce)&&(h=d[ce],h!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:Pt(s,l,ce,h,d,null)}return;default:if(ot(l)){for(je in d)d.hasOwnProperty(je)&&(h=d[je],h!==void 0&&Cp(s,l,je,h,d,void 0));return}}for(M in d)d.hasOwnProperty(M)&&(h=d[M],h!=null&&Pt(s,l,M,h,d,null))}function GR(s,l,d,h){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,w=null,D=null,M=null,Y=null,ce=null,je=null;for(fe in d){var Se=d[fe];if(d.hasOwnProperty(fe)&&Se!=null)switch(fe){case"checked":break;case"value":break;case"defaultValue":Y=Se;default:h.hasOwnProperty(fe)||Pt(s,l,fe,null,h,Se)}}for(var de in h){var fe=h[de];if(Se=d[de],h.hasOwnProperty(de)&&(fe!=null||Se!=null))switch(de){case"type":w=fe;break;case"name":v=fe;break;case"checked":ce=fe;break;case"defaultChecked":je=fe;break;case"value":D=fe;break;case"defaultValue":M=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(n(137,l));break;default:fe!==Se&&Pt(s,l,de,fe,h,Se)}}z(s,D,M,Y,ce,je,w,v);return;case"select":fe=D=M=de=null;for(w in d)if(Y=d[w],d.hasOwnProperty(w)&&Y!=null)switch(w){case"value":break;case"multiple":fe=Y;default:h.hasOwnProperty(w)||Pt(s,l,w,null,h,Y)}for(v in h)if(w=h[v],Y=d[v],h.hasOwnProperty(v)&&(w!=null||Y!=null))switch(v){case"value":de=w;break;case"defaultValue":M=w;break;case"multiple":D=w;default:w!==Y&&Pt(s,l,v,w,h,Y)}l=M,d=D,h=fe,de!=null?pe(s,!!d,de,!1):!!h!=!!d&&(l!=null?pe(s,!!d,l,!0):pe(s,!!d,d?[]:"",!1));return;case"textarea":fe=de=null;for(M in d)if(v=d[M],d.hasOwnProperty(M)&&v!=null&&!h.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:Pt(s,l,M,null,h,v)}for(D in h)if(v=h[D],w=d[D],h.hasOwnProperty(D)&&(v!=null||w!=null))switch(D){case"value":de=v;break;case"defaultValue":fe=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(n(91));break;default:v!==w&&Pt(s,l,D,v,h,w)}Oe(s,de,fe);return;case"option":for(var Be in d)if(de=d[Be],d.hasOwnProperty(Be)&&de!=null&&!h.hasOwnProperty(Be))switch(Be){case"selected":s.selected=!1;break;default:Pt(s,l,Be,null,h,de)}for(Y in h)if(de=h[Y],fe=d[Y],h.hasOwnProperty(Y)&&de!==fe&&(de!=null||fe!=null))switch(Y){case"selected":s.selected=de&&typeof de!="function"&&typeof de!="symbol";break;default:Pt(s,l,Y,de,h,fe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Qe in d)de=d[Qe],d.hasOwnProperty(Qe)&&de!=null&&!h.hasOwnProperty(Qe)&&Pt(s,l,Qe,null,h,de);for(ce in h)if(de=h[ce],fe=d[ce],h.hasOwnProperty(ce)&&de!==fe&&(de!=null||fe!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(n(137,l));break;default:Pt(s,l,ce,de,h,fe)}return;default:if(ot(l)){for(var Rt in d)de=d[Rt],d.hasOwnProperty(Rt)&&de!==void 0&&!h.hasOwnProperty(Rt)&&Cp(s,l,Rt,void 0,h,de);for(je in h)de=h[je],fe=d[je],!h.hasOwnProperty(je)||de===fe||de===void 0&&fe===void 0||Cp(s,l,je,de,h,fe);return}}for(var ae in d)de=d[ae],d.hasOwnProperty(ae)&&de!=null&&!h.hasOwnProperty(ae)&&Pt(s,l,ae,null,h,de);for(Se in h)de=h[Se],fe=d[Se],!h.hasOwnProperty(Se)||de===fe||de==null&&fe==null||Pt(s,l,Se,de,h,fe)}function $N(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function XR(){if(typeof performance.getEntriesByType=="function"){for(var s=0,l=0,d=performance.getEntriesByType("resource"),h=0;h<d.length;h++){var v=d[h],w=v.transferSize,D=v.initiatorType,M=v.duration;if(w&&M&&$N(D)){for(D=0,M=v.responseEnd,h+=1;h<d.length;h++){var Y=d[h],ce=Y.startTime;if(ce>M)break;var je=Y.transferSize,Se=Y.initiatorType;je&&$N(Se)&&(Y=Y.responseEnd,D+=je*(Y<M?1:(M-ce)/(Y-ce)))}if(--h,l+=8*(w+D)/(v.duration/1e3),s++,10<s)break}}if(0<s)return l/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Ap=null,Dp=null;function jm(s){return s.nodeType===9?s:s.ownerDocument}function zN(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function UN(s,l){if(s===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&l==="foreignObject"?0:s}function Tp(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Ep=null;function ZR(){var s=window.event;return s&&s.type==="popstate"?s===Ep?!1:(Ep=s,!0):(Ep=null,!1)}var BN=typeof setTimeout=="function"?setTimeout:void 0,JR=typeof clearTimeout=="function"?clearTimeout:void 0,HN=typeof Promise=="function"?Promise:void 0,QR=typeof queueMicrotask=="function"?queueMicrotask:typeof HN<"u"?function(s){return HN.resolve(null).then(s).catch(e_)}:BN;function e_(s){setTimeout(function(){throw s})}function ri(s){return s==="head"}function FN(s,l){var d=l,h=0;do{var v=d.nextSibling;if(s.removeChild(d),v&&v.nodeType===8)if(d=v.data,d==="/$"||d==="/&"){if(h===0){s.removeChild(v),po(l);return}h--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")h++;else if(d==="html")Zc(s.ownerDocument.documentElement);else if(d==="head"){d=s.ownerDocument.head,Zc(d);for(var w=d.firstChild;w;){var D=w.nextSibling,M=w.nodeName;w[Mi]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&w.rel.toLowerCase()==="stylesheet"||d.removeChild(w),w=D}}else d==="body"&&Zc(s.ownerDocument.body);d=v}while(d);po(l)}function qN(s,l){var d=s;s=0;do{var h=d.nextSibling;if(d.nodeType===1?l?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(l?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),h&&h.nodeType===8)if(d=h.data,d==="/$"){if(s===0)break;s--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||s++;d=h}while(d)}function Op(s){var l=s.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":Op(d),gc(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}s.removeChild(d)}}function t_(s,l,d,h){for(;s.nodeType===1;){var v=d;if(s.nodeName.toLowerCase()!==l.toLowerCase()){if(!h&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(h){if(!s[Mi])switch(l){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(w=s.getAttribute("rel"),w==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(w!==v.rel||s.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||s.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||s.getAttribute("title")!==(v.title==null?null:v.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(w=s.getAttribute("src"),(w!==(v.src==null?null:v.src)||s.getAttribute("type")!==(v.type==null?null:v.type)||s.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&w&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(l==="input"&&s.type==="hidden"){var w=v.name==null?null:""+v.name;if(v.type==="hidden"&&s.getAttribute("name")===w)return s}else return s;if(s=Ha(s.nextSibling),s===null)break}return null}function r_(s,l,d){if(l==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!d||(s=Ha(s.nextSibling),s===null))return null;return s}function WN(s,l){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Ha(s.nextSibling),s===null))return null;return s}function Mp(s){return s.data==="$?"||s.data==="$~"}function Pp(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function a_(s,l){var d=s.ownerDocument;if(s.data==="$~")s._reactRetry=l;else if(s.data!=="$?"||d.readyState!=="loading")l();else{var h=function(){l(),d.removeEventListener("DOMContentLoaded",h)};d.addEventListener("DOMContentLoaded",h),s._reactRetry=h}}function Ha(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return s}var Rp=null;function VN(s){s=s.nextSibling;for(var l=0;s;){if(s.nodeType===8){var d=s.data;if(d==="/$"||d==="/&"){if(l===0)return Ha(s.nextSibling);l--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||l++}s=s.nextSibling}return null}function YN(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(l===0)return s;l--}else d!=="/$"&&d!=="/&"||l++}s=s.previousSibling}return null}function KN(s,l,d){switch(l=jm(d),s){case"html":if(s=l.documentElement,!s)throw Error(n(452));return s;case"head":if(s=l.head,!s)throw Error(n(453));return s;case"body":if(s=l.body,!s)throw Error(n(454));return s;default:throw Error(n(451))}}function Zc(s){for(var l=s.attributes;l.length;)s.removeAttributeNode(l[0]);gc(s)}var Fa=new Map,GN=new Set;function wm(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var us=V.d;V.d={f:n_,r:s_,D:i_,C:l_,L:o_,m:c_,X:u_,S:d_,M:m_};function n_(){var s=us.f(),l=fm();return s||l}function s_(s){var l=_s(s);l!==null&&l.tag===5&&l.type==="form"?m2(l):us.r(s)}var fo=typeof document>"u"?null:document;function XN(s,l,d){var h=fo;if(h&&typeof l=="string"&&l){var v=Zr(l);v='link[rel="'+s+'"][href="'+v+'"]',typeof d=="string"&&(v+='[crossorigin="'+d+'"]'),GN.has(v)||(GN.add(v),s={rel:s,crossOrigin:d,href:l},h.querySelector(v)===null&&(l=h.createElement("link"),Rr(l,"link",s),cr(l),h.head.appendChild(l)))}}function i_(s){us.D(s),XN("dns-prefetch",s,null)}function l_(s,l){us.C(s,l),XN("preconnect",s,l)}function o_(s,l,d){us.L(s,l,d);var h=fo;if(h&&s&&l){var v='link[rel="preload"][as="'+Zr(l)+'"]';l==="image"&&d&&d.imageSrcSet?(v+='[imagesrcset="'+Zr(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(v+='[imagesizes="'+Zr(d.imageSizes)+'"]')):v+='[href="'+Zr(s)+'"]';var w=v;switch(l){case"style":w=ho(s);break;case"script":w=go(s)}Fa.has(w)||(s=p({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:s,as:l},d),Fa.set(w,s),h.querySelector(v)!==null||l==="style"&&h.querySelector(Jc(w))||l==="script"&&h.querySelector(Qc(w))||(l=h.createElement("link"),Rr(l,"link",s),cr(l),h.head.appendChild(l)))}}function c_(s,l){us.m(s,l);var d=fo;if(d&&s){var h=l&&typeof l.as=="string"?l.as:"script",v='link[rel="modulepreload"][as="'+Zr(h)+'"][href="'+Zr(s)+'"]',w=v;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=go(s)}if(!Fa.has(w)&&(s=p({rel:"modulepreload",href:s},l),Fa.set(w,s),d.querySelector(v)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Qc(w)))return}h=d.createElement("link"),Rr(h,"link",s),cr(h),d.head.appendChild(h)}}}function d_(s,l,d){us.S(s,l,d);var h=fo;if(h&&s){var v=Ls(h).hoistableStyles,w=ho(s);l=l||"default";var D=v.get(w);if(!D){var M={loading:0,preload:null};if(D=h.querySelector(Jc(w)))M.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":l},d),(d=Fa.get(w))&&_p(s,d);var Y=D=h.createElement("link");cr(Y),Rr(Y,"link",s),Y._p=new Promise(function(ce,je){Y.onload=ce,Y.onerror=je}),Y.addEventListener("load",function(){M.loading|=1}),Y.addEventListener("error",function(){M.loading|=2}),M.loading|=4,Nm(D,l,h)}D={type:"stylesheet",instance:D,count:1,state:M},v.set(w,D)}}}function u_(s,l){us.X(s,l);var d=fo;if(d&&s){var h=Ls(d).hoistableScripts,v=go(s),w=h.get(v);w||(w=d.querySelector(Qc(v)),w||(s=p({src:s,async:!0},l),(l=Fa.get(v))&&Ip(s,l),w=d.createElement("script"),cr(w),Rr(w,"link",s),d.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(v,w))}}function m_(s,l){us.M(s,l);var d=fo;if(d&&s){var h=Ls(d).hoistableScripts,v=go(s),w=h.get(v);w||(w=d.querySelector(Qc(v)),w||(s=p({src:s,async:!0,type:"module"},l),(l=Fa.get(v))&&Ip(s,l),w=d.createElement("script"),cr(w),Rr(w,"link",s),d.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(v,w))}}function ZN(s,l,d,h){var v=(v=Me.current)?wm(v):null;if(!v)throw Error(n(446));switch(s){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=ho(d.href),d=Ls(v).hoistableStyles,h=d.get(l),h||(h={type:"style",instance:null,count:0,state:null},d.set(l,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){s=ho(d.href);var w=Ls(v).hoistableStyles,D=w.get(s);if(D||(v=v.ownerDocument||v,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(s,D),(w=v.querySelector(Jc(s)))&&!w._p&&(D.instance=w,D.state.loading=5),Fa.has(s)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Fa.set(s,d),w||f_(v,s,d,D.state))),l&&h===null)throw Error(n(528,""));return D}if(l&&h!==null)throw Error(n(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=go(d),d=Ls(v).hoistableScripts,h=d.get(l),h||(h={type:"script",instance:null,count:0,state:null},d.set(l,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,s))}}function ho(s){return'href="'+Zr(s)+'"'}function Jc(s){return'link[rel="stylesheet"]['+s+"]"}function JN(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function f_(s,l,d,h){s.querySelector('link[rel="preload"][as="style"]['+l+"]")?h.loading=1:(l=s.createElement("link"),h.preload=l,l.addEventListener("load",function(){return h.loading|=1}),l.addEventListener("error",function(){return h.loading|=2}),Rr(l,"link",d),cr(l),s.head.appendChild(l))}function go(s){return'[src="'+Zr(s)+'"]'}function Qc(s){return"script[async]"+s}function QN(s,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var h=s.querySelector('style[data-href~="'+Zr(d.href)+'"]');if(h)return l.instance=h,cr(h),h;var v=p({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return h=(s.ownerDocument||s).createElement("style"),cr(h),Rr(h,"style",v),Nm(h,d.precedence,s),l.instance=h;case"stylesheet":v=ho(d.href);var w=s.querySelector(Jc(v));if(w)return l.state.loading|=4,l.instance=w,cr(w),w;h=JN(d),(v=Fa.get(v))&&_p(h,v),w=(s.ownerDocument||s).createElement("link"),cr(w);var D=w;return D._p=new Promise(function(M,Y){D.onload=M,D.onerror=Y}),Rr(w,"link",h),l.state.loading|=4,Nm(w,d.precedence,s),l.instance=w;case"script":return w=go(d.src),(v=s.querySelector(Qc(w)))?(l.instance=v,cr(v),v):(h=d,(v=Fa.get(w))&&(h=p({},d),Ip(h,v)),s=s.ownerDocument||s,v=s.createElement("script"),cr(v),Rr(v,"link",h),s.head.appendChild(v),l.instance=v);case"void":return null;default:throw Error(n(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(h=l.instance,l.state.loading|=4,Nm(h,d.precedence,s));return l.instance}function Nm(s,l,d){for(var h=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=h.length?h[h.length-1]:null,w=v,D=0;D<h.length;D++){var M=h[D];if(M.dataset.precedence===l)w=M;else if(w!==v)break}w?w.parentNode.insertBefore(s,w.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(s,l.firstChild))}function _p(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.title==null&&(s.title=l.title)}function Ip(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.integrity==null&&(s.integrity=l.integrity)}var km=null;function ek(s,l,d){if(km===null){var h=new Map,v=km=new Map;v.set(d,h)}else v=km,h=v.get(d),h||(h=new Map,v.set(d,h));if(h.has(s))return h;for(h.set(s,null),d=d.getElementsByTagName(s),v=0;v<d.length;v++){var w=d[v];if(!(w[Mi]||w[or]||s==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var D=w.getAttribute(l)||"";D=s+D;var M=h.get(D);M?M.push(w):h.set(D,[w])}}return h}function tk(s,l,d){s=s.ownerDocument||s,s.head.insertBefore(d,l==="title"?s.querySelector("head > title"):null)}function h_(s,l,d){if(d===1||l.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return s=l.disabled,typeof l.precedence=="string"&&s==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function rk(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function g_(s,l,d,h){if(d.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var v=ho(h.href),w=l.querySelector(Jc(v));if(w){l=w._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(s.count++,s=Sm.bind(s),l.then(s,s)),d.state.loading|=4,d.instance=w,cr(w);return}w=l.ownerDocument||l,h=JN(h),(v=Fa.get(v))&&_p(h,v),w=w.createElement("link"),cr(w);var D=w;D._p=new Promise(function(M,Y){D.onload=M,D.onerror=Y}),Rr(w,"link",h),d.instance=w}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(d,l),(l=d.state.preload)&&(d.state.loading&3)===0&&(s.count++,d=Sm.bind(s),l.addEventListener("load",d),l.addEventListener("error",d))}}var Lp=0;function p_(s,l){return s.stylesheets&&s.count===0&&Am(s,s.stylesheets),0<s.count||0<s.imgCount?function(d){var h=setTimeout(function(){if(s.stylesheets&&Am(s,s.stylesheets),s.unsuspend){var w=s.unsuspend;s.unsuspend=null,w()}},6e4+l);0<s.imgBytes&&Lp===0&&(Lp=62500*XR());var v=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Am(s,s.stylesheets),s.unsuspend)){var w=s.unsuspend;s.unsuspend=null,w()}},(s.imgBytes>Lp?50:800)+l);return s.unsuspend=d,function(){s.unsuspend=null,clearTimeout(h),clearTimeout(v)}}:null}function Sm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Am(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Cm=null;function Am(s,l){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Cm=new Map,l.forEach(x_,s),Cm=null,Sm.call(s))}function x_(s,l){if(!(l.state.loading&4)){var d=Cm.get(s);if(d)var h=d.get(null);else{d=new Map,Cm.set(s,d);for(var v=s.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<v.length;w++){var D=v[w];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(d.set(D.dataset.precedence,D),h=D)}h&&d.set(null,h)}v=l.instance,D=v.getAttribute("data-precedence"),w=d.get(D)||h,w===h&&d.set(null,v),d.set(D,v),this.count++,h=Sm.bind(this),v.addEventListener("load",h),v.addEventListener("error",h),w?w.parentNode.insertBefore(v,w.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(v,s.firstChild)),l.state.loading|=4}}var ed={$$typeof:A,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function y_(s,l,d,h,v,w,D,M,Y){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ra(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ra(0),this.hiddenUpdates=Ra(null),this.identifierPrefix=h,this.onUncaughtError=v,this.onCaughtError=w,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Y,this.incompleteTransitions=new Map}function ak(s,l,d,h,v,w,D,M,Y,ce,je,Se){return s=new y_(s,l,d,D,Y,ce,je,Se,M),l=1,w===!0&&(l|=24),w=ga(3,null,null,l),s.current=w,w.stateNode=s,l=pg(),l.refCount++,s.pooledCache=l,l.refCount++,w.memoizedState={element:h,isDehydrated:d,cache:l},bg(w),s}function nk(s){return s?(s=Wl,s):Wl}function sk(s,l,d,h,v,w){v=nk(v),h.context===null?h.context=v:h.pendingContext=v,h=Ws(l),h.payload={element:d},w=w===void 0?null:w,w!==null&&(h.callback=w),d=Vs(s,h,l),d!==null&&(aa(d,s,l),Mc(d,s,l))}function ik(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<l?d:l}}function $p(s,l){ik(s,l),(s=s.alternate)&&ik(s,l)}function lk(s){if(s.tag===13||s.tag===31){var l=$i(s,67108864);l!==null&&aa(l,s,67108864),$p(s,67108864)}}function ok(s){if(s.tag===13||s.tag===31){var l=ba();l=Pl(l);var d=$i(s,l);d!==null&&aa(d,s,l),$p(s,l)}}var Dm=!0;function v_(s,l,d,h){var v=$.T;$.T=null;var w=V.p;try{V.p=2,zp(s,l,d,h)}finally{V.p=w,$.T=v}}function b_(s,l,d,h){var v=$.T;$.T=null;var w=V.p;try{V.p=8,zp(s,l,d,h)}finally{V.p=w,$.T=v}}function zp(s,l,d,h){if(Dm){var v=Up(h);if(v===null)Sp(s,l,h,Tm,d),dk(s,h);else if(w_(v,s,l,d,h))h.stopPropagation();else if(dk(s,h),l&4&&-1<j_.indexOf(s)){for(;v!==null;){var w=_s(v);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var D=lr(w.pendingLanes);if(D!==0){var M=w;for(M.pendingLanes|=2,M.entangledLanes|=2;D;){var Y=1<<31-Je(D);M.entanglements[1]|=Y,D&=~Y}Pn(w),(Nt&6)===0&&(um=le()+500,Kc(0))}}break;case 31:case 13:M=$i(w,2),M!==null&&aa(M,w,2),fm(),$p(w,2)}if(w=Up(h),w===null&&Sp(s,l,h,Tm,d),w===v)break;v=w}v!==null&&h.stopPropagation()}else Sp(s,l,h,null,d)}}function Up(s){return s=Hh(s),Bp(s)}var Tm=null;function Bp(s){if(Tm=null,s=Tn(s),s!==null){var l=o(s);if(l===null)s=null;else{var d=l.tag;if(d===13){if(s=c(l),s!==null)return s;s=null}else if(d===31){if(s=u(l),s!==null)return s;s=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null)}}return Tm=s,null}function ck(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(De()){case et:return 2;case B:return 8;case he:case Ae:return 32;case Ie:return 268435456;default:return 32}default:return 32}}var Hp=!1,ai=null,ni=null,si=null,td=new Map,rd=new Map,ii=[],j_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dk(s,l){switch(s){case"focusin":case"focusout":ai=null;break;case"dragenter":case"dragleave":ni=null;break;case"mouseover":case"mouseout":si=null;break;case"pointerover":case"pointerout":td.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":rd.delete(l.pointerId)}}function ad(s,l,d,h,v,w){return s===null||s.nativeEvent!==w?(s={blockedOn:l,domEventName:d,eventSystemFlags:h,nativeEvent:w,targetContainers:[v]},l!==null&&(l=_s(l),l!==null&&lk(l)),s):(s.eventSystemFlags|=h,l=s.targetContainers,v!==null&&l.indexOf(v)===-1&&l.push(v),s)}function w_(s,l,d,h,v){switch(l){case"focusin":return ai=ad(ai,s,l,d,h,v),!0;case"dragenter":return ni=ad(ni,s,l,d,h,v),!0;case"mouseover":return si=ad(si,s,l,d,h,v),!0;case"pointerover":var w=v.pointerId;return td.set(w,ad(td.get(w)||null,s,l,d,h,v)),!0;case"gotpointercapture":return w=v.pointerId,rd.set(w,ad(rd.get(w)||null,s,l,d,h,v)),!0}return!1}function uk(s){var l=Tn(s.target);if(l!==null){var d=o(l);if(d!==null){if(l=d.tag,l===13){if(l=c(d),l!==null){s.blockedOn=l,bu(s.priority,function(){ok(d)});return}}else if(l===31){if(l=u(d),l!==null){s.blockedOn=l,bu(s.priority,function(){ok(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Em(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var d=Up(s.nativeEvent);if(d===null){d=s.nativeEvent;var h=new d.constructor(d.type,d);Bh=h,d.target.dispatchEvent(h),Bh=null}else return l=_s(d),l!==null&&lk(l),s.blockedOn=d,!1;l.shift()}return!0}function mk(s,l,d){Em(s)&&d.delete(l)}function N_(){Hp=!1,ai!==null&&Em(ai)&&(ai=null),ni!==null&&Em(ni)&&(ni=null),si!==null&&Em(si)&&(si=null),td.forEach(mk),rd.forEach(mk)}function Om(s,l){s.blockedOn===l&&(s.blockedOn=null,Hp||(Hp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,N_)))}var Mm=null;function fk(s){Mm!==s&&(Mm=s,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Mm===s&&(Mm=null);for(var l=0;l<s.length;l+=3){var d=s[l],h=s[l+1],v=s[l+2];if(typeof h!="function"){if(Bp(h||d)===null)continue;break}var w=_s(d);w!==null&&(s.splice(l,3),l-=3,Ug(w,{pending:!0,data:v,method:d.method,action:h},h,v))}}))}function po(s){function l(Y){return Om(Y,s)}ai!==null&&Om(ai,s),ni!==null&&Om(ni,s),si!==null&&Om(si,s),td.forEach(l),rd.forEach(l);for(var d=0;d<ii.length;d++){var h=ii[d];h.blockedOn===s&&(h.blockedOn=null)}for(;0<ii.length&&(d=ii[0],d.blockedOn===null);)uk(d),d.blockedOn===null&&ii.shift();if(d=(s.ownerDocument||s).$$reactFormReplay,d!=null)for(h=0;h<d.length;h+=3){var v=d[h],w=d[h+1],D=v[Br]||null;if(typeof w=="function")D||fk(d);else if(D){var M=null;if(w&&w.hasAttribute("formAction")){if(v=w,D=w[Br]||null)M=D.formAction;else if(Bp(v)!==null)continue}else M=D.action;typeof M=="function"?d[h+1]=M:(d.splice(h,3),h-=3),fk(d)}}}function hk(){function s(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(D){return v=D})},focusReset:"manual",scroll:"manual"})}function l(){v!==null&&(v(),v=null),h||setTimeout(d,20)}function d(){if(!h&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,v=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(d,100),function(){h=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),v!==null&&(v(),v=null)}}}function Fp(s){this._internalRoot=s}Pm.prototype.render=Fp.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(n(409));var d=l.current,h=ba();sk(d,h,s,l,null,null)},Pm.prototype.unmount=Fp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;sk(s.current,2,null,s,null,null),fm(),l[Dn]=null}};function Pm(s){this._internalRoot=s}Pm.prototype.unstable_scheduleHydration=function(s){if(s){var l=Rl();s={blockedOn:null,target:s,priority:l};for(var d=0;d<ii.length&&l!==0&&l<ii[d].priority;d++);ii.splice(d,0,s),d===0&&uk(s)}};var gk=t.version;if(gk!=="19.2.0")throw Error(n(527,gk,"19.2.0"));V.findDOMNode=function(s){var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=f(l),s=s!==null?g(s):null,s=s===null?null:s.stateNode,s};var k_={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rm.isDisabled&&Rm.supportsFiber)try{Te=Rm.inject(k_),ke=Rm}catch{}}return sd.createRoot=function(s,l){if(!i(s))throw Error(n(299));var d=!1,h="",v=w2,w=N2,D=k2;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(h=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(w=l.onCaughtError),l.onRecoverableError!==void 0&&(D=l.onRecoverableError)),l=ak(s,1,!1,null,null,d,h,null,v,w,D,hk),s[Dn]=l.current,kp(s),new Fp(l)},sd.hydrateRoot=function(s,l,d){if(!i(s))throw Error(n(299));var h=!1,v="",w=w2,D=N2,M=k2,Y=null;return d!=null&&(d.unstable_strictMode===!0&&(h=!0),d.identifierPrefix!==void 0&&(v=d.identifierPrefix),d.onUncaughtError!==void 0&&(w=d.onUncaughtError),d.onCaughtError!==void 0&&(D=d.onCaughtError),d.onRecoverableError!==void 0&&(M=d.onRecoverableError),d.formState!==void 0&&(Y=d.formState)),l=ak(s,1,!0,l,d??null,h,v,Y,w,D,M,hk),l.context=nk(null),d=l.current,h=ba(),h=Pl(h),v=Ws(h),v.callback=null,Vs(d,v,h),d=h,l.current.lanes=d,sn(l,d),Pn(l),s[Dn]=l.current,kp(s),new Pm(l)},sd.version="19.2.0",sd}var Sk;function R_(){if(Sk)return Vp.exports;Sk=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Vp.exports=P_(),Vp.exports}var __=R_();const I_=vn(__);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ck="popstate";function L_(e={}){function t(n,i){let{pathname:o,search:c,hash:u}=n.location;return Wy("",{pathname:o,search:c,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Dd(i)}return z_(t,r,null,e)}function Gt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Xa(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function $_(){return Math.random().toString(36).substring(2,10)}function Ak(e,t){return{usr:e.state,key:e.key,idx:t}}function Wy(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Zo(t):t,state:r,key:t&&t.key||n||$_()}}function Dd({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Zo(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function z_(e,t,r,n={}){let{window:i=document.defaultView,v5Compat:o=!1}=n,c=i.history,u="POP",m=null,f=g();f==null&&(f=0,c.replaceState({...c.state,idx:f},""));function g(){return(c.state||{idx:null}).idx}function p(){u="POP";let C=g(),S=C==null?null:C-f;f=C,m&&m({action:u,location:b.location,delta:S})}function y(C,S){u="PUSH";let N=Wy(b.location,C,S);f=g()+1;let A=Ak(N,f),E=b.createHref(N);try{c.pushState(A,"",E)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(E)}o&&m&&m({action:u,location:b.location,delta:1})}function j(C,S){u="REPLACE";let N=Wy(b.location,C,S);f=g();let A=Ak(N,f),E=b.createHref(N);c.replaceState(A,"",E),o&&m&&m({action:u,location:b.location,delta:0})}function k(C){return U_(C)}let b={get action(){return u},get location(){return e(i,c)},listen(C){if(m)throw new Error("A history only accepts one active listener");return i.addEventListener(Ck,p),m=C,()=>{i.removeEventListener(Ck,p),m=null}},createHref(C){return t(i,C)},createURL:k,encodeLocation(C){let S=k(C);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:y,replace:j,go(C){return c.go(C)}};return b}function U_(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Gt(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Dd(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function CD(e,t,r="/"){return B_(e,t,r,!1)}function B_(e,t,r,n){let i=typeof t=="string"?Zo(t):t,o=bs(i.pathname||"/",r);if(o==null)return null;let c=AD(e);H_(c);let u=null;for(let m=0;u==null&&m<c.length;++m){let f=Q_(o);u=Z_(c[m],f,n)}return u}function AD(e,t=[],r=[],n="",i=!1){let o=(c,u,m=i,f)=>{let g={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(n)&&m)return;Gt(g.relativePath.startsWith(n),`Absolute route path "${g.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(n.length)}let p=xs([n,g.relativePath]),y=r.concat(g);c.children&&c.children.length>0&&(Gt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),AD(c.children,t,y,p,m)),!(c.path==null&&!c.index)&&t.push({path:p,score:G_(p,c.index),routesMeta:y})};return e.forEach((c,u)=>{if(c.path===""||!c.path?.includes("?"))o(c,u);else for(let m of DD(c.path))o(c,u,!0,m)}),t}function DD(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return i?[o,""]:[o];let c=DD(n.join("/")),u=[];return u.push(...c.map(m=>m===""?o:[o,m].join("/"))),i&&u.push(...c),u.map(m=>e.startsWith("/")&&m===""?"/":m)}function H_(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:X_(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var F_=/^:[\w-]+$/,q_=3,W_=2,V_=1,Y_=10,K_=-2,Dk=e=>e==="*";function G_(e,t){let r=e.split("/"),n=r.length;return r.some(Dk)&&(n+=K_),t&&(n+=W_),r.filter(i=>!Dk(i)).reduce((i,o)=>i+(F_.test(o)?q_:o===""?V_:Y_),n)}function X_(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function Z_(e,t,r=!1){let{routesMeta:n}=e,i={},o="/",c=[];for(let u=0;u<n.length;++u){let m=n[u],f=u===n.length-1,g=o==="/"?t:t.slice(o.length)||"/",p=pf({path:m.relativePath,caseSensitive:m.caseSensitive,end:f},g),y=m.route;if(!p&&f&&r&&!n[n.length-1].route.index&&(p=pf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},g)),!p)return null;Object.assign(i,p.params),c.push({params:i,pathname:xs([o,p.pathname]),pathnameBase:aI(xs([o,p.pathnameBase])),route:y}),p.pathnameBase!=="/"&&(o=xs([o,p.pathnameBase]))}return c}function pf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=J_(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let o=i[0],c=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:n.reduce((f,{paramName:g,isOptional:p},y)=>{if(g==="*"){let k=u[y]||"";c=o.slice(0,o.length-k.length).replace(/(.)\/+$/,"$1")}const j=u[y];return p&&!j?f[g]=void 0:f[g]=(j||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:c,pattern:e}}function J_(e,t=!1,r=!0){Xa(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,m)=>(n.push({paramName:u,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function Q_(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Xa(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function bs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function eI(e,t="/"){let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Zo(e):e;return{pathname:r?r.startsWith("/")?r:tI(r,t):t,search:nI(n),hash:sI(i)}}function tI(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Xp(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function rI(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function gb(e){let t=rI(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function pb(e,t,r,n=!1){let i;typeof e=="string"?i=Zo(e):(i={...e},Gt(!i.pathname||!i.pathname.includes("?"),Xp("?","pathname","search",i)),Gt(!i.pathname||!i.pathname.includes("#"),Xp("#","pathname","hash",i)),Gt(!i.search||!i.search.includes("#"),Xp("#","search","hash",i)));let o=e===""||i.pathname==="",c=o?"/":i.pathname,u;if(c==null)u=r;else{let p=t.length-1;if(!n&&c.startsWith("..")){let y=c.split("/");for(;y[0]==="..";)y.shift(),p-=1;i.pathname=y.join("/")}u=p>=0?t[p]:"/"}let m=eI(i,u),f=c&&c!=="/"&&c.endsWith("/"),g=(o||c===".")&&r.endsWith("/");return!m.pathname.endsWith("/")&&(f||g)&&(m.pathname+="/"),m}var xs=e=>e.join("/").replace(/\/\/+/g,"/"),aI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),nI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,sI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function iI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var TD=["POST","PUT","PATCH","DELETE"];new Set(TD);var lI=["GET",...TD];new Set(lI);var Jo=x.createContext(null);Jo.displayName="DataRouter";var S0=x.createContext(null);S0.displayName="DataRouterState";x.createContext(!1);var ED=x.createContext({isTransitioning:!1});ED.displayName="ViewTransition";var oI=x.createContext(new Map);oI.displayName="Fetchers";var cI=x.createContext(null);cI.displayName="Await";var bn=x.createContext(null);bn.displayName="Navigation";var Zd=x.createContext(null);Zd.displayName="Location";var Qa=x.createContext({outlet:null,matches:[],isDataRoute:!1});Qa.displayName="Route";var xb=x.createContext(null);xb.displayName="RouteError";function dI(e,{relative:t}={}){Gt(Qo(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=x.useContext(bn),{hash:i,pathname:o,search:c}=Jd(e,{relative:t}),u=o;return r!=="/"&&(u=o==="/"?r:xs([r,o])),n.createHref({pathname:u,search:c,hash:i})}function Qo(){return x.useContext(Zd)!=null}function jn(){return Gt(Qo(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(Zd).location}var OD="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function MD(e){x.useContext(bn).static||x.useLayoutEffect(e)}function wn(){let{isDataRoute:e}=x.useContext(Qa);return e?SI():uI()}function uI(){Gt(Qo(),"useNavigate() may be used only in the context of a <Router> component.");let e=x.useContext(Jo),{basename:t,navigator:r}=x.useContext(bn),{matches:n}=x.useContext(Qa),{pathname:i}=jn(),o=JSON.stringify(gb(n)),c=x.useRef(!1);return MD(()=>{c.current=!0}),x.useCallback((m,f={})=>{if(Xa(c.current,OD),!c.current)return;if(typeof m=="number"){r.go(m);return}let g=pb(m,JSON.parse(o),i,f.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:xs([t,g.pathname])),(f.replace?r.replace:r.push)(g,f.state,f)},[t,r,o,i,e])}var mI=x.createContext(null);function fI(e){let t=x.useContext(Qa).outlet;return x.useMemo(()=>t&&x.createElement(mI.Provider,{value:e},t),[t,e])}function yb(){let{matches:e}=x.useContext(Qa),t=e[e.length-1];return t?t.params:{}}function Jd(e,{relative:t}={}){let{matches:r}=x.useContext(Qa),{pathname:n}=jn(),i=JSON.stringify(gb(r));return x.useMemo(()=>pb(e,JSON.parse(i),n,t==="path"),[e,i,n,t])}function hI(e,t){return PD(e,t)}function PD(e,t,r,n,i){Gt(Qo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=x.useContext(bn),{matches:c}=x.useContext(Qa),u=c[c.length-1],m=u?u.params:{},f=u?u.pathname:"/",g=u?u.pathnameBase:"/",p=u&&u.route;{let N=p&&p.path||"";RD(f,!p||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let y=jn(),j;if(t){let N=typeof t=="string"?Zo(t):t;Gt(g==="/"||N.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${N.pathname}" was given in the \`location\` prop.`),j=N}else j=y;let k=j.pathname||"/",b=k;if(g!=="/"){let N=g.replace(/^\//,"").split("/");b="/"+k.replace(/^\//,"").split("/").slice(N.length).join("/")}let C=CD(e,{pathname:b});Xa(p||C!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),Xa(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=vI(C&&C.map(N=>Object.assign({},N,{params:Object.assign({},m,N.params),pathname:xs([g,o.encodeLocation?o.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?g:xs([g,o.encodeLocation?o.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),c,r,n,i);return t&&S?x.createElement(Zd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},S):S}function gI(){let e=kI(),t=iI(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:o},"ErrorBoundary")," or"," ",x.createElement("code",{style:o},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:i},r):null,c)}var pI=x.createElement(gI,null),xI=class extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?x.createElement(Qa.Provider,{value:this.props.routeContext},x.createElement(xb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function yI({routeContext:e,match:t,children:r}){let n=x.useContext(Jo);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),x.createElement(Qa.Provider,{value:e},r)}function vI(e,t=[],r=null,n=null,i=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,c=r?.errors;if(c!=null){let f=o.findIndex(g=>g.route.id&&c?.[g.route.id]!==void 0);Gt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,m=-1;if(r)for(let f=0;f<o.length;f++){let g=o[f];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=f),g.route.id){let{loaderData:p,errors:y}=r,j=g.route.loader&&!p.hasOwnProperty(g.route.id)&&(!y||y[g.route.id]===void 0);if(g.route.lazy||j){u=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((f,g,p)=>{let y,j=!1,k=null,b=null;r&&(y=c&&g.route.id?c[g.route.id]:void 0,k=g.route.errorElement||pI,u&&(m<0&&p===0?(RD("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,b=null):m===p&&(j=!0,b=g.route.hydrateFallbackElement||null)));let C=t.concat(o.slice(0,p+1)),S=()=>{let N;return y?N=k:j?N=b:g.route.Component?N=x.createElement(g.route.Component,null):g.route.element?N=g.route.element:N=f,x.createElement(yI,{match:g,routeContext:{outlet:f,matches:C,isDataRoute:r!=null},children:N})};return r&&(g.route.ErrorBoundary||g.route.errorElement||p===0)?x.createElement(xI,{location:r.location,revalidation:r.revalidation,component:k,error:y,children:S(),routeContext:{outlet:null,matches:C,isDataRoute:!0},unstable_onError:n}):S()},null)}function vb(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bI(e){let t=x.useContext(Jo);return Gt(t,vb(e)),t}function jI(e){let t=x.useContext(S0);return Gt(t,vb(e)),t}function wI(e){let t=x.useContext(Qa);return Gt(t,vb(e)),t}function bb(e){let t=wI(e),r=t.matches[t.matches.length-1];return Gt(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function NI(){return bb("useRouteId")}function kI(){let e=x.useContext(xb),t=jI("useRouteError"),r=bb("useRouteError");return e!==void 0?e:t.errors?.[r]}function SI(){let{router:e}=bI("useNavigate"),t=bb("useNavigate"),r=x.useRef(!1);return MD(()=>{r.current=!0}),x.useCallback(async(i,o={})=>{Xa(r.current,OD),r.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...o}))},[e,t])}var Tk={};function RD(e,t,r){!t&&!Tk[e]&&(Tk[e]=!0,Xa(!1,r))}x.memo(CI);function CI({routes:e,future:t,state:r,unstable_onError:n}){return PD(e,void 0,r,n,t)}function _D({to:e,replace:t,state:r,relative:n}){Gt(Qo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=x.useContext(bn);Xa(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=x.useContext(Qa),{pathname:c}=jn(),u=wn(),m=pb(e,gb(o),c,n==="path"),f=JSON.stringify(m);return x.useEffect(()=>{u(JSON.parse(f),{replace:t,state:r,relative:n})},[u,f,n,t,r]),null}function AI(e){return fI(e.context)}function Wt(e){Gt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function DI({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:i,static:o=!1}){Gt(!Qo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:c,navigator:i,static:o,future:{}}),[c,i,o]);typeof r=="string"&&(r=Zo(r));let{pathname:m="/",search:f="",hash:g="",state:p=null,key:y="default"}=r,j=x.useMemo(()=>{let k=bs(m,c);return k==null?null:{location:{pathname:k,search:f,hash:g,state:p,key:y},navigationType:n}},[c,m,f,g,p,y,n]);return Xa(j!=null,`<Router basename="${c}"> is not able to match the URL "${m}${f}${g}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:x.createElement(bn.Provider,{value:u},x.createElement(Zd.Provider,{children:t,value:j}))}function TI({children:e,location:t}){return hI(Vy(e),t)}function Vy(e,t=[]){let r=[];return x.Children.forEach(e,(n,i)=>{if(!x.isValidElement(n))return;let o=[...t,i];if(n.type===x.Fragment){r.push.apply(r,Vy(n.props.children,o));return}Gt(n.type===Wt,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Gt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let c={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=Vy(n.props.children,o)),r.push(c)}),r}var sf="get",lf="application/x-www-form-urlencoded";function C0(e){return e!=null&&typeof e.tagName=="string"}function EI(e){return C0(e)&&e.tagName.toLowerCase()==="button"}function OI(e){return C0(e)&&e.tagName.toLowerCase()==="form"}function MI(e){return C0(e)&&e.tagName.toLowerCase()==="input"}function PI(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function RI(e,t){return e.button===0&&(!t||t==="_self")&&!PI(e)}function Yy(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function _I(e,t){let r=Yy(e);return t&&t.forEach((n,i)=>{r.has(i)||t.getAll(i).forEach(o=>{r.append(i,o)})}),r}var _m=null;function II(){if(_m===null)try{new FormData(document.createElement("form"),0),_m=!1}catch{_m=!0}return _m}var LI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Zp(e){return e!=null&&!LI.has(e)?(Xa(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lf}"`),null):e}function $I(e,t){let r,n,i,o,c;if(OI(e)){let u=e.getAttribute("action");n=u?bs(u,t):null,r=e.getAttribute("method")||sf,i=Zp(e.getAttribute("enctype"))||lf,o=new FormData(e)}else if(EI(e)||MI(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||u.getAttribute("action");if(n=m?bs(m,t):null,r=e.getAttribute("formmethod")||u.getAttribute("method")||sf,i=Zp(e.getAttribute("formenctype"))||Zp(u.getAttribute("enctype"))||lf,o=new FormData(u,e),!II()){let{name:f,type:g,value:p}=e;if(g==="image"){let y=f?`${f}.`:"";o.append(`${y}x`,"0"),o.append(`${y}y`,"0")}else f&&o.append(f,p)}}else{if(C0(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=sf,n=null,i=lf,c=e}return o&&i==="text/plain"&&(c=o,o=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function jb(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function zI(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&bs(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function UI(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function BI(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function HI(e,t,r){let n=await Promise.all(e.map(async i=>{let o=t.routes[i.route.id];if(o){let c=await UI(o,r);return c.links?c.links():[]}return[]}));return VI(n.flat(1).filter(BI).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Ek(e,t,r,n,i,o){let c=(m,f)=>r[f]?m.route.id!==r[f].route.id:!0,u=(m,f)=>r[f].pathname!==m.pathname||r[f].route.path?.endsWith("*")&&r[f].params["*"]!==m.params["*"];return o==="assets"?t.filter((m,f)=>c(m,f)||u(m,f)):o==="data"?t.filter((m,f)=>{let g=n.routes[m.route.id];if(!g||!g.hasLoader)return!1;if(c(m,f)||u(m,f))return!0;if(m.route.shouldRevalidate){let p=m.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function FI(e,t,{includeHydrateFallback:r}={}){return qI(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function qI(e){return[...new Set(e)]}function WI(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function VI(e,t){let r=new Set;return new Set(t),e.reduce((n,i)=>{let o=JSON.stringify(WI(i));return r.has(o)||(r.add(o),n.push({key:o,link:i})),n},[])}function ID(){let e=x.useContext(Jo);return jb(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function YI(){let e=x.useContext(S0);return jb(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var wb=x.createContext(void 0);wb.displayName="FrameworkContext";function LD(){let e=x.useContext(wb);return jb(e,"You must render this element inside a <HydratedRouter> element"),e}function KI(e,t){let r=x.useContext(wb),[n,i]=x.useState(!1),[o,c]=x.useState(!1),{onFocus:u,onBlur:m,onMouseEnter:f,onMouseLeave:g,onTouchStart:p}=t,y=x.useRef(null);x.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let b=S=>{S.forEach(N=>{c(N.isIntersecting)})},C=new IntersectionObserver(b,{threshold:.5});return y.current&&C.observe(y.current),()=>{C.disconnect()}}},[e]),x.useEffect(()=>{if(n){let b=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(b)}}},[n]);let j=()=>{i(!0)},k=()=>{i(!1),c(!1)};return r?e!=="intent"?[o,y,{}]:[o,y,{onFocus:id(u,j),onBlur:id(m,k),onMouseEnter:id(f,j),onMouseLeave:id(g,k),onTouchStart:id(p,j)}]:[!1,y,{}]}function id(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function GI({page:e,...t}){let{router:r}=ID(),n=x.useMemo(()=>CD(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?x.createElement(ZI,{page:e,matches:n,...t}):null}function XI(e){let{manifest:t,routeModules:r}=LD(),[n,i]=x.useState([]);return x.useEffect(()=>{let o=!1;return HI(e,t,r).then(c=>{o||i(c)}),()=>{o=!0}},[e,t,r]),n}function ZI({page:e,matches:t,...r}){let n=jn(),{manifest:i,routeModules:o}=LD(),{basename:c}=ID(),{loaderData:u,matches:m}=YI(),f=x.useMemo(()=>Ek(e,t,m,i,n,"data"),[e,t,m,i,n]),g=x.useMemo(()=>Ek(e,t,m,i,n,"assets"),[e,t,m,i,n]),p=x.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let k=new Set,b=!1;if(t.forEach(S=>{let N=i.routes[S.route.id];!N||!N.hasLoader||(!f.some(A=>A.route.id===S.route.id)&&S.route.id in u&&o[S.route.id]?.shouldRevalidate||N.hasClientLoader?b=!0:k.add(S.route.id))}),k.size===0)return[];let C=zI(e,c,"data");return b&&k.size>0&&C.searchParams.set("_routes",t.filter(S=>k.has(S.route.id)).map(S=>S.route.id).join(",")),[C.pathname+C.search]},[c,u,n,i,f,t,e,o]),y=x.useMemo(()=>FI(g,i),[g,i]),j=XI(g);return x.createElement(x.Fragment,null,p.map(k=>x.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...r})),y.map(k=>x.createElement("link",{key:k,rel:"modulepreload",href:k,...r})),j.map(({key:k,link:b})=>x.createElement("link",{key:k,nonce:r.nonce,...b})))}function JI(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var $D=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$D&&(window.__reactRouterVersion="7.9.4")}catch{}function QI({basename:e,children:t,window:r}){let n=x.useRef();n.current==null&&(n.current=L_({window:r,v5Compat:!0}));let i=n.current,[o,c]=x.useState({action:i.action,location:i.location}),u=x.useCallback(m=>{x.startTransition(()=>c(m))},[c]);return x.useLayoutEffect(()=>i.listen(u),[i,u]),x.createElement(DI,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:i})}var zD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,da=x.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:i,reloadDocument:o,replace:c,state:u,target:m,to:f,preventScrollReset:g,viewTransition:p,...y},j){let{basename:k}=x.useContext(bn),b=typeof f=="string"&&zD.test(f),C,S=!1;if(typeof f=="string"&&b&&(C=f,$D))try{let X=new URL(window.location.href),ie=f.startsWith("//")?new URL(X.protocol+f):new URL(f),W=bs(ie.pathname,k);ie.origin===X.origin&&W!=null?f=W+ie.search+ie.hash:S=!0}catch{Xa(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=dI(f,{relative:i}),[A,E,T]=KI(n,y),P=r8(f,{replace:c,state:u,target:m,preventScrollReset:g,relative:i,viewTransition:p});function O(X){t&&t(X),X.defaultPrevented||P(X)}let U=x.createElement("a",{...y,...T,href:C||N,onClick:S||o?t:O,ref:JI(j,E),target:m,"data-discover":!b&&r==="render"?"true":void 0});return A&&!b?x.createElement(x.Fragment,null,U,x.createElement(GI,{page:N})):U});da.displayName="Link";var UD=x.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:i=!1,style:o,to:c,viewTransition:u,children:m,...f},g){let p=Jd(c,{relative:f.relative}),y=jn(),j=x.useContext(S0),{navigator:k,basename:b}=x.useContext(bn),C=j!=null&&l8(p)&&u===!0,S=k.encodeLocation?k.encodeLocation(p).pathname:p.pathname,N=y.pathname,A=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;r||(N=N.toLowerCase(),A=A?A.toLowerCase():null,S=S.toLowerCase()),A&&b&&(A=bs(A,b)||A);const E=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let T=N===S||!i&&N.startsWith(S)&&N.charAt(E)==="/",P=A!=null&&(A===S||!i&&A.startsWith(S)&&A.charAt(S.length)==="/"),O={isActive:T,isPending:P,isTransitioning:C},U=T?t:void 0,X;typeof n=="function"?X=n(O):X=[n,T?"active":null,P?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let ie=typeof o=="function"?o(O):o;return x.createElement(da,{...f,"aria-current":U,className:X,ref:g,style:ie,to:c,viewTransition:u},typeof m=="function"?m(O):m)});UD.displayName="NavLink";var e8=x.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:i,state:o,method:c=sf,action:u,onSubmit:m,relative:f,preventScrollReset:g,viewTransition:p,...y},j)=>{let k=s8(),b=i8(u,{relative:f}),C=c.toLowerCase()==="get"?"get":"post",S=typeof u=="string"&&zD.test(u),N=A=>{if(m&&m(A),A.defaultPrevented)return;A.preventDefault();let E=A.nativeEvent.submitter,T=E?.getAttribute("formmethod")||c;k(E||A.currentTarget,{fetcherKey:t,method:T,navigate:r,replace:i,state:o,relative:f,preventScrollReset:g,viewTransition:p})};return x.createElement("form",{ref:j,method:C,action:b,onSubmit:n?m:N,...y,"data-discover":!S&&e==="render"?"true":void 0})});e8.displayName="Form";function t8(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BD(e){let t=x.useContext(Jo);return Gt(t,t8(e)),t}function r8(e,{target:t,replace:r,state:n,preventScrollReset:i,relative:o,viewTransition:c}={}){let u=wn(),m=jn(),f=Jd(e,{relative:o});return x.useCallback(g=>{if(RI(g,t)){g.preventDefault();let p=r!==void 0?r:Dd(m)===Dd(f);u(e,{replace:p,state:n,preventScrollReset:i,relative:o,viewTransition:c})}},[m,u,f,r,n,t,e,i,o,c])}function HD(e){Xa(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=x.useRef(Yy(e)),r=x.useRef(!1),n=jn(),i=x.useMemo(()=>_I(n.search,r.current?null:t.current),[n.search]),o=wn(),c=x.useCallback((u,m)=>{const f=Yy(typeof u=="function"?u(new URLSearchParams(i)):u);r.current=!0,o("?"+f,m)},[o,i]);return[i,c]}var a8=0,n8=()=>`__${String(++a8)}__`;function s8(){let{router:e}=BD("useSubmit"),{basename:t}=x.useContext(bn),r=NI();return x.useCallback(async(n,i={})=>{let{action:o,method:c,encType:u,formData:m,body:f}=$I(n,t);if(i.navigate===!1){let g=i.fetcherKey||n8();await e.fetch(g,r,i.action||o,{preventScrollReset:i.preventScrollReset,formData:m,body:f,formMethod:i.method||c,formEncType:i.encType||u,flushSync:i.flushSync})}else await e.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:m,body:f,formMethod:i.method||c,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,r])}function i8(e,{relative:t}={}){let{basename:r}=x.useContext(bn),n=x.useContext(Qa);Gt(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),o={...Jd(e||".",{relative:t})},c=jn();if(e==null){o.search=c.search;let u=new URLSearchParams(o.search),m=u.getAll("index");if(m.some(g=>g==="")){u.delete("index"),m.filter(p=>p).forEach(p=>u.append("index",p));let g=u.toString();o.search=g?`?${g}`:""}}return(!e||e===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(o.pathname=o.pathname==="/"?r:xs([r,o.pathname])),Dd(o)}function l8(e,{relative:t}={}){let r=x.useContext(ED);Gt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=BD("useViewTransitionState"),i=Jd(e,{relative:t});if(!r.isTransitioning)return!1;let o=bs(r.currentLocation.pathname,n)||r.currentLocation.pathname,c=bs(r.nextLocation.pathname,n)||r.nextLocation.pathname;return pf(i.pathname,c)!=null||pf(i.pathname,o)!=null}var Sl=SD();const o8=vn(Sl),FD=x.createContext(void 0),c8=()=>{const e=x.useContext(FD);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},d8=({children:e})=>{const[t,r]=x.useState(()=>localStorage.getItem("theme")||"light");x.useEffect(()=>{const i=window.document.documentElement;i.classList.remove("light","dark"),i.classList.add(t),localStorage.setItem("theme",t)},[t]);const n=()=>{r(i=>i==="light"?"dark":"light")};return a.jsx(FD.Provider,{value:{theme:t,toggleTheme:n},children:e})},u8="http://localhost:4000";let tt=u8;tt.startsWith(":")?tt=`${window.location.protocol}//${window.location.hostname}${tt}`:/^https?:\/\//i.test(tt)||(tt=`http://${tt}`);tt=tt.replace(/\/+$/,"");function qD(e){const t=e.startsWith("/")?e:`/${e}`;return`${tt}${t}`}async function WD(e){if(!e.ok)throw new Error(await e.text());return e.status===204?null:e.json()}function Tt(e){const t=new URL(qD(e));t.searchParams.set("_ts",Date.now().toString());const r=localStorage.getItem("userId"),n=localStorage.getItem("authToken");return fetch(t.toString(),{headers:{"Content-Type":"application/json","Cache-Control":"no-cache, no-store",...n?{authorization:`Bearer ${n}`}:{},...!n&&!0&&r?{"x-user-id":r}:{}},cache:"no-store",credentials:"include"}).then(WD)}function Xt(e,t,r){const n=new URL(qD(e));n.searchParams.set("_ts",Date.now().toString());const i=localStorage.getItem("userId"),o=localStorage.getItem("authToken");return fetch(n.toString(),{method:t,headers:{"Content-Type":"application/json","Cache-Control":"no-cache, no-store",...o?{authorization:`Bearer ${o}`}:{},...!o&&!0&&i?{"x-user-id":i}:{}},body:r?JSON.stringify(r):void 0,cache:"no-store",credentials:"include"}).then(WD)}const Ok=Object.freeze(Object.defineProperty({__proto__:null,get API_BASE(){return tt},apiGet:Tt,apiJson:Xt},Symbol.toStringTag,{value:"Module"})),VD=x.createContext(void 0),Cl=()=>{const e=x.useContext(VD);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},m8=({children:e})=>{const[t,r]=x.useState(null),[n,i]=x.useState(!0);x.useEffect(()=>{(async()=>{try{if(localStorage.getItem("authToken")){const p=await Tt("/api/users/me");if(p){const y=String(p.role||"").toLowerCase(),j=y==="admin"?"admin":y==="director"?"director":y==="manager"?"manager":y==="consultant"?"consultant":y==="lead"?"lead":y==="client"?"client":"member",k={id:String(p.id),email:String(p.email||""),name:String(p.name||""),role:j,department:String(p.department||""),isActive:!0,avatar:String(p.name||"U").split(" ").map(b=>b[0]).join("").slice(0,2).toUpperCase(),lastActive:new Date().toISOString(),isSuperAdmin:!!p.isSuperAdmin};r(k),localStorage.setItem("user",JSON.stringify(k));return}}const g=localStorage.getItem("user");g&&r(JSON.parse(g))}catch{if(!!localStorage.getItem("authToken"))localStorage.removeItem("authToken"),localStorage.removeItem("user"),r(null);else{const p=localStorage.getItem("user");p&&r(JSON.parse(p))}}finally{i(!1)}})()},[]);const o=async(m,f)=>{i(!0);try{const g=await Xt("/api/auth/login","POST",{email:m,password:f});g?.token&&localStorage.setItem("authToken",g.token);const p=await Tt("/api/users/me"),y=String(p.role||"").toLowerCase(),j=y==="admin"?"admin":y==="director"?"director":y==="manager"?"manager":y==="consultant"?"consultant":y==="lead"?"lead":y==="client"?"client":"member",k={id:String(p.id),email:String(p.email||""),name:String(p.name||""),role:j,department:String(p.department||""),isActive:!0,avatar:String(p.name||"U").split(" ").map(b=>b[0]).join("").slice(0,2).toUpperCase(),lastActive:new Date().toISOString(),isSuperAdmin:!!p.isSuperAdmin};r(k),localStorage.setItem("user",JSON.stringify(k))}catch{throw new Error("Invalid credentials")}finally{i(!1)}},c=()=>{r(null),localStorage.removeItem("user"),localStorage.removeItem("authToken")},u=!!t;return a.jsx(VD.Provider,{value:{user:t,isLoading:n,login:o,logout:c,isAuthenticated:u},children:e})},f8=()=>{const[e,t]=x.useState(""),[r,n]=x.useState(""),[i,o]=x.useState(""),[c,u]=x.useState(!1),{login:m}=Cl(),f=wn(),g=async p=>{p.preventDefault(),o(""),u(!0);try{await m(e,r),f("/dashboard")}catch{o("Invalid email or password")}finally{u(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"flex justify-center mb-6",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"relative w-12 h-12",children:[a.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-cyan-400 via-blue-500 to-blue-700 flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold text-xl",children:"R"})}),a.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-cyan-400 via-blue-500 to-blue-700 opacity-20 blur-sm"})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-2xl font-bold text-gray-900 dark:text-white tracking-wide",children:"REMORA"}),a.jsx("span",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium",children:"BY PRANEESHA MENDIS"})]})]})}),a.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900 dark:text-white",children:"Sign in"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Enter your credentials to access your dashboard"})]}),a.jsxs("form",{className:"mt-8 space-y-6",onSubmit:g,children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email address"}),a.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:p=>t(p.target.value),className:"input-field mt-1",placeholder:"Enter your email"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Password"}),a.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:r,onChange:p=>n(p.target.value),className:"input-field mt-1",placeholder:"Enter your password"})]})]}),i&&a.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl p-4",children:a.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:i})}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:c,className:"btn-primary w-full flex justify-center py-3",children:c?"Signing in...":"Sign in"})}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("button",{type:"button",className:"text-primary-600 hover:text-primary-500 dark:text-primary-400 dark:hover:text-primary-300",onClick:()=>f("/forgot-password"),children:"Forgot password?"}),a.jsx("button",{type:"button",className:"text-primary-600 hover:text-primary-500 dark:text-primary-400 dark:hover:text-primary-300",onClick:()=>f("/signup"),children:"Create an account"})]})]})]})})};function Td(){return Tt("/api/departments")}function Mk(e,t){const r=new URLSearchParams;t?.force&&r.set("force","true"),t?.toDeptId&&r.set("toDeptId",t.toDeptId);const n=r.toString()?`?${r.toString()}`:"";return Xt(`/api/departments/${e}${n}`,"DELETE")}function ko(){return Tt("/api/roles")}function h8(e){return Xt("/api/roles","POST",{name:e})}function Pk(e,t){const r=new URLSearchParams;t?.force&&r.set("force","true"),t?.toRoleId&&r.set("toRoleId",t.toRoleId);const n=r.toString()?`?${r.toString()}`:"";return Xt(`/api/roles/${e}${n}`,"DELETE")}const g8=()=>{const e=wn(),[t,r]=x.useState([]),[n,i]=x.useState([]),[o,c]=x.useState(""),[u,m]=x.useState(!1),[f,g]=x.useState({name:"",email:"",password:"",desiredDepartmentId:"",intendedRoleId:"",managerName:"",billable:!1});x.useEffect(()=>{(async()=>{try{r(await Td())}catch{}try{i(await ko())}catch{}})()},[]);async function p(y){y.preventDefault(),c(""),m(!0);try{const j={name:f.name,email:f.email,password:f.password,desiredDepartmentId:f.desiredDepartmentId,intendedRoleId:f.intendedRoleId||void 0,managerName:f.managerName||void 0,billable:!!f.billable},k=await Xt("/api/auth/signup","POST",j);c("Thanks! Please verify your email. Once approved, you can log in."),k?.verifyUrl&&c(`Verify via: ${k.verifyUrl}`)}catch(j){c(j?.message||"Failed to sign up")}finally{m(!1)}}return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"w-full max-w-xl",children:a.jsxs("div",{className:"card space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Create your account"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Sign up, verify your email, and await approval"})]}),o&&a.jsx("div",{className:"text-sm p-2 rounded bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200",children:o}),a.jsxs("form",{onSubmit:p,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",children:"Full name"}),a.jsx("input",{className:"input-field",value:f.name,onChange:y=>g({...f,name:y.target.value}),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",children:"Work email"}),a.jsx("input",{type:"email",className:"input-field",value:f.email,onChange:y=>g({...f,email:y.target.value}),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",children:"Password"}),a.jsx("input",{type:"password",className:"input-field",value:f.password,onChange:y=>g({...f,password:y.target.value}),required:!0})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",children:"Desired Department"}),a.jsxs("select",{className:"input-field",value:f.desiredDepartmentId,onChange:y=>g({...f,desiredDepartmentId:y.target.value}),required:!0,children:[a.jsx("option",{value:"",children:"Select department"}),t.map(y=>a.jsx("option",{value:y.id,children:y.name},y.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",children:"Intended Role (optional)"}),a.jsxs("select",{className:"input-field",value:f.intendedRoleId,onChange:y=>g({...f,intendedRoleId:y.target.value}),children:[a.jsx("option",{value:"",children:"No preference"}),n.map(y=>a.jsx("option",{value:y.id,children:y.name},y.id))]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",children:"Manager name (optional)"}),a.jsx("input",{className:"input-field",value:f.managerName,onChange:y=>g({...f,managerName:y.target.value})})]}),a.jsxs("label",{className:"flex items-center gap-2 text-sm mt-6 md:mt-8",children:[a.jsx("input",{type:"checkbox",checked:f.billable,onChange:y=>g({...f,billable:y.target.checked})})," Billable"]})]}),a.jsxs("div",{className:"pt-2 flex items-center gap-3",children:[a.jsx("button",{type:"submit",className:"btn-primary",disabled:u,children:u?"Submitting":"Sign up"}),a.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>e("/login"),children:"Back to login"})]})]})]})})})};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p8=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),x8=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),Rk=e=>{const t=x8(e);return t.charAt(0).toUpperCase()+t.slice(1)},YD=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),y8=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var v8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b8=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:o,iconNode:c,...u},m)=>x.createElement("svg",{ref:m,...v8,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:YD("lucide",i),...!o&&!y8(u)&&{"aria-hidden":"true"},...u},[...c.map(([f,g])=>x.createElement(f,g)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=(e,t)=>{const r=x.forwardRef(({className:n,...i},o)=>x.createElement(b8,{ref:o,iconNode:t,className:YD(`lucide-${p8(Rk(e))}`,`lucide-${e}`,n),...i}));return r.displayName=Rk(e),r};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j8=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],w8=Ye("arrow-left",j8);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N8=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],KD=Ye("arrow-up-down",N8);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k8=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Ky=Ye("building-2",k8);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S8=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],wd=Ye("calendar-days",S8);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C8=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ca=Ye("calendar",C8);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A8=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],D8=Ye("camera",A8);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T8=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Nb=Ye("chart-column",T8);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E8=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],GD=Ye("check",E8);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O8=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],A0=Ye("chevron-down",O8);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M8=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],P8=Ye("chevron-left",M8);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R8=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],XD=Ye("chevron-right",R8);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _8=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],I8=Ye("chevron-up",_8);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],js=Ye("circle-alert",L8);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],la=Ye("circle-check",$8);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z8=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Gy=Ye("circle-check-big",z8);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],B8=Ye("circle-x",U8);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H8=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Sr=Ye("clock",H8);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F8=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],q8=Ye("copy",F8);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W8=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],V8=Ye("dollar-sign",W8);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y8=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],nl=Ye("download",Y8);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K8=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],xf=Ye("eye-off",K8);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G8=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Oo=Ye("eye",G8);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X8=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],_n=Ye("file-text",X8);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z8=[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]],Xy=Ye("folder-kanban",Z8);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J8=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Q8=Ye("folder-open",J8);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e9=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],ZD=Ye("funnel",e9);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t9=[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]],r9=Ye("git-compare",t9);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Jp=Ye("globe",a9);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n9=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],s9=Ye("history",n9);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],l9=Ye("info",i9);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o9=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["rect",{x:"3",y:"4",width:"6",height:"6",rx:"1",key:"cif1o7"}]],c9=Ye("list-todo",o9);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d9=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],u9=Ye("list",d9);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m9=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],f9=Ye("loader-circle",m9);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h9=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],g9=Ye("log-out",h9);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p9=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],x9=Ye("mail",p9);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y9=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],of=Ye("message-square",y9);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v9=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],JD=Ye("pause",v9);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b9=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],QD=Ye("pen-line",b9);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j9=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],kb=Ye("play",j9);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w9=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],yf=Ye("plus",w9);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],k9=Ye("receipt",N9);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S9=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],C9=Ye("refresh-cw",S9);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A9=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],D9=Ye("save",A9);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T9=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],D0=Ye("search",T9);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E9=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Sb=Ye("settings",E9);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O9=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Qd=Ye("shield",O9);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M9=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],P9=Ye("square-check-big",M9);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R9=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],_9=Ye("square-x",R9);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Ed=Ye("target",I9);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L9=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Zy=Ye("trash-2",L9);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Jy=Ye("trending-up",$9);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z9=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],U9=Ye("undo-2",z9);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B9=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],H9=Ye("upload",B9);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F9=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],_k=Ye("user-check",F9);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q9=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ik=Ye("user-cog",q9);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W9=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],gn=Ye("users",W9);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V9=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],So=Ye("user",V9);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y9=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],eu=Ye("x",Y9);function Lk(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function eT(...e){return t=>{let r=!1;const n=e.map(i=>{const o=Lk(i,t);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let i=0;i<n.length;i++){const o=n[i];typeof o=="function"?o():Lk(e[i],null)}}}}function vt(...e){return x.useCallback(eT(...e),e)}function hl(e){const t=G9(e),r=x.forwardRef((n,i)=>{const{children:o,...c}=n,u=x.Children.toArray(o),m=u.find(Z9);if(m){const f=m.props.children,g=u.map(p=>p===m?x.Children.count(f)>1?x.Children.only(null):x.isValidElement(f)?f.props.children:null:p);return a.jsx(t,{...c,ref:i,children:x.isValidElement(f)?x.cloneElement(f,void 0,g):null})}return a.jsx(t,{...c,ref:i,children:o})});return r.displayName=`${e}.Slot`,r}var K9=hl("Slot");function G9(e){const t=x.forwardRef((r,n)=>{const{children:i,...o}=r;if(x.isValidElement(i)){const c=Q9(i),u=J9(o,i.props);return i.type!==x.Fragment&&(u.ref=n?eT(n,c):c),x.cloneElement(i,u)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var tT=Symbol("radix.slottable");function X9(e){const t=({children:r})=>a.jsx(a.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=tT,t}function Z9(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===tT}function J9(e,t){const r={...t};for(const n in t){const i=e[n],o=t[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...u)=>{const m=o(...u);return i(...u),m}:i&&(r[n]=i):n==="style"?r[n]={...i,...o}:n==="className"&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...e,...r}}function Q9(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function rT(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=rT(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function It(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=rT(e))&&(n&&(n+=" "),n+=t);return n}const $k=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,zk=It,T0=(e,t)=>r=>{var n;if(t?.variants==null)return zk(e,r?.class,r?.className);const{variants:i,defaultVariants:o}=t,c=Object.keys(i).map(f=>{const g=r?.[f],p=o?.[f];if(g===null)return null;const y=$k(g)||$k(p);return i[f][y]}),u=r&&Object.entries(r).reduce((f,g)=>{let[p,y]=g;return y===void 0||(f[p]=y),f},{}),m=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((f,g)=>{let{class:p,className:y,...j}=g;return Object.entries(j).every(k=>{let[b,C]=k;return Array.isArray(C)?C.includes({...o,...u}[b]):{...o,...u}[b]===C})?[...f,p,y]:f},[]);return zk(e,c,m,r?.class,r?.className)},Cb="-",eL=e=>{const t=rL(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:c=>{const u=c.split(Cb);return u[0]===""&&u.length!==1&&u.shift(),aT(u,t)||tL(c)},getConflictingClassGroupIds:(c,u)=>{const m=r[c]||[];return u&&n[c]?[...m,...n[c]]:m}}},aT=(e,t)=>{if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),i=n?aT(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const o=e.join(Cb);return t.validators.find(({validator:c})=>c(o))?.classGroupId},Uk=/^\[(.+)\]$/,tL=e=>{if(Uk.test(e)){const t=Uk.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},rL=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return nL(Object.entries(e.classGroups),r).forEach(([o,c])=>{Qy(c,n,o,t)}),n},Qy=(e,t,r,n)=>{e.forEach(i=>{if(typeof i=="string"){const o=i===""?t:Bk(t,i);o.classGroupId=r;return}if(typeof i=="function"){if(aL(i)){Qy(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([o,c])=>{Qy(c,Bk(t,o),r,n)})})},Bk=(e,t)=>{let r=e;return t.split(Cb).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},aL=e=>e.isThemeGetter,nL=(e,t)=>t?e.map(([r,n])=>{const i=n.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([c,u])=>[t+c,u])):o);return[r,i]}):e,sL=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const i=(o,c)=>{r.set(o,c),t++,t>e&&(t=0,n=r,r=new Map)};return{get(o){let c=r.get(o);if(c!==void 0)return c;if((c=n.get(o))!==void 0)return i(o,c),c},set(o,c){r.has(o)?r.set(o,c):i(o,c)}}},nT="!",iL=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,i=t[0],o=t.length,c=u=>{const m=[];let f=0,g=0,p;for(let C=0;C<u.length;C++){let S=u[C];if(f===0){if(S===i&&(n||u.slice(C,C+o)===t)){m.push(u.slice(g,C)),g=C+o;continue}if(S==="/"){p=C;continue}}S==="["?f++:S==="]"&&f--}const y=m.length===0?u:u.substring(g),j=y.startsWith(nT),k=j?y.substring(1):y,b=p&&p>g?p-g:void 0;return{modifiers:m,hasImportantModifier:j,baseClassName:k,maybePostfixModifierPosition:b}};return r?u=>r({className:u,parseClassName:c}):c},lL=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},oL=e=>({cache:sL(e.cacheSize),parseClassName:iL(e),...eL(e)}),cL=/\s+/,dL=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=t,o=[],c=e.trim().split(cL);let u="";for(let m=c.length-1;m>=0;m-=1){const f=c[m],{modifiers:g,hasImportantModifier:p,baseClassName:y,maybePostfixModifierPosition:j}=r(f);let k=!!j,b=n(k?y.substring(0,j):y);if(!b){if(!k){u=f+(u.length>0?" "+u:u);continue}if(b=n(y),!b){u=f+(u.length>0?" "+u:u);continue}k=!1}const C=lL(g).join(":"),S=p?C+nT:C,N=S+b;if(o.includes(N))continue;o.push(N);const A=i(b,k);for(let E=0;E<A.length;++E){const T=A[E];o.push(S+T)}u=f+(u.length>0?" "+u:u)}return u};function uL(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=sT(t))&&(n&&(n+=" "),n+=r);return n}const sT=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=sT(e[n]))&&(r&&(r+=" "),r+=t);return r};function mL(e,...t){let r,n,i,o=c;function c(m){const f=t.reduce((g,p)=>p(g),e());return r=oL(f),n=r.cache.get,i=r.cache.set,o=u,u(m)}function u(m){const f=n(m);if(f)return f;const g=dL(m,r);return i(m,g),g}return function(){return o(uL.apply(null,arguments))}}const qt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},iT=/^\[(?:([a-z-]+):)?(.+)\]$/i,fL=/^\d+\/\d+$/,hL=new Set(["px","full","screen"]),gL=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,pL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,xL=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,yL=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,vL=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ms=e=>Co(e)||hL.has(e)||fL.test(e),oi=e=>ec(e,"length",AL),Co=e=>!!e&&!Number.isNaN(Number(e)),Qp=e=>ec(e,"number",Co),ld=e=>!!e&&Number.isInteger(Number(e)),bL=e=>e.endsWith("%")&&Co(e.slice(0,-1)),lt=e=>iT.test(e),ci=e=>gL.test(e),jL=new Set(["length","size","percentage"]),wL=e=>ec(e,jL,lT),NL=e=>ec(e,"position",lT),kL=new Set(["image","url"]),SL=e=>ec(e,kL,TL),CL=e=>ec(e,"",DL),od=()=>!0,ec=(e,t,r)=>{const n=iT.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},AL=e=>pL.test(e)&&!xL.test(e),lT=()=>!1,DL=e=>yL.test(e),TL=e=>vL.test(e),EL=()=>{const e=qt("colors"),t=qt("spacing"),r=qt("blur"),n=qt("brightness"),i=qt("borderColor"),o=qt("borderRadius"),c=qt("borderSpacing"),u=qt("borderWidth"),m=qt("contrast"),f=qt("grayscale"),g=qt("hueRotate"),p=qt("invert"),y=qt("gap"),j=qt("gradientColorStops"),k=qt("gradientColorStopPositions"),b=qt("inset"),C=qt("margin"),S=qt("opacity"),N=qt("padding"),A=qt("saturate"),E=qt("scale"),T=qt("sepia"),P=qt("skew"),O=qt("space"),U=qt("translate"),X=()=>["auto","contain","none"],ie=()=>["auto","hidden","clip","visible","scroll"],W=()=>["auto",lt,t],G=()=>[lt,t],H=()=>["",ms,oi],Q=()=>["auto",Co,lt],te=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],$=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],re=()=>["start","end","center","between","around","evenly","stretch"],K=()=>["","0",lt],J=()=>["auto","avoid","all","avoid-page","page","left","right","column"],I=()=>[Co,lt];return{cacheSize:500,separator:":",theme:{colors:[od],spacing:[ms,oi],blur:["none","",ci,lt],brightness:I(),borderColor:[e],borderRadius:["none","","full",ci,lt],borderSpacing:G(),borderWidth:H(),contrast:I(),grayscale:K(),hueRotate:I(),invert:K(),gap:G(),gradientColorStops:[e],gradientColorStopPositions:[bL,oi],inset:W(),margin:W(),opacity:I(),padding:G(),saturate:I(),scale:I(),sepia:K(),skew:I(),space:G(),translate:G()},classGroups:{aspect:[{aspect:["auto","square","video",lt]}],container:["container"],columns:[{columns:[ci]}],"break-after":[{"break-after":J()}],"break-before":[{"break-before":J()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...te(),lt]}],overflow:[{overflow:ie()}],"overflow-x":[{"overflow-x":ie()}],"overflow-y":[{"overflow-y":ie()}],overscroll:[{overscroll:X()}],"overscroll-x":[{"overscroll-x":X()}],"overscroll-y":[{"overscroll-y":X()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ld,lt]}],basis:[{basis:W()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",lt]}],grow:[{grow:K()}],shrink:[{shrink:K()}],order:[{order:["first","last","none",ld,lt]}],"grid-cols":[{"grid-cols":[od]}],"col-start-end":[{col:["auto",{span:["full",ld,lt]},lt]}],"col-start":[{"col-start":Q()}],"col-end":[{"col-end":Q()}],"grid-rows":[{"grid-rows":[od]}],"row-start-end":[{row:["auto",{span:[ld,lt]},lt]}],"row-start":[{"row-start":Q()}],"row-end":[{"row-end":Q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",lt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",lt]}],gap:[{gap:[y]}],"gap-x":[{"gap-x":[y]}],"gap-y":[{"gap-y":[y]}],"justify-content":[{justify:["normal",...re()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...re(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...re(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[N]}],px:[{px:[N]}],py:[{py:[N]}],ps:[{ps:[N]}],pe:[{pe:[N]}],pt:[{pt:[N]}],pr:[{pr:[N]}],pb:[{pb:[N]}],pl:[{pl:[N]}],m:[{m:[C]}],mx:[{mx:[C]}],my:[{my:[C]}],ms:[{ms:[C]}],me:[{me:[C]}],mt:[{mt:[C]}],mr:[{mr:[C]}],mb:[{mb:[C]}],ml:[{ml:[C]}],"space-x":[{"space-x":[O]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[O]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",lt,t]}],"min-w":[{"min-w":[lt,t,"min","max","fit"]}],"max-w":[{"max-w":[lt,t,"none","full","min","max","fit","prose",{screen:[ci]},ci]}],h:[{h:[lt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[lt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[lt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[lt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ci,oi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Qp]}],"font-family":[{font:[od]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",lt]}],"line-clamp":[{"line-clamp":["none",Co,Qp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ms,lt]}],"list-image":[{"list-image":["none",lt]}],"list-style-type":[{list:["none","disc","decimal",lt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[S]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[S]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ms,oi]}],"underline-offset":[{"underline-offset":["auto",ms,lt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:G()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",lt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",lt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[S]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...te(),NL]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",wL]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},SL]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[k]}],"gradient-via-pos":[{via:[k]}],"gradient-to-pos":[{to:[k]}],"gradient-from":[{from:[j]}],"gradient-via":[{via:[j]}],"gradient-to":[{to:[j]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[S]}],"border-style":[{border:[...$(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[S]}],"divide-style":[{divide:$()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...$()]}],"outline-offset":[{"outline-offset":[ms,lt]}],"outline-w":[{outline:[ms,oi]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:H()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[S]}],"ring-offset-w":[{"ring-offset":[ms,oi]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ci,CL]}],"shadow-color":[{shadow:[od]}],opacity:[{opacity:[S]}],"mix-blend":[{"mix-blend":[...V(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[m]}],"drop-shadow":[{"drop-shadow":["","none",ci,lt]}],grayscale:[{grayscale:[f]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[p]}],saturate:[{saturate:[A]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[m]}],"backdrop-grayscale":[{"backdrop-grayscale":[f]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[S]}],"backdrop-saturate":[{"backdrop-saturate":[A]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",lt]}],duration:[{duration:I()}],ease:[{ease:["linear","in","out","in-out",lt]}],delay:[{delay:I()}],animate:[{animate:["none","spin","ping","pulse","bounce",lt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[ld,lt]}],"translate-x":[{"translate-x":[U]}],"translate-y":[{"translate-y":[U]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",lt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",lt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":G()}],"scroll-mx":[{"scroll-mx":G()}],"scroll-my":[{"scroll-my":G()}],"scroll-ms":[{"scroll-ms":G()}],"scroll-me":[{"scroll-me":G()}],"scroll-mt":[{"scroll-mt":G()}],"scroll-mr":[{"scroll-mr":G()}],"scroll-mb":[{"scroll-mb":G()}],"scroll-ml":[{"scroll-ml":G()}],"scroll-p":[{"scroll-p":G()}],"scroll-px":[{"scroll-px":G()}],"scroll-py":[{"scroll-py":G()}],"scroll-ps":[{"scroll-ps":G()}],"scroll-pe":[{"scroll-pe":G()}],"scroll-pt":[{"scroll-pt":G()}],"scroll-pr":[{"scroll-pr":G()}],"scroll-pb":[{"scroll-pb":G()}],"scroll-pl":[{"scroll-pl":G()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",lt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ms,oi,Qp]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},OL=mL(EL);function nt(...e){return OL(It(e))}const ML=T0("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ut=x.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...i},o)=>{const c=n?K9:"button";return a.jsx(c,{className:nt(ML({variant:t,size:r,className:e})),ref:o,...i})});ut.displayName="Button";const sa=x.forwardRef(({className:e,type:t,...r},n)=>a.jsx("input",{type:t,className:nt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));sa.displayName="Input";var PL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ct=PL.reduce((e,t)=>{const r=hl(`Primitive.${t}`),n=x.forwardRef((i,o)=>{const{asChild:c,...u}=i,m=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(m,{...u,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function RL(e,t){e&&Sl.flushSync(()=>e.dispatchEvent(t))}var _L="Label",oT=x.forwardRef((e,t)=>a.jsx(ct.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));oT.displayName=_L;var cT=oT;const IL=T0("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),vr=x.forwardRef(({className:e,...t},r)=>a.jsx(cT,{ref:r,className:nt(IL(),e),...t}));vr.displayName=cT.displayName;const hn=x.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:nt("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));hn.displayName="Card";const LL=x.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:nt("flex flex-col space-y-1.5 p-6",e),...t}));LL.displayName="CardHeader";const $L=x.forwardRef(({className:e,...t},r)=>a.jsx("h3",{ref:r,className:nt("text-2xl font-semibold leading-none tracking-tight",e),...t}));$L.displayName="CardTitle";const zL=x.forwardRef(({className:e,...t},r)=>a.jsx("p",{ref:r,className:nt("text-sm text-muted-foreground",e),...t}));zL.displayName="CardDescription";const UL=x.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:nt("p-6 pt-0",e),...t}));UL.displayName="CardContent";const BL=x.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:nt("flex items-center p-6 pt-0",e),...t}));BL.displayName="CardFooter";function HL(e,t){const r=x.createContext(t),n=o=>{const{children:c,...u}=o,m=x.useMemo(()=>u,Object.values(u));return a.jsx(r.Provider,{value:m,children:c})};n.displayName=e+"Provider";function i(o){const c=x.useContext(r);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[n,i]}function Ds(e,t=[]){let r=[];function n(o,c){const u=x.createContext(c),m=r.length;r=[...r,c];const f=p=>{const{scope:y,children:j,...k}=p,b=y?.[e]?.[m]||u,C=x.useMemo(()=>k,Object.values(k));return a.jsx(b.Provider,{value:C,children:j})};f.displayName=o+"Provider";function g(p,y){const j=y?.[e]?.[m]||u,k=x.useContext(j);if(k)return k;if(c!==void 0)return c;throw new Error(`\`${p}\` must be used within \`${o}\``)}return[f,g]}const i=()=>{const o=r.map(c=>x.createContext(c));return function(u){const m=u?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...u,[e]:m}}),[u,m])}};return i.scopeName=e,[n,FL(i,...t)]}function FL(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const c=n.reduce((u,{useScope:m,scopeName:f})=>{const p=m(o)[`__scope${f}`];return{...u,...p}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return r.scopeName=t.scopeName,r}function rt(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e?.(i),r===!1||!i.defaultPrevented)return t?.(i)}}var $r=globalThis?.document?x.useLayoutEffect:()=>{},qL=hb[" useInsertionEffect ".trim().toString()]||$r;function gl({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[i,o,c]=WL({defaultProp:t,onChange:r}),u=e!==void 0,m=u?e:i;{const g=x.useRef(e!==void 0);x.useEffect(()=>{const p=g.current;p!==u&&console.warn(`${n} is changing from ${p?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=u},[u,n])}const f=x.useCallback(g=>{if(u){const p=VL(g)?g(e):g;p!==e&&c.current?.(p)}else o(g)},[u,e,o,c]);return[m,f]}function WL({defaultProp:e,onChange:t}){const[r,n]=x.useState(e),i=x.useRef(r),o=x.useRef(t);return qL(()=>{o.current=t},[t]),x.useEffect(()=>{i.current!==r&&(o.current?.(r),i.current=r)},[r,i]),[r,n,o]}function VL(e){return typeof e=="function"}function Ab(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function Db(e){const[t,r]=x.useState(void 0);return $r(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let c,u;if("borderBoxSize"in o){const m=o.borderBoxSize,f=Array.isArray(m)?m[0]:m;c=f.inlineSize,u=f.blockSize}else c=e.offsetWidth,u=e.offsetHeight;r({width:c,height:u})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}function YL(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var en=e=>{const{present:t,children:r}=e,n=KL(t),i=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),o=vt(n.ref,GL(i));return typeof r=="function"||n.isPresent?x.cloneElement(i,{ref:o}):null};en.displayName="Presence";function KL(e){const[t,r]=x.useState(),n=x.useRef(null),i=x.useRef(e),o=x.useRef("none"),c=e?"mounted":"unmounted",[u,m]=YL(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const f=Im(n.current);o.current=u==="mounted"?f:"none"},[u]),$r(()=>{const f=n.current,g=i.current;if(g!==e){const y=o.current,j=Im(f);e?m("MOUNT"):j==="none"||f?.display==="none"?m("UNMOUNT"):m(g&&y!==j?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,m]),$r(()=>{if(t){let f;const g=t.ownerDocument.defaultView??window,p=j=>{const b=Im(n.current).includes(CSS.escape(j.animationName));if(j.target===t&&b&&(m("ANIMATION_END"),!i.current)){const C=t.style.animationFillMode;t.style.animationFillMode="forwards",f=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=C)})}},y=j=>{j.target===t&&(o.current=Im(n.current))};return t.addEventListener("animationstart",y),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{g.clearTimeout(f),t.removeEventListener("animationstart",y),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else m("ANIMATION_END")},[t,m]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:x.useCallback(f=>{n.current=f?getComputedStyle(f):null,r(f)},[])}}function Im(e){return e?.animationName||"none"}function GL(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var E0="Checkbox",[XL]=Ds(E0),[ZL,Tb]=XL(E0);function JL(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:i,disabled:o,form:c,name:u,onCheckedChange:m,required:f,value:g="on",internal_do_not_use_render:p}=e,[y,j]=gl({prop:r,defaultProp:i??!1,onChange:m,caller:E0}),[k,b]=x.useState(null),[C,S]=x.useState(null),N=x.useRef(!1),A=k?!!c||!!k.closest("form"):!0,E={checked:y,disabled:o,setChecked:j,control:k,setControl:b,name:u,form:c,value:g,hasConsumerStoppedPropagationRef:N,required:f,defaultChecked:xi(i)?!1:i,isFormControl:A,bubbleInput:C,setBubbleInput:S};return a.jsx(ZL,{scope:t,...E,children:QL(p)?p(E):n})}var dT="CheckboxTrigger",uT=x.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},i)=>{const{control:o,value:c,disabled:u,checked:m,required:f,setControl:g,setChecked:p,hasConsumerStoppedPropagationRef:y,isFormControl:j,bubbleInput:k}=Tb(dT,e),b=vt(i,g),C=x.useRef(m);return x.useEffect(()=>{const S=o?.form;if(S){const N=()=>p(C.current);return S.addEventListener("reset",N),()=>S.removeEventListener("reset",N)}},[o,p]),a.jsx(ct.button,{type:"button",role:"checkbox","aria-checked":xi(m)?"mixed":m,"aria-required":f,"data-state":pT(m),"data-disabled":u?"":void 0,disabled:u,value:c,...n,ref:b,onKeyDown:rt(t,S=>{S.key==="Enter"&&S.preventDefault()}),onClick:rt(r,S=>{p(N=>xi(N)?!0:!N),k&&j&&(y.current=S.isPropagationStopped(),y.current||S.stopPropagation())})})});uT.displayName=dT;var Eb=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:o,required:c,disabled:u,value:m,onCheckedChange:f,form:g,...p}=e;return a.jsx(JL,{__scopeCheckbox:r,checked:i,defaultChecked:o,disabled:u,required:c,onCheckedChange:f,name:n,form:g,value:m,internal_do_not_use_render:({isFormControl:y})=>a.jsxs(a.Fragment,{children:[a.jsx(uT,{...p,ref:t,__scopeCheckbox:r}),y&&a.jsx(gT,{__scopeCheckbox:r})]})})});Eb.displayName=E0;var mT="CheckboxIndicator",fT=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...i}=e,o=Tb(mT,r);return a.jsx(en,{present:n||xi(o.checked)||o.checked===!0,children:a.jsx(ct.span,{"data-state":pT(o.checked),"data-disabled":o.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});fT.displayName=mT;var hT="CheckboxBubbleInput",gT=x.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:i,checked:o,defaultChecked:c,required:u,disabled:m,name:f,value:g,form:p,bubbleInput:y,setBubbleInput:j}=Tb(hT,e),k=vt(r,j),b=Ab(o),C=Db(n);x.useEffect(()=>{const N=y;if(!N)return;const A=window.HTMLInputElement.prototype,T=Object.getOwnPropertyDescriptor(A,"checked").set,P=!i.current;if(b!==o&&T){const O=new Event("click",{bubbles:P});N.indeterminate=xi(o),T.call(N,xi(o)?!1:o),N.dispatchEvent(O)}},[y,b,o,i]);const S=x.useRef(xi(o)?!1:o);return a.jsx(ct.input,{type:"checkbox","aria-hidden":!0,defaultChecked:c??S.current,required:u,disabled:m,name:f,value:g,form:p,...t,tabIndex:-1,ref:k,style:{...t.style,...C,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});gT.displayName=hT;function QL(e){return typeof e=="function"}function xi(e){return e==="indeterminate"}function pT(e){return xi(e)?"indeterminate":e?"checked":"unchecked"}const Ob=x.forwardRef(({className:e,...t},r)=>a.jsx(Eb,{ref:r,className:nt("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx(fT,{className:nt("flex items-center justify-center text-current"),children:a.jsx(GD,{className:"h-4 w-4"})})}));Ob.displayName=Eb.displayName;const Od=x.forwardRef(({className:e,variant:t="default",...r},n)=>a.jsx("div",{ref:n,role:"alert",className:nt("rounded-md border p-4 text-sm",t==="destructive"?"border-red-300 bg-red-50 text-red-700 dark:border-red-800 dark:bg-red-900/20 dark:text-red-300":"border-border bg-muted/40 text-foreground",e),...r}));Od.displayName="Alert";const Md=x.forwardRef(({className:e,...t},r)=>a.jsx("p",{ref:r,className:nt("text-sm",e),...t}));Md.displayName="AlertDescription";function e7({currentStep:e,steps:t}){return a.jsx("div",{className:"mb-6 flex items-center justify-between",children:t.map((r,n)=>{const i=e>=r.number,o=n<t.length-1;return a.jsxs("div",{className:"flex items-center flex-1",children:[a.jsx("div",{className:`flex items-center justify-center h-8 w-8 rounded-full text-white text-sm font-semibold ${i?"bg-primary":"bg-muted text-muted-foreground"}`,children:r.number}),a.jsx("div",{className:"ml-2 mr-4",children:a.jsx("div",{className:`text-sm font-medium ${i?"":"text-muted-foreground"}`,children:r.title})}),o&&a.jsx("div",{className:"flex-1 h-[2px] rounded-full bg-muted"})]},r.number)})})}function t7(e){let t=0;return e?(t+=Math.min(6,Math.floor(e.length/2)),t+=[/[a-z]/,/[A-Z]/,/\d/,/[^A-Za-z0-9]/].reduce((n,i)=>i.test(e)?n+2:n,0),Math.min(10,t)):0}function xT({password:e}){const t=t7(e),r=t/10*100,n=t<4?"bg-red-500":t<7?"bg-yellow-500":"bg-green-500",i=t<4?"Weak":t<7?"Medium":"Strong";return a.jsxs("div",{children:[a.jsx("div",{className:"h-2 w-full rounded-full bg-muted overflow-hidden",children:a.jsx("div",{className:`h-2 ${n}`,style:{width:`${r}%`}})}),a.jsxs("div",{className:"mt-2 text-xs text-muted-foreground",children:["Strength: ",i]})]})}function ev(e,[t,r]){return Math.min(r,Math.max(t,e))}function r7(e){const t=e+"CollectionProvider",[r,n]=Ds(t),[i,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),c=b=>{const{scope:C,children:S}=b,N=ht.useRef(null),A=ht.useRef(new Map).current;return a.jsx(i,{scope:C,itemMap:A,collectionRef:N,children:S})};c.displayName=t;const u=e+"CollectionSlot",m=hl(u),f=ht.forwardRef((b,C)=>{const{scope:S,children:N}=b,A=o(u,S),E=vt(C,A.collectionRef);return a.jsx(m,{ref:E,children:N})});f.displayName=u;const g=e+"CollectionItemSlot",p="data-radix-collection-item",y=hl(g),j=ht.forwardRef((b,C)=>{const{scope:S,children:N,...A}=b,E=ht.useRef(null),T=vt(C,E),P=o(g,S);return ht.useEffect(()=>(P.itemMap.set(E,{ref:E,...A}),()=>void P.itemMap.delete(E))),a.jsx(y,{[p]:"",ref:T,children:N})});j.displayName=g;function k(b){const C=o(e+"CollectionConsumer",b);return ht.useCallback(()=>{const N=C.collectionRef.current;if(!N)return[];const A=Array.from(N.querySelectorAll(`[${p}]`));return Array.from(C.itemMap.values()).sort((P,O)=>A.indexOf(P.ref.current)-A.indexOf(O.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:c,Slot:f,ItemSlot:j},k,n]}var a7=x.createContext(void 0);function yT(e){const t=x.useContext(a7);return e||t||"ltr"}function ia(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...r)=>t.current?.(...r),[])}function n7(e,t=globalThis?.document){const r=ia(e);x.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var s7="DismissableLayer",tv="dismissableLayer.update",i7="dismissableLayer.pointerDownOutside",l7="dismissableLayer.focusOutside",Hk,vT=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),tu=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:c,onDismiss:u,...m}=e,f=x.useContext(vT),[g,p]=x.useState(null),y=g?.ownerDocument??globalThis?.document,[,j]=x.useState({}),k=vt(t,O=>p(O)),b=Array.from(f.layers),[C]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),S=b.indexOf(C),N=g?b.indexOf(g):-1,A=f.layersWithOutsidePointerEventsDisabled.size>0,E=N>=S,T=d7(O=>{const U=O.target,X=[...f.branches].some(ie=>ie.contains(U));!E||X||(i?.(O),c?.(O),O.defaultPrevented||u?.())},y),P=u7(O=>{const U=O.target;[...f.branches].some(ie=>ie.contains(U))||(o?.(O),c?.(O),O.defaultPrevented||u?.())},y);return n7(O=>{N===f.layers.size-1&&(n?.(O),!O.defaultPrevented&&u&&(O.preventDefault(),u()))},y),x.useEffect(()=>{if(g)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(Hk=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(g)),f.layers.add(g),Fk(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=Hk)}},[g,y,r,f]),x.useEffect(()=>()=>{g&&(f.layers.delete(g),f.layersWithOutsidePointerEventsDisabled.delete(g),Fk())},[g,f]),x.useEffect(()=>{const O=()=>j({});return document.addEventListener(tv,O),()=>document.removeEventListener(tv,O)},[]),a.jsx(ct.div,{...m,ref:k,style:{pointerEvents:A?E?"auto":"none":void 0,...e.style},onFocusCapture:rt(e.onFocusCapture,P.onFocusCapture),onBlurCapture:rt(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:rt(e.onPointerDownCapture,T.onPointerDownCapture)})});tu.displayName=s7;var o7="DismissableLayerBranch",c7=x.forwardRef((e,t)=>{const r=x.useContext(vT),n=x.useRef(null),i=vt(t,n);return x.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),a.jsx(ct.div,{...e,ref:i})});c7.displayName=o7;function d7(e,t=globalThis?.document){const r=ia(e),n=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const o=u=>{if(u.target&&!n.current){let m=function(){bT(i7,r,f,{discrete:!0})};const f={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=m,t.addEventListener("click",i.current,{once:!0})):m()}else t.removeEventListener("click",i.current);n.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function u7(e,t=globalThis?.document){const r=ia(e),n=x.useRef(!1);return x.useEffect(()=>{const i=o=>{o.target&&!n.current&&bT(l7,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Fk(){const e=new CustomEvent(tv);document.dispatchEvent(e)}function bT(e,t,r,{discrete:n}){const i=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?RL(i,o):i.dispatchEvent(o)}var ex=0;function Mb(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??qk()),document.body.insertAdjacentElement("beforeend",e[1]??qk()),ex++,()=>{ex===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),ex--}},[])}function qk(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var tx="focusScope.autoFocusOnMount",rx="focusScope.autoFocusOnUnmount",Wk={bubbles:!1,cancelable:!0},m7="FocusScope",O0=x.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...c}=e,[u,m]=x.useState(null),f=ia(i),g=ia(o),p=x.useRef(null),y=vt(t,b=>m(b)),j=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let b=function(A){if(j.paused||!u)return;const E=A.target;u.contains(E)?p.current=E:ui(p.current,{select:!0})},C=function(A){if(j.paused||!u)return;const E=A.relatedTarget;E!==null&&(u.contains(E)||ui(p.current,{select:!0}))},S=function(A){if(document.activeElement===document.body)for(const T of A)T.removedNodes.length>0&&ui(u)};document.addEventListener("focusin",b),document.addEventListener("focusout",C);const N=new MutationObserver(S);return u&&N.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",C),N.disconnect()}}},[n,u,j.paused]),x.useEffect(()=>{if(u){Yk.add(j);const b=document.activeElement;if(!u.contains(b)){const S=new CustomEvent(tx,Wk);u.addEventListener(tx,f),u.dispatchEvent(S),S.defaultPrevented||(f7(y7(jT(u)),{select:!0}),document.activeElement===b&&ui(u))}return()=>{u.removeEventListener(tx,f),setTimeout(()=>{const S=new CustomEvent(rx,Wk);u.addEventListener(rx,g),u.dispatchEvent(S),S.defaultPrevented||ui(b??document.body,{select:!0}),u.removeEventListener(rx,g),Yk.remove(j)},0)}}},[u,f,g,j]);const k=x.useCallback(b=>{if(!r&&!n||j.paused)return;const C=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,S=document.activeElement;if(C&&S){const N=b.currentTarget,[A,E]=h7(N);A&&E?!b.shiftKey&&S===E?(b.preventDefault(),r&&ui(A,{select:!0})):b.shiftKey&&S===A&&(b.preventDefault(),r&&ui(E,{select:!0})):S===N&&b.preventDefault()}},[r,n,j.paused]);return a.jsx(ct.div,{tabIndex:-1,...c,ref:y,onKeyDown:k})});O0.displayName=m7;function f7(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(ui(n,{select:t}),document.activeElement!==r)return}function h7(e){const t=jT(e),r=Vk(t,e),n=Vk(t.reverse(),e);return[r,n]}function jT(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Vk(e,t){for(const r of e)if(!g7(r,{upTo:t}))return r}function g7(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function p7(e){return e instanceof HTMLInputElement&&"select"in e}function ui(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&p7(e)&&t&&e.select()}}var Yk=x7();function x7(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=Kk(e,t),e.unshift(t)},remove(t){e=Kk(e,t),e[0]?.resume()}}}function Kk(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function y7(e){return e.filter(t=>t.tagName!=="A")}var v7=hb[" useId ".trim().toString()]||(()=>{}),b7=0;function yi(e){const[t,r]=x.useState(v7());return $r(()=>{r(n=>n??String(b7++))},[e]),t?`radix-${t}`:""}const j7=["top","right","bottom","left"],ji=Math.min,ka=Math.max,vf=Math.round,Lm=Math.floor,zn=e=>({x:e,y:e}),w7={left:"right",right:"left",bottom:"top",top:"bottom"},N7={start:"end",end:"start"};function rv(e,t,r){return ka(e,ji(t,r))}function ws(e,t){return typeof e=="function"?e(t):e}function Ns(e){return e.split("-")[0]}function tc(e){return e.split("-")[1]}function Pb(e){return e==="x"?"y":"x"}function Rb(e){return e==="y"?"height":"width"}const k7=new Set(["top","bottom"]);function Ln(e){return k7.has(Ns(e))?"y":"x"}function _b(e){return Pb(Ln(e))}function S7(e,t,r){r===void 0&&(r=!1);const n=tc(e),i=_b(e),o=Rb(i);let c=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(c=bf(c)),[c,bf(c)]}function C7(e){const t=bf(e);return[av(e),t,av(t)]}function av(e){return e.replace(/start|end/g,t=>N7[t])}const Gk=["left","right"],Xk=["right","left"],A7=["top","bottom"],D7=["bottom","top"];function T7(e,t,r){switch(e){case"top":case"bottom":return r?t?Xk:Gk:t?Gk:Xk;case"left":case"right":return t?A7:D7;default:return[]}}function E7(e,t,r,n){const i=tc(e);let o=T7(Ns(e),r==="start",n);return i&&(o=o.map(c=>c+"-"+i),t&&(o=o.concat(o.map(av)))),o}function bf(e){return e.replace(/left|right|bottom|top/g,t=>w7[t])}function O7(e){return{top:0,right:0,bottom:0,left:0,...e}}function wT(e){return typeof e!="number"?O7(e):{top:e,right:e,bottom:e,left:e}}function jf(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function Zk(e,t,r){let{reference:n,floating:i}=e;const o=Ln(t),c=_b(t),u=Rb(c),m=Ns(t),f=o==="y",g=n.x+n.width/2-i.width/2,p=n.y+n.height/2-i.height/2,y=n[u]/2-i[u]/2;let j;switch(m){case"top":j={x:g,y:n.y-i.height};break;case"bottom":j={x:g,y:n.y+n.height};break;case"right":j={x:n.x+n.width,y:p};break;case"left":j={x:n.x-i.width,y:p};break;default:j={x:n.x,y:n.y}}switch(tc(t)){case"start":j[c]-=y*(r&&f?-1:1);break;case"end":j[c]+=y*(r&&f?-1:1);break}return j}const M7=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:c}=r,u=o.filter(Boolean),m=await(c.isRTL==null?void 0:c.isRTL(t));let f=await c.getElementRects({reference:e,floating:t,strategy:i}),{x:g,y:p}=Zk(f,n,m),y=n,j={},k=0;for(let b=0;b<u.length;b++){const{name:C,fn:S}=u[b],{x:N,y:A,data:E,reset:T}=await S({x:g,y:p,initialPlacement:n,placement:y,strategy:i,middlewareData:j,rects:f,platform:c,elements:{reference:e,floating:t}});g=N??g,p=A??p,j={...j,[C]:{...j[C],...E}},T&&k<=50&&(k++,typeof T=="object"&&(T.placement&&(y=T.placement),T.rects&&(f=T.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:i}):T.rects),{x:g,y:p}=Zk(f,y,m)),b=-1)}return{x:g,y:p,placement:y,strategy:i,middlewareData:j}};async function Pd(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:o,rects:c,elements:u,strategy:m}=e,{boundary:f="clippingAncestors",rootBoundary:g="viewport",elementContext:p="floating",altBoundary:y=!1,padding:j=0}=ws(t,e),k=wT(j),C=u[y?p==="floating"?"reference":"floating":p],S=jf(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(C)))==null||r?C:C.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:f,rootBoundary:g,strategy:m})),N=p==="floating"?{x:n,y:i,width:c.floating.width,height:c.floating.height}:c.reference,A=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating)),E=await(o.isElement==null?void 0:o.isElement(A))?await(o.getScale==null?void 0:o.getScale(A))||{x:1,y:1}:{x:1,y:1},T=jf(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:N,offsetParent:A,strategy:m}):N);return{top:(S.top-T.top+k.top)/E.y,bottom:(T.bottom-S.bottom+k.bottom)/E.y,left:(S.left-T.left+k.left)/E.x,right:(T.right-S.right+k.right)/E.x}}const P7=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:o,platform:c,elements:u,middlewareData:m}=t,{element:f,padding:g=0}=ws(e,t)||{};if(f==null)return{};const p=wT(g),y={x:r,y:n},j=_b(i),k=Rb(j),b=await c.getDimensions(f),C=j==="y",S=C?"top":"left",N=C?"bottom":"right",A=C?"clientHeight":"clientWidth",E=o.reference[k]+o.reference[j]-y[j]-o.floating[k],T=y[j]-o.reference[j],P=await(c.getOffsetParent==null?void 0:c.getOffsetParent(f));let O=P?P[A]:0;(!O||!await(c.isElement==null?void 0:c.isElement(P)))&&(O=u.floating[A]||o.floating[k]);const U=E/2-T/2,X=O/2-b[k]/2-1,ie=ji(p[S],X),W=ji(p[N],X),G=ie,H=O-b[k]-W,Q=O/2-b[k]/2+U,te=rv(G,Q,H),$=!m.arrow&&tc(i)!=null&&Q!==te&&o.reference[k]/2-(Q<G?ie:W)-b[k]/2<0,V=$?Q<G?Q-G:Q-H:0;return{[j]:y[j]+V,data:{[j]:te,centerOffset:Q-te-V,...$&&{alignmentOffset:V}},reset:$}}}),R7=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:o,rects:c,initialPlacement:u,platform:m,elements:f}=t,{mainAxis:g=!0,crossAxis:p=!0,fallbackPlacements:y,fallbackStrategy:j="bestFit",fallbackAxisSideDirection:k="none",flipAlignment:b=!0,...C}=ws(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const S=Ns(i),N=Ln(u),A=Ns(u)===u,E=await(m.isRTL==null?void 0:m.isRTL(f.floating)),T=y||(A||!b?[bf(u)]:C7(u)),P=k!=="none";!y&&P&&T.push(...E7(u,b,k,E));const O=[u,...T],U=await Pd(t,C),X=[];let ie=((n=o.flip)==null?void 0:n.overflows)||[];if(g&&X.push(U[S]),p){const Q=S7(i,c,E);X.push(U[Q[0]],U[Q[1]])}if(ie=[...ie,{placement:i,overflows:X}],!X.every(Q=>Q<=0)){var W,G;const Q=(((W=o.flip)==null?void 0:W.index)||0)+1,te=O[Q];if(te&&(!(p==="alignment"?N!==Ln(te):!1)||ie.every(re=>Ln(re.placement)===N?re.overflows[0]>0:!0)))return{data:{index:Q,overflows:ie},reset:{placement:te}};let $=(G=ie.filter(V=>V.overflows[0]<=0).sort((V,re)=>V.overflows[1]-re.overflows[1])[0])==null?void 0:G.placement;if(!$)switch(j){case"bestFit":{var H;const V=(H=ie.filter(re=>{if(P){const K=Ln(re.placement);return K===N||K==="y"}return!0}).map(re=>[re.placement,re.overflows.filter(K=>K>0).reduce((K,J)=>K+J,0)]).sort((re,K)=>re[1]-K[1])[0])==null?void 0:H[0];V&&($=V);break}case"initialPlacement":$=u;break}if(i!==$)return{reset:{placement:$}}}return{}}}};function Jk(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Qk(e){return j7.some(t=>e[t]>=0)}const _7=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...i}=ws(e,t);switch(n){case"referenceHidden":{const o=await Pd(t,{...i,elementContext:"reference"}),c=Jk(o,r.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:Qk(c)}}}case"escaped":{const o=await Pd(t,{...i,altBoundary:!0}),c=Jk(o,r.floating);return{data:{escapedOffsets:c,escaped:Qk(c)}}}default:return{}}}}},NT=new Set(["left","top"]);async function I7(e,t){const{placement:r,platform:n,elements:i}=e,o=await(n.isRTL==null?void 0:n.isRTL(i.floating)),c=Ns(r),u=tc(r),m=Ln(r)==="y",f=NT.has(c)?-1:1,g=o&&m?-1:1,p=ws(t,e);let{mainAxis:y,crossAxis:j,alignmentAxis:k}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return u&&typeof k=="number"&&(j=u==="end"?k*-1:k),m?{x:j*g,y:y*f}:{x:y*f,y:j*g}}const L7=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:o,placement:c,middlewareData:u}=t,m=await I7(t,e);return c===((r=u.offset)==null?void 0:r.placement)&&(n=u.arrow)!=null&&n.alignmentOffset?{}:{x:i+m.x,y:o+m.y,data:{...m,placement:c}}}}},$7=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:o=!0,crossAxis:c=!1,limiter:u={fn:C=>{let{x:S,y:N}=C;return{x:S,y:N}}},...m}=ws(e,t),f={x:r,y:n},g=await Pd(t,m),p=Ln(Ns(i)),y=Pb(p);let j=f[y],k=f[p];if(o){const C=y==="y"?"top":"left",S=y==="y"?"bottom":"right",N=j+g[C],A=j-g[S];j=rv(N,j,A)}if(c){const C=p==="y"?"top":"left",S=p==="y"?"bottom":"right",N=k+g[C],A=k-g[S];k=rv(N,k,A)}const b=u.fn({...t,[y]:j,[p]:k});return{...b,data:{x:b.x-r,y:b.y-n,enabled:{[y]:o,[p]:c}}}}}},z7=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:o,middlewareData:c}=t,{offset:u=0,mainAxis:m=!0,crossAxis:f=!0}=ws(e,t),g={x:r,y:n},p=Ln(i),y=Pb(p);let j=g[y],k=g[p];const b=ws(u,t),C=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(m){const A=y==="y"?"height":"width",E=o.reference[y]-o.floating[A]+C.mainAxis,T=o.reference[y]+o.reference[A]-C.mainAxis;j<E?j=E:j>T&&(j=T)}if(f){var S,N;const A=y==="y"?"width":"height",E=NT.has(Ns(i)),T=o.reference[p]-o.floating[A]+(E&&((S=c.offset)==null?void 0:S[p])||0)+(E?0:C.crossAxis),P=o.reference[p]+o.reference[A]+(E?0:((N=c.offset)==null?void 0:N[p])||0)-(E?C.crossAxis:0);k<T?k=T:k>P&&(k=P)}return{[y]:j,[p]:k}}}},U7=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:o,platform:c,elements:u}=t,{apply:m=()=>{},...f}=ws(e,t),g=await Pd(t,f),p=Ns(i),y=tc(i),j=Ln(i)==="y",{width:k,height:b}=o.floating;let C,S;p==="top"||p==="bottom"?(C=p,S=y===(await(c.isRTL==null?void 0:c.isRTL(u.floating))?"start":"end")?"left":"right"):(S=p,C=y==="end"?"top":"bottom");const N=b-g.top-g.bottom,A=k-g.left-g.right,E=ji(b-g[C],N),T=ji(k-g[S],A),P=!t.middlewareData.shift;let O=E,U=T;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(U=A),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(O=N),P&&!y){const ie=ka(g.left,0),W=ka(g.right,0),G=ka(g.top,0),H=ka(g.bottom,0);j?U=k-2*(ie!==0||W!==0?ie+W:ka(g.left,g.right)):O=b-2*(G!==0||H!==0?G+H:ka(g.top,g.bottom))}await m({...t,availableWidth:U,availableHeight:O});const X=await c.getDimensions(u.floating);return k!==X.width||b!==X.height?{reset:{rects:!0}}:{}}}};function M0(){return typeof window<"u"}function rc(e){return kT(e)?(e.nodeName||"").toLowerCase():"#document"}function Aa(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function qn(e){var t;return(t=(kT(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function kT(e){return M0()?e instanceof Node||e instanceof Aa(e).Node:!1}function pn(e){return M0()?e instanceof Element||e instanceof Aa(e).Element:!1}function Bn(e){return M0()?e instanceof HTMLElement||e instanceof Aa(e).HTMLElement:!1}function eS(e){return!M0()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Aa(e).ShadowRoot}const B7=new Set(["inline","contents"]);function ru(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=xn(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!B7.has(i)}const H7=new Set(["table","td","th"]);function F7(e){return H7.has(rc(e))}const q7=[":popover-open",":modal"];function P0(e){return q7.some(t=>{try{return e.matches(t)}catch{return!1}})}const W7=["transform","translate","scale","rotate","perspective"],V7=["transform","translate","scale","rotate","perspective","filter"],Y7=["paint","layout","strict","content"];function Ib(e){const t=Lb(),r=pn(e)?xn(e):e;return W7.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||V7.some(n=>(r.willChange||"").includes(n))||Y7.some(n=>(r.contain||"").includes(n))}function K7(e){let t=wi(e);for(;Bn(t)&&!Mo(t);){if(Ib(t))return t;if(P0(t))return null;t=wi(t)}return null}function Lb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const G7=new Set(["html","body","#document"]);function Mo(e){return G7.has(rc(e))}function xn(e){return Aa(e).getComputedStyle(e)}function R0(e){return pn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function wi(e){if(rc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||eS(e)&&e.host||qn(e);return eS(t)?t.host:t}function ST(e){const t=wi(e);return Mo(t)?e.ownerDocument?e.ownerDocument.body:e.body:Bn(t)&&ru(t)?t:ST(t)}function Rd(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=ST(e),o=i===((n=e.ownerDocument)==null?void 0:n.body),c=Aa(i);if(o){const u=nv(c);return t.concat(c,c.visualViewport||[],ru(i)?i:[],u&&r?Rd(u):[])}return t.concat(i,Rd(i,[],r))}function nv(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function CT(e){const t=xn(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=Bn(e),o=i?e.offsetWidth:r,c=i?e.offsetHeight:n,u=vf(r)!==o||vf(n)!==c;return u&&(r=o,n=c),{width:r,height:n,$:u}}function $b(e){return pn(e)?e:e.contextElement}function Ao(e){const t=$b(e);if(!Bn(t))return zn(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:o}=CT(t);let c=(o?vf(r.width):r.width)/n,u=(o?vf(r.height):r.height)/i;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const X7=zn(0);function AT(e){const t=Aa(e);return!Lb()||!t.visualViewport?X7:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Z7(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Aa(e)?!1:t}function pl(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),o=$b(e);let c=zn(1);t&&(n?pn(n)&&(c=Ao(n)):c=Ao(e));const u=Z7(o,r,n)?AT(o):zn(0);let m=(i.left+u.x)/c.x,f=(i.top+u.y)/c.y,g=i.width/c.x,p=i.height/c.y;if(o){const y=Aa(o),j=n&&pn(n)?Aa(n):n;let k=y,b=nv(k);for(;b&&n&&j!==k;){const C=Ao(b),S=b.getBoundingClientRect(),N=xn(b),A=S.left+(b.clientLeft+parseFloat(N.paddingLeft))*C.x,E=S.top+(b.clientTop+parseFloat(N.paddingTop))*C.y;m*=C.x,f*=C.y,g*=C.x,p*=C.y,m+=A,f+=E,k=Aa(b),b=nv(k)}}return jf({width:g,height:p,x:m,y:f})}function _0(e,t){const r=R0(e).scrollLeft;return t?t.left+r:pl(qn(e)).left+r}function DT(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-_0(e,r),i=r.top+t.scrollTop;return{x:n,y:i}}function J7(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const o=i==="fixed",c=qn(n),u=t?P0(t.floating):!1;if(n===c||u&&o)return r;let m={scrollLeft:0,scrollTop:0},f=zn(1);const g=zn(0),p=Bn(n);if((p||!p&&!o)&&((rc(n)!=="body"||ru(c))&&(m=R0(n)),Bn(n))){const j=pl(n);f=Ao(n),g.x=j.x+n.clientLeft,g.y=j.y+n.clientTop}const y=c&&!p&&!o?DT(c,m):zn(0);return{width:r.width*f.x,height:r.height*f.y,x:r.x*f.x-m.scrollLeft*f.x+g.x+y.x,y:r.y*f.y-m.scrollTop*f.y+g.y+y.y}}function Q7(e){return Array.from(e.getClientRects())}function e$(e){const t=qn(e),r=R0(e),n=e.ownerDocument.body,i=ka(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=ka(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let c=-r.scrollLeft+_0(e);const u=-r.scrollTop;return xn(n).direction==="rtl"&&(c+=ka(t.clientWidth,n.clientWidth)-i),{width:i,height:o,x:c,y:u}}const tS=25;function t$(e,t){const r=Aa(e),n=qn(e),i=r.visualViewport;let o=n.clientWidth,c=n.clientHeight,u=0,m=0;if(i){o=i.width,c=i.height;const g=Lb();(!g||g&&t==="fixed")&&(u=i.offsetLeft,m=i.offsetTop)}const f=_0(n);if(f<=0){const g=n.ownerDocument,p=g.body,y=getComputedStyle(p),j=g.compatMode==="CSS1Compat"&&parseFloat(y.marginLeft)+parseFloat(y.marginRight)||0,k=Math.abs(n.clientWidth-p.clientWidth-j);k<=tS&&(o-=k)}else f<=tS&&(o+=f);return{width:o,height:c,x:u,y:m}}const r$=new Set(["absolute","fixed"]);function a$(e,t){const r=pl(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,o=Bn(e)?Ao(e):zn(1),c=e.clientWidth*o.x,u=e.clientHeight*o.y,m=i*o.x,f=n*o.y;return{width:c,height:u,x:m,y:f}}function rS(e,t,r){let n;if(t==="viewport")n=t$(e,r);else if(t==="document")n=e$(qn(e));else if(pn(t))n=a$(t,r);else{const i=AT(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return jf(n)}function TT(e,t){const r=wi(e);return r===t||!pn(r)||Mo(r)?!1:xn(r).position==="fixed"||TT(r,t)}function n$(e,t){const r=t.get(e);if(r)return r;let n=Rd(e,[],!1).filter(u=>pn(u)&&rc(u)!=="body"),i=null;const o=xn(e).position==="fixed";let c=o?wi(e):e;for(;pn(c)&&!Mo(c);){const u=xn(c),m=Ib(c);!m&&u.position==="fixed"&&(i=null),(o?!m&&!i:!m&&u.position==="static"&&!!i&&r$.has(i.position)||ru(c)&&!m&&TT(e,c))?n=n.filter(g=>g!==c):i=u,c=wi(c)}return t.set(e,n),n}function s$(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const c=[...r==="clippingAncestors"?P0(t)?[]:n$(t,this._c):[].concat(r),n],u=c[0],m=c.reduce((f,g)=>{const p=rS(t,g,i);return f.top=ka(p.top,f.top),f.right=ji(p.right,f.right),f.bottom=ji(p.bottom,f.bottom),f.left=ka(p.left,f.left),f},rS(t,u,i));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function i$(e){const{width:t,height:r}=CT(e);return{width:t,height:r}}function l$(e,t,r){const n=Bn(t),i=qn(t),o=r==="fixed",c=pl(e,!0,o,t);let u={scrollLeft:0,scrollTop:0};const m=zn(0);function f(){m.x=_0(i)}if(n||!n&&!o)if((rc(t)!=="body"||ru(i))&&(u=R0(t)),n){const j=pl(t,!0,o,t);m.x=j.x+t.clientLeft,m.y=j.y+t.clientTop}else i&&f();o&&!n&&i&&f();const g=i&&!n&&!o?DT(i,u):zn(0),p=c.left+u.scrollLeft-m.x-g.x,y=c.top+u.scrollTop-m.y-g.y;return{x:p,y,width:c.width,height:c.height}}function ax(e){return xn(e).position==="static"}function aS(e,t){if(!Bn(e)||xn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return qn(e)===r&&(r=r.ownerDocument.body),r}function ET(e,t){const r=Aa(e);if(P0(e))return r;if(!Bn(e)){let i=wi(e);for(;i&&!Mo(i);){if(pn(i)&&!ax(i))return i;i=wi(i)}return r}let n=aS(e,t);for(;n&&F7(n)&&ax(n);)n=aS(n,t);return n&&Mo(n)&&ax(n)&&!Ib(n)?r:n||K7(e)||r}const o$=async function(e){const t=this.getOffsetParent||ET,r=this.getDimensions,n=await r(e.floating);return{reference:l$(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function c$(e){return xn(e).direction==="rtl"}const d$={convertOffsetParentRelativeRectToViewportRelativeRect:J7,getDocumentElement:qn,getClippingRect:s$,getOffsetParent:ET,getElementRects:o$,getClientRects:Q7,getDimensions:i$,getScale:Ao,isElement:pn,isRTL:c$};function OT(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function u$(e,t){let r=null,n;const i=qn(e);function o(){var u;clearTimeout(n),(u=r)==null||u.disconnect(),r=null}function c(u,m){u===void 0&&(u=!1),m===void 0&&(m=1),o();const f=e.getBoundingClientRect(),{left:g,top:p,width:y,height:j}=f;if(u||t(),!y||!j)return;const k=Lm(p),b=Lm(i.clientWidth-(g+y)),C=Lm(i.clientHeight-(p+j)),S=Lm(g),A={rootMargin:-k+"px "+-b+"px "+-C+"px "+-S+"px",threshold:ka(0,ji(1,m))||1};let E=!0;function T(P){const O=P[0].intersectionRatio;if(O!==m){if(!E)return c();O?c(!1,O):n=setTimeout(()=>{c(!1,1e-7)},1e3)}O===1&&!OT(f,e.getBoundingClientRect())&&c(),E=!1}try{r=new IntersectionObserver(T,{...A,root:i.ownerDocument})}catch{r=new IntersectionObserver(T,A)}r.observe(e)}return c(!0),o}function m$(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:m=!1}=n,f=$b(e),g=i||o?[...f?Rd(f):[],...Rd(t)]:[];g.forEach(S=>{i&&S.addEventListener("scroll",r,{passive:!0}),o&&S.addEventListener("resize",r)});const p=f&&u?u$(f,r):null;let y=-1,j=null;c&&(j=new ResizeObserver(S=>{let[N]=S;N&&N.target===f&&j&&(j.unobserve(t),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var A;(A=j)==null||A.observe(t)})),r()}),f&&!m&&j.observe(f),j.observe(t));let k,b=m?pl(e):null;m&&C();function C(){const S=pl(e);b&&!OT(b,S)&&r(),b=S,k=requestAnimationFrame(C)}return r(),()=>{var S;g.forEach(N=>{i&&N.removeEventListener("scroll",r),o&&N.removeEventListener("resize",r)}),p?.(),(S=j)==null||S.disconnect(),j=null,m&&cancelAnimationFrame(k)}}const f$=L7,h$=$7,g$=R7,p$=U7,x$=_7,nS=P7,y$=z7,v$=(e,t,r)=>{const n=new Map,i={platform:d$,...r},o={...i.platform,_c:n};return M7(e,t,{...i,platform:o})};var b$=typeof document<"u",j$=function(){},cf=b$?x.useLayoutEffect:j$;function wf(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!wf(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const o=i[n];if(!(o==="_owner"&&e.$$typeof)&&!wf(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function MT(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function sS(e,t){const r=MT(e);return Math.round(t*r)/r}function nx(e){const t=x.useRef(e);return cf(()=>{t.current=e}),t}function w$(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:o,floating:c}={},transform:u=!0,whileElementsMounted:m,open:f}=e,[g,p]=x.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[y,j]=x.useState(n);wf(y,n)||j(n);const[k,b]=x.useState(null),[C,S]=x.useState(null),N=x.useCallback(re=>{re!==P.current&&(P.current=re,b(re))},[]),A=x.useCallback(re=>{re!==O.current&&(O.current=re,S(re))},[]),E=o||k,T=c||C,P=x.useRef(null),O=x.useRef(null),U=x.useRef(g),X=m!=null,ie=nx(m),W=nx(i),G=nx(f),H=x.useCallback(()=>{if(!P.current||!O.current)return;const re={placement:t,strategy:r,middleware:y};W.current&&(re.platform=W.current),v$(P.current,O.current,re).then(K=>{const J={...K,isPositioned:G.current!==!1};Q.current&&!wf(U.current,J)&&(U.current=J,Sl.flushSync(()=>{p(J)}))})},[y,t,r,W,G]);cf(()=>{f===!1&&U.current.isPositioned&&(U.current.isPositioned=!1,p(re=>({...re,isPositioned:!1})))},[f]);const Q=x.useRef(!1);cf(()=>(Q.current=!0,()=>{Q.current=!1}),[]),cf(()=>{if(E&&(P.current=E),T&&(O.current=T),E&&T){if(ie.current)return ie.current(E,T,H);H()}},[E,T,H,ie,X]);const te=x.useMemo(()=>({reference:P,floating:O,setReference:N,setFloating:A}),[N,A]),$=x.useMemo(()=>({reference:E,floating:T}),[E,T]),V=x.useMemo(()=>{const re={position:r,left:0,top:0};if(!$.floating)return re;const K=sS($.floating,g.x),J=sS($.floating,g.y);return u?{...re,transform:"translate("+K+"px, "+J+"px)",...MT($.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:K,top:J}},[r,u,$.floating,g.x,g.y]);return x.useMemo(()=>({...g,update:H,refs:te,elements:$,floatingStyles:V}),[g,H,te,$,V])}const N$=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?nS({element:n.current,padding:i}).fn(r):{}:n?nS({element:n,padding:i}).fn(r):{}}}},k$=(e,t)=>({...f$(e),options:[e,t]}),S$=(e,t)=>({...h$(e),options:[e,t]}),C$=(e,t)=>({...y$(e),options:[e,t]}),A$=(e,t)=>({...g$(e),options:[e,t]}),D$=(e,t)=>({...p$(e),options:[e,t]}),T$=(e,t)=>({...x$(e),options:[e,t]}),E$=(e,t)=>({...N$(e),options:[e,t]});var O$="Arrow",PT=x.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...o}=e;return a.jsx(ct.svg,{...o,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});PT.displayName=O$;var M$=PT,zb="Popper",[RT,ac]=Ds(zb),[P$,_T]=RT(zb),IT=e=>{const{__scopePopper:t,children:r}=e,[n,i]=x.useState(null);return a.jsx(P$,{scope:t,anchor:n,onAnchorChange:i,children:r})};IT.displayName=zb;var LT="PopperAnchor",$T=x.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,o=_T(LT,r),c=x.useRef(null),u=vt(t,c),m=x.useRef(null);return x.useEffect(()=>{const f=m.current;m.current=n?.current||c.current,f!==m.current&&o.onAnchorChange(m.current)}),n?null:a.jsx(ct.div,{...i,ref:u})});$T.displayName=LT;var Ub="PopperContent",[R$,_$]=RT(Ub),zT=x.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:o="center",alignOffset:c=0,arrowPadding:u=0,avoidCollisions:m=!0,collisionBoundary:f=[],collisionPadding:g=0,sticky:p="partial",hideWhenDetached:y=!1,updatePositionStrategy:j="optimized",onPlaced:k,...b}=e,C=_T(Ub,r),[S,N]=x.useState(null),A=vt(t,ve=>N(ve)),[E,T]=x.useState(null),P=Db(E),O=P?.width??0,U=P?.height??0,X=n+(o!=="center"?"-"+o:""),ie=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},W=Array.isArray(f)?f:[f],G=W.length>0,H={padding:ie,boundary:W.filter(L$),altBoundary:G},{refs:Q,floatingStyles:te,placement:$,isPositioned:V,middlewareData:re}=w$({strategy:"fixed",placement:X,whileElementsMounted:(...ve)=>m$(...ve,{animationFrame:j==="always"}),elements:{reference:C.anchor},middleware:[k$({mainAxis:i+U,alignmentAxis:c}),m&&S$({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?C$():void 0,...H}),m&&A$({...H}),D$({...H,apply:({elements:ve,rects:_e,availableWidth:we,availableHeight:F})=>{const{width:ue,height:R}=_e.reference,be=ve.floating.style;be.setProperty("--radix-popper-available-width",`${we}px`),be.setProperty("--radix-popper-available-height",`${F}px`),be.setProperty("--radix-popper-anchor-width",`${ue}px`),be.setProperty("--radix-popper-anchor-height",`${R}px`)}}),E&&E$({element:E,padding:u}),$$({arrowWidth:O,arrowHeight:U}),y&&T$({strategy:"referenceHidden",...H})]}),[K,J]=HT($),I=ia(k);$r(()=>{V&&I?.()},[V,I]);const L=re.arrow?.x,me=re.arrow?.y,Z=re.arrow?.centerOffset!==0,[ye,Me]=x.useState();return $r(()=>{S&&Me(window.getComputedStyle(S).zIndex)},[S]),a.jsx("div",{ref:Q.setFloating,"data-radix-popper-content-wrapper":"",style:{...te,transform:V?te.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ye,"--radix-popper-transform-origin":[re.transformOrigin?.x,re.transformOrigin?.y].join(" "),...re.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(R$,{scope:r,placedSide:K,onArrowChange:T,arrowX:L,arrowY:me,shouldHideArrow:Z,children:a.jsx(ct.div,{"data-side":K,"data-align":J,...b,ref:A,style:{...b.style,animation:V?void 0:"none"}})})})});zT.displayName=Ub;var UT="PopperArrow",I$={top:"bottom",right:"left",bottom:"top",left:"right"},BT=x.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,o=_$(UT,n),c=I$[o.placedSide];return a.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:a.jsx(M$,{...i,ref:r,style:{...i.style,display:"block"}})})});BT.displayName=UT;function L$(e){return e!==null}var $$=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:i}=t,c=i.arrow?.centerOffset!==0,u=c?0:e.arrowWidth,m=c?0:e.arrowHeight,[f,g]=HT(r),p={start:"0%",center:"50%",end:"100%"}[g],y=(i.arrow?.x??0)+u/2,j=(i.arrow?.y??0)+m/2;let k="",b="";return f==="bottom"?(k=c?p:`${y}px`,b=`${-m}px`):f==="top"?(k=c?p:`${y}px`,b=`${n.floating.height+m}px`):f==="right"?(k=`${-m}px`,b=c?p:`${j}px`):f==="left"&&(k=`${n.floating.width+m}px`,b=c?p:`${j}px`),{data:{x:k,y:b}}}});function HT(e){const[t,r="center"]=e.split("-");return[t,r]}var Bb=IT,I0=$T,Hb=zT,Fb=BT,z$="Portal",L0=x.forwardRef((e,t)=>{const{container:r,...n}=e,[i,o]=x.useState(!1);$r(()=>o(!0),[]);const c=r||i&&globalThis?.document?.body;return c?o8.createPortal(a.jsx(ct.div,{...n,ref:t}),c):null});L0.displayName=z$;var FT=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),U$="VisuallyHidden",qT=x.forwardRef((e,t)=>a.jsx(ct.span,{...e,ref:t,style:{...FT,...e.style}}));qT.displayName=U$;var B$=qT,H$=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},xo=new WeakMap,$m=new WeakMap,zm={},sx=0,WT=function(e){return e&&(e.host||WT(e.parentNode))},F$=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=WT(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},q$=function(e,t,r,n){var i=F$(t,Array.isArray(e)?e:[e]);zm[r]||(zm[r]=new WeakMap);var o=zm[r],c=[],u=new Set,m=new Set(i),f=function(p){!p||u.has(p)||(u.add(p),f(p.parentNode))};i.forEach(f);var g=function(p){!p||m.has(p)||Array.prototype.forEach.call(p.children,function(y){if(u.has(y))g(y);else try{var j=y.getAttribute(n),k=j!==null&&j!=="false",b=(xo.get(y)||0)+1,C=(o.get(y)||0)+1;xo.set(y,b),o.set(y,C),c.push(y),b===1&&k&&$m.set(y,!0),C===1&&y.setAttribute(r,"true"),k||y.setAttribute(n,"true")}catch(S){console.error("aria-hidden: cannot operate on ",y,S)}})};return g(t),u.clear(),sx++,function(){c.forEach(function(p){var y=xo.get(p)-1,j=o.get(p)-1;xo.set(p,y),o.set(p,j),y||($m.has(p)||p.removeAttribute(n),$m.delete(p)),j||p.removeAttribute(r)}),sx--,sx||(xo=new WeakMap,xo=new WeakMap,$m=new WeakMap,zm={})}},qb=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=H$(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),q$(n,i,r,"aria-hidden")):function(){return null}},In=function(){return In=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},In.apply(this,arguments)};function VT(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function W$(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var df="right-scroll-bar-position",uf="width-before-scroll-bar",V$="with-scroll-bars-hidden",Y$="--removed-body-scroll-bar-size";function ix(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function K$(e,t){var r=x.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=t,r.facade}var G$=typeof window<"u"?x.useLayoutEffect:x.useEffect,iS=new WeakMap;function X$(e,t){var r=K$(null,function(n){return e.forEach(function(i){return ix(i,n)})});return G$(function(){var n=iS.get(r);if(n){var i=new Set(n),o=new Set(e),c=r.current;i.forEach(function(u){o.has(u)||ix(u,null)}),o.forEach(function(u){i.has(u)||ix(u,c)})}iS.set(r,e)},[e]),r}function Z$(e){return e}function J$(e,t){t===void 0&&(t=Z$);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(o){var c=t(o,n);return r.push(c),function(){r=r.filter(function(u){return u!==c})}},assignSyncMedium:function(o){for(n=!0;r.length;){var c=r;r=[],c.forEach(o)}r={push:function(u){return o(u)},filter:function(){return r}}},assignMedium:function(o){n=!0;var c=[];if(r.length){var u=r;r=[],u.forEach(o),c=r}var m=function(){var g=c;c=[],g.forEach(o)},f=function(){return Promise.resolve().then(m)};f(),r={push:function(g){c.push(g),f()},filter:function(g){return c=c.filter(g),r}}}};return i}function Q$(e){e===void 0&&(e={});var t=J$(null);return t.options=In({async:!0,ssr:!1},e),t}var YT=function(e){var t=e.sideCar,r=VT(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return x.createElement(n,In({},r))};YT.isSideCarExport=!0;function ez(e,t){return e.useMedium(t),YT}var KT=Q$(),lx=function(){},$0=x.forwardRef(function(e,t){var r=x.useRef(null),n=x.useState({onScrollCapture:lx,onWheelCapture:lx,onTouchMoveCapture:lx}),i=n[0],o=n[1],c=e.forwardProps,u=e.children,m=e.className,f=e.removeScrollBar,g=e.enabled,p=e.shards,y=e.sideCar,j=e.noRelative,k=e.noIsolation,b=e.inert,C=e.allowPinchZoom,S=e.as,N=S===void 0?"div":S,A=e.gapMode,E=VT(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=y,P=X$([r,t]),O=In(In({},E),i);return x.createElement(x.Fragment,null,g&&x.createElement(T,{sideCar:KT,removeScrollBar:f,shards:p,noRelative:j,noIsolation:k,inert:b,setCallbacks:o,allowPinchZoom:!!C,lockRef:r,gapMode:A}),c?x.cloneElement(x.Children.only(u),In(In({},O),{ref:P})):x.createElement(N,In({},O,{className:m,ref:P}),u))});$0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};$0.classNames={fullWidth:uf,zeroRight:df};var tz=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function rz(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=tz();return t&&e.setAttribute("nonce",t),e}function az(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function nz(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var sz=function(){var e=0,t=null;return{add:function(r){e==0&&(t=rz())&&(az(t,r),nz(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},iz=function(){var e=sz();return function(t,r){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},GT=function(){var e=iz(),t=function(r){var n=r.styles,i=r.dynamic;return e(n,i),null};return t},lz={left:0,top:0,right:0,gap:0},ox=function(e){return parseInt(e||"",10)||0},oz=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[ox(r),ox(n),ox(i)]},cz=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return lz;var t=oz(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},dz=GT(),Do="data-scroll-locked",uz=function(e,t,r,n){var i=e.left,o=e.top,c=e.right,u=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(V$,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(u,"px ").concat(n,`;
  }
  body[`).concat(Do,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(u,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(df,` {
    right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(uf,` {
    margin-right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(df," .").concat(df,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(uf," .").concat(uf,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Do,`] {
    `).concat(Y$,": ").concat(u,`px;
  }
`)},lS=function(){var e=parseInt(document.body.getAttribute(Do)||"0",10);return isFinite(e)?e:0},mz=function(){x.useEffect(function(){return document.body.setAttribute(Do,(lS()+1).toString()),function(){var e=lS()-1;e<=0?document.body.removeAttribute(Do):document.body.setAttribute(Do,e.toString())}},[])},fz=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;mz();var o=x.useMemo(function(){return cz(i)},[i]);return x.createElement(dz,{styles:uz(o,!t,i,r?"":"!important")})},sv=!1;if(typeof window<"u")try{var Um=Object.defineProperty({},"passive",{get:function(){return sv=!0,!0}});window.addEventListener("test",Um,Um),window.removeEventListener("test",Um,Um)}catch{sv=!1}var yo=sv?{passive:!1}:!1,hz=function(e){return e.tagName==="TEXTAREA"},XT=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!hz(e)&&r[t]==="visible")},gz=function(e){return XT(e,"overflowY")},pz=function(e){return XT(e,"overflowX")},oS=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=ZT(e,n);if(i){var o=JT(e,n),c=o[1],u=o[2];if(c>u)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},xz=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},yz=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},ZT=function(e,t){return e==="v"?gz(t):pz(t)},JT=function(e,t){return e==="v"?xz(t):yz(t)},vz=function(e,t){return e==="h"&&t==="rtl"?-1:1},bz=function(e,t,r,n,i){var o=vz(e,window.getComputedStyle(t).direction),c=o*n,u=r.target,m=t.contains(u),f=!1,g=c>0,p=0,y=0;do{if(!u)break;var j=JT(e,u),k=j[0],b=j[1],C=j[2],S=b-C-o*k;(k||S)&&ZT(e,u)&&(p+=S,y+=k);var N=u.parentNode;u=N&&N.nodeType===Node.DOCUMENT_FRAGMENT_NODE?N.host:N}while(!m&&u!==document.body||m&&(t.contains(u)||t===u));return(g&&Math.abs(p)<1||!g&&Math.abs(y)<1)&&(f=!0),f},Bm=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},cS=function(e){return[e.deltaX,e.deltaY]},dS=function(e){return e&&"current"in e?e.current:e},jz=function(e,t){return e[0]===t[0]&&e[1]===t[1]},wz=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Nz=0,vo=[];function kz(e){var t=x.useRef([]),r=x.useRef([0,0]),n=x.useRef(),i=x.useState(Nz++)[0],o=x.useState(GT)[0],c=x.useRef(e);x.useEffect(function(){c.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var b=W$([e.lockRef.current],(e.shards||[]).map(dS),!0).filter(Boolean);return b.forEach(function(C){return C.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),b.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var u=x.useCallback(function(b,C){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!c.current.allowPinchZoom;var S=Bm(b),N=r.current,A="deltaX"in b?b.deltaX:N[0]-S[0],E="deltaY"in b?b.deltaY:N[1]-S[1],T,P=b.target,O=Math.abs(A)>Math.abs(E)?"h":"v";if("touches"in b&&O==="h"&&P.type==="range")return!1;var U=oS(O,P);if(!U)return!0;if(U?T=O:(T=O==="v"?"h":"v",U=oS(O,P)),!U)return!1;if(!n.current&&"changedTouches"in b&&(A||E)&&(n.current=T),!T)return!0;var X=n.current||T;return bz(X,C,b,X==="h"?A:E)},[]),m=x.useCallback(function(b){var C=b;if(!(!vo.length||vo[vo.length-1]!==o)){var S="deltaY"in C?cS(C):Bm(C),N=t.current.filter(function(T){return T.name===C.type&&(T.target===C.target||C.target===T.shadowParent)&&jz(T.delta,S)})[0];if(N&&N.should){C.cancelable&&C.preventDefault();return}if(!N){var A=(c.current.shards||[]).map(dS).filter(Boolean).filter(function(T){return T.contains(C.target)}),E=A.length>0?u(C,A[0]):!c.current.noIsolation;E&&C.cancelable&&C.preventDefault()}}},[]),f=x.useCallback(function(b,C,S,N){var A={name:b,delta:C,target:S,should:N,shadowParent:Sz(S)};t.current.push(A),setTimeout(function(){t.current=t.current.filter(function(E){return E!==A})},1)},[]),g=x.useCallback(function(b){r.current=Bm(b),n.current=void 0},[]),p=x.useCallback(function(b){f(b.type,cS(b),b.target,u(b,e.lockRef.current))},[]),y=x.useCallback(function(b){f(b.type,Bm(b),b.target,u(b,e.lockRef.current))},[]);x.useEffect(function(){return vo.push(o),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:y}),document.addEventListener("wheel",m,yo),document.addEventListener("touchmove",m,yo),document.addEventListener("touchstart",g,yo),function(){vo=vo.filter(function(b){return b!==o}),document.removeEventListener("wheel",m,yo),document.removeEventListener("touchmove",m,yo),document.removeEventListener("touchstart",g,yo)}},[]);var j=e.removeScrollBar,k=e.inert;return x.createElement(x.Fragment,null,k?x.createElement(o,{styles:wz(i)}):null,j?x.createElement(fz,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Sz(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Cz=ez(KT,kz);var z0=x.forwardRef(function(e,t){return x.createElement($0,In({},e,{ref:t,sideCar:Cz}))});z0.classNames=$0.classNames;var Az=[" ","Enter","ArrowUp","ArrowDown"],Dz=[" ","Enter"],xl="Select",[U0,B0,Tz]=r7(xl),[nc]=Ds(xl,[Tz,ac]),H0=ac(),[Ez,Si]=nc(xl),[Oz,Mz]=nc(xl),QT=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:i,onOpenChange:o,value:c,defaultValue:u,onValueChange:m,dir:f,name:g,autoComplete:p,disabled:y,required:j,form:k}=e,b=H0(t),[C,S]=x.useState(null),[N,A]=x.useState(null),[E,T]=x.useState(!1),P=yT(f),[O,U]=gl({prop:n,defaultProp:i??!1,onChange:o,caller:xl}),[X,ie]=gl({prop:c,defaultProp:u,onChange:m,caller:xl}),W=x.useRef(null),G=C?k||!!C.closest("form"):!0,[H,Q]=x.useState(new Set),te=Array.from(H).map($=>$.props.value).join(";");return a.jsx(Bb,{...b,children:a.jsxs(Ez,{required:j,scope:t,trigger:C,onTriggerChange:S,valueNode:N,onValueNodeChange:A,valueNodeHasChildren:E,onValueNodeHasChildrenChange:T,contentId:yi(),value:X,onValueChange:ie,open:O,onOpenChange:U,dir:P,triggerPointerDownPosRef:W,disabled:y,children:[a.jsx(U0.Provider,{scope:t,children:a.jsx(Oz,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback($=>{Q(V=>new Set(V).add($))},[]),onNativeOptionRemove:x.useCallback($=>{Q(V=>{const re=new Set(V);return re.delete($),re})},[]),children:r})}),G?a.jsxs(N3,{"aria-hidden":!0,required:j,tabIndex:-1,name:g,autoComplete:p,value:X,onChange:$=>ie($.target.value),disabled:y,form:k,children:[X===void 0?a.jsx("option",{value:""}):null,Array.from(H)]},te):null]})})};QT.displayName=xl;var e3="SelectTrigger",t3=x.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...i}=e,o=H0(r),c=Si(e3,r),u=c.disabled||n,m=vt(t,c.onTriggerChange),f=B0(r),g=x.useRef("touch"),[p,y,j]=S3(b=>{const C=f().filter(A=>!A.disabled),S=C.find(A=>A.value===c.value),N=C3(C,b,S);N!==void 0&&c.onValueChange(N.value)}),k=b=>{u||(c.onOpenChange(!0),j()),b&&(c.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return a.jsx(I0,{asChild:!0,...o,children:a.jsx(ct.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":k3(c.value)?"":void 0,...i,ref:m,onClick:rt(i.onClick,b=>{b.currentTarget.focus(),g.current!=="mouse"&&k(b)}),onPointerDown:rt(i.onPointerDown,b=>{g.current=b.pointerType;const C=b.target;C.hasPointerCapture(b.pointerId)&&C.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(k(b),b.preventDefault())}),onKeyDown:rt(i.onKeyDown,b=>{const C=p.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&y(b.key),!(C&&b.key===" ")&&Az.includes(b.key)&&(k(),b.preventDefault())})})})});t3.displayName=e3;var r3="SelectValue",a3=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,children:o,placeholder:c="",...u}=e,m=Si(r3,r),{onValueNodeHasChildrenChange:f}=m,g=o!==void 0,p=vt(t,m.onValueNodeChange);return $r(()=>{f(g)},[f,g]),a.jsx(ct.span,{...u,ref:p,style:{pointerEvents:"none"},children:k3(m.value)?a.jsx(a.Fragment,{children:c}):o})});a3.displayName=r3;var Pz="SelectIcon",n3=x.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...i}=e;return a.jsx(ct.span,{"aria-hidden":!0,...i,ref:t,children:n||""})});n3.displayName=Pz;var Rz="SelectPortal",s3=e=>a.jsx(L0,{asChild:!0,...e});s3.displayName=Rz;var yl="SelectContent",i3=x.forwardRef((e,t)=>{const r=Si(yl,e.__scopeSelect),[n,i]=x.useState();if($r(()=>{i(new DocumentFragment)},[]),!r.open){const o=n;return o?Sl.createPortal(a.jsx(l3,{scope:e.__scopeSelect,children:a.jsx(U0.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),o):null}return a.jsx(o3,{...e,ref:t})});i3.displayName=yl;var un=10,[l3,Ci]=nc(yl),_z="SelectContentImpl",Iz=hl("SelectContent.RemoveScroll"),o3=x.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:c,side:u,sideOffset:m,align:f,alignOffset:g,arrowPadding:p,collisionBoundary:y,collisionPadding:j,sticky:k,hideWhenDetached:b,avoidCollisions:C,...S}=e,N=Si(yl,r),[A,E]=x.useState(null),[T,P]=x.useState(null),O=vt(t,ve=>E(ve)),[U,X]=x.useState(null),[ie,W]=x.useState(null),G=B0(r),[H,Q]=x.useState(!1),te=x.useRef(!1);x.useEffect(()=>{if(A)return qb(A)},[A]),Mb();const $=x.useCallback(ve=>{const[_e,...we]=G().map(R=>R.ref.current),[F]=we.slice(-1),ue=document.activeElement;for(const R of ve)if(R===ue||(R?.scrollIntoView({block:"nearest"}),R===_e&&T&&(T.scrollTop=0),R===F&&T&&(T.scrollTop=T.scrollHeight),R?.focus(),document.activeElement!==ue))return},[G,T]),V=x.useCallback(()=>$([U,A]),[$,U,A]);x.useEffect(()=>{H&&V()},[H,V]);const{onOpenChange:re,triggerPointerDownPosRef:K}=N;x.useEffect(()=>{if(A){let ve={x:0,y:0};const _e=F=>{ve={x:Math.abs(Math.round(F.pageX)-(K.current?.x??0)),y:Math.abs(Math.round(F.pageY)-(K.current?.y??0))}},we=F=>{ve.x<=10&&ve.y<=10?F.preventDefault():A.contains(F.target)||re(!1),document.removeEventListener("pointermove",_e),K.current=null};return K.current!==null&&(document.addEventListener("pointermove",_e),document.addEventListener("pointerup",we,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",_e),document.removeEventListener("pointerup",we,{capture:!0})}}},[A,re,K]),x.useEffect(()=>{const ve=()=>re(!1);return window.addEventListener("blur",ve),window.addEventListener("resize",ve),()=>{window.removeEventListener("blur",ve),window.removeEventListener("resize",ve)}},[re]);const[J,I]=S3(ve=>{const _e=G().filter(ue=>!ue.disabled),we=_e.find(ue=>ue.ref.current===document.activeElement),F=C3(_e,ve,we);F&&setTimeout(()=>F.ref.current.focus())}),L=x.useCallback((ve,_e,we)=>{const F=!te.current&&!we;(N.value!==void 0&&N.value===_e||F)&&(X(ve),F&&(te.current=!0))},[N.value]),me=x.useCallback(()=>A?.focus(),[A]),Z=x.useCallback((ve,_e,we)=>{const F=!te.current&&!we;(N.value!==void 0&&N.value===_e||F)&&W(ve)},[N.value]),ye=n==="popper"?iv:c3,Me=ye===iv?{side:u,sideOffset:m,align:f,alignOffset:g,arrowPadding:p,collisionBoundary:y,collisionPadding:j,sticky:k,hideWhenDetached:b,avoidCollisions:C}:{};return a.jsx(l3,{scope:r,content:A,viewport:T,onViewportChange:P,itemRefCallback:L,selectedItem:U,onItemLeave:me,itemTextRefCallback:Z,focusSelectedItem:V,selectedItemText:ie,position:n,isPositioned:H,searchRef:J,children:a.jsx(z0,{as:Iz,allowPinchZoom:!0,children:a.jsx(O0,{asChild:!0,trapped:N.open,onMountAutoFocus:ve=>{ve.preventDefault()},onUnmountAutoFocus:rt(i,ve=>{N.trigger?.focus({preventScroll:!0}),ve.preventDefault()}),children:a.jsx(tu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:ve=>ve.preventDefault(),onDismiss:()=>N.onOpenChange(!1),children:a.jsx(ye,{role:"listbox",id:N.contentId,"data-state":N.open?"open":"closed",dir:N.dir,onContextMenu:ve=>ve.preventDefault(),...S,...Me,onPlaced:()=>Q(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...S.style},onKeyDown:rt(S.onKeyDown,ve=>{const _e=ve.ctrlKey||ve.altKey||ve.metaKey;if(ve.key==="Tab"&&ve.preventDefault(),!_e&&ve.key.length===1&&I(ve.key),["ArrowUp","ArrowDown","Home","End"].includes(ve.key)){let F=G().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);if(["ArrowUp","End"].includes(ve.key)&&(F=F.slice().reverse()),["ArrowUp","ArrowDown"].includes(ve.key)){const ue=ve.target,R=F.indexOf(ue);F=F.slice(R+1)}setTimeout(()=>$(F)),ve.preventDefault()}})})})})})})});o3.displayName=_z;var Lz="SelectItemAlignedPosition",c3=x.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...i}=e,o=Si(yl,r),c=Ci(yl,r),[u,m]=x.useState(null),[f,g]=x.useState(null),p=vt(t,O=>g(O)),y=B0(r),j=x.useRef(!1),k=x.useRef(!0),{viewport:b,selectedItem:C,selectedItemText:S,focusSelectedItem:N}=c,A=x.useCallback(()=>{if(o.trigger&&o.valueNode&&u&&f&&b&&C&&S){const O=o.trigger.getBoundingClientRect(),U=f.getBoundingClientRect(),X=o.valueNode.getBoundingClientRect(),ie=S.getBoundingClientRect();if(o.dir!=="rtl"){const ue=ie.left-U.left,R=X.left-ue,be=O.left-R,Ee=O.width+be,Ve=Math.max(Ee,U.width),qe=window.innerWidth-un,dt=ev(R,[un,Math.max(un,qe-Ve)]);u.style.minWidth=Ee+"px",u.style.left=dt+"px"}else{const ue=U.right-ie.right,R=window.innerWidth-X.right-ue,be=window.innerWidth-O.right-R,Ee=O.width+be,Ve=Math.max(Ee,U.width),qe=window.innerWidth-un,dt=ev(R,[un,Math.max(un,qe-Ve)]);u.style.minWidth=Ee+"px",u.style.right=dt+"px"}const W=y(),G=window.innerHeight-un*2,H=b.scrollHeight,Q=window.getComputedStyle(f),te=parseInt(Q.borderTopWidth,10),$=parseInt(Q.paddingTop,10),V=parseInt(Q.borderBottomWidth,10),re=parseInt(Q.paddingBottom,10),K=te+$+H+re+V,J=Math.min(C.offsetHeight*5,K),I=window.getComputedStyle(b),L=parseInt(I.paddingTop,10),me=parseInt(I.paddingBottom,10),Z=O.top+O.height/2-un,ye=G-Z,Me=C.offsetHeight/2,ve=C.offsetTop+Me,_e=te+$+ve,we=K-_e;if(_e<=Z){const ue=W.length>0&&C===W[W.length-1].ref.current;u.style.bottom="0px";const R=f.clientHeight-b.offsetTop-b.offsetHeight,be=Math.max(ye,Me+(ue?me:0)+R+V),Ee=_e+be;u.style.height=Ee+"px"}else{const ue=W.length>0&&C===W[0].ref.current;u.style.top="0px";const be=Math.max(Z,te+b.offsetTop+(ue?L:0)+Me)+we;u.style.height=be+"px",b.scrollTop=_e-Z+b.offsetTop}u.style.margin=`${un}px 0`,u.style.minHeight=J+"px",u.style.maxHeight=G+"px",n?.(),requestAnimationFrame(()=>j.current=!0)}},[y,o.trigger,o.valueNode,u,f,b,C,S,o.dir,n]);$r(()=>A(),[A]);const[E,T]=x.useState();$r(()=>{f&&T(window.getComputedStyle(f).zIndex)},[f]);const P=x.useCallback(O=>{O&&k.current===!0&&(A(),N?.(),k.current=!1)},[A,N]);return a.jsx(zz,{scope:r,contentWrapper:u,shouldExpandOnScrollRef:j,onScrollButtonChange:P,children:a.jsx("div",{ref:m,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:a.jsx(ct.div,{...i,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});c3.displayName=Lz;var $z="SelectPopperPosition",iv=x.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=un,...o}=e,c=H0(r);return a.jsx(Hb,{...c,...o,ref:t,align:n,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});iv.displayName=$z;var[zz,Wb]=nc(yl,{}),lv="SelectViewport",d3=x.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...i}=e,o=Ci(lv,r),c=Wb(lv,r),u=vt(t,o.onViewportChange),m=x.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(U0.Slot,{scope:r,children:a.jsx(ct.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:rt(i.onScroll,f=>{const g=f.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:y}=c;if(y?.current&&p){const j=Math.abs(m.current-g.scrollTop);if(j>0){const k=window.innerHeight-un*2,b=parseFloat(p.style.minHeight),C=parseFloat(p.style.height),S=Math.max(b,C);if(S<k){const N=S+j,A=Math.min(k,N),E=N-A;p.style.height=A+"px",p.style.bottom==="0px"&&(g.scrollTop=E>0?E:0,p.style.justifyContent="flex-end")}}}m.current=g.scrollTop})})})]})});d3.displayName=lv;var u3="SelectGroup",[Uz,Bz]=nc(u3),Hz=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=yi();return a.jsx(Uz,{scope:r,id:i,children:a.jsx(ct.div,{role:"group","aria-labelledby":i,...n,ref:t})})});Hz.displayName=u3;var m3="SelectLabel",f3=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=Bz(m3,r);return a.jsx(ct.div,{id:i.id,...n,ref:t})});f3.displayName=m3;var Nf="SelectItem",[Fz,h3]=nc(Nf),g3=x.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:o,...c}=e,u=Si(Nf,r),m=Ci(Nf,r),f=u.value===n,[g,p]=x.useState(o??""),[y,j]=x.useState(!1),k=vt(t,N=>m.itemRefCallback?.(N,n,i)),b=yi(),C=x.useRef("touch"),S=()=>{i||(u.onValueChange(n),u.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(Fz,{scope:r,value:n,disabled:i,textId:b,isSelected:f,onItemTextChange:x.useCallback(N=>{p(A=>A||(N?.textContent??"").trim())},[]),children:a.jsx(U0.ItemSlot,{scope:r,value:n,disabled:i,textValue:g,children:a.jsx(ct.div,{role:"option","aria-labelledby":b,"data-highlighted":y?"":void 0,"aria-selected":f&&y,"data-state":f?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...c,ref:k,onFocus:rt(c.onFocus,()=>j(!0)),onBlur:rt(c.onBlur,()=>j(!1)),onClick:rt(c.onClick,()=>{C.current!=="mouse"&&S()}),onPointerUp:rt(c.onPointerUp,()=>{C.current==="mouse"&&S()}),onPointerDown:rt(c.onPointerDown,N=>{C.current=N.pointerType}),onPointerMove:rt(c.onPointerMove,N=>{C.current=N.pointerType,i?m.onItemLeave?.():C.current==="mouse"&&N.currentTarget.focus({preventScroll:!0})}),onPointerLeave:rt(c.onPointerLeave,N=>{N.currentTarget===document.activeElement&&m.onItemLeave?.()}),onKeyDown:rt(c.onKeyDown,N=>{m.searchRef?.current!==""&&N.key===" "||(Dz.includes(N.key)&&S(),N.key===" "&&N.preventDefault())})})})})});g3.displayName=Nf;var vd="SelectItemText",p3=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,...o}=e,c=Si(vd,r),u=Ci(vd,r),m=h3(vd,r),f=Mz(vd,r),[g,p]=x.useState(null),y=vt(t,S=>p(S),m.onItemTextChange,S=>u.itemTextRefCallback?.(S,m.value,m.disabled)),j=g?.textContent,k=x.useMemo(()=>a.jsx("option",{value:m.value,disabled:m.disabled,children:j},m.value),[m.disabled,m.value,j]),{onNativeOptionAdd:b,onNativeOptionRemove:C}=f;return $r(()=>(b(k),()=>C(k)),[b,C,k]),a.jsxs(a.Fragment,{children:[a.jsx(ct.span,{id:m.textId,...o,ref:y}),m.isSelected&&c.valueNode&&!c.valueNodeHasChildren?Sl.createPortal(o.children,c.valueNode):null]})});p3.displayName=vd;var x3="SelectItemIndicator",y3=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return h3(x3,r).isSelected?a.jsx(ct.span,{"aria-hidden":!0,...n,ref:t}):null});y3.displayName=x3;var ov="SelectScrollUpButton",v3=x.forwardRef((e,t)=>{const r=Ci(ov,e.__scopeSelect),n=Wb(ov,e.__scopeSelect),[i,o]=x.useState(!1),c=vt(t,n.onScrollButtonChange);return $r(()=>{if(r.viewport&&r.isPositioned){let u=function(){const f=m.scrollTop>0;o(f)};const m=r.viewport;return u(),m.addEventListener("scroll",u),()=>m.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),i?a.jsx(j3,{...e,ref:c,onAutoScroll:()=>{const{viewport:u,selectedItem:m}=r;u&&m&&(u.scrollTop=u.scrollTop-m.offsetHeight)}}):null});v3.displayName=ov;var cv="SelectScrollDownButton",b3=x.forwardRef((e,t)=>{const r=Ci(cv,e.__scopeSelect),n=Wb(cv,e.__scopeSelect),[i,o]=x.useState(!1),c=vt(t,n.onScrollButtonChange);return $r(()=>{if(r.viewport&&r.isPositioned){let u=function(){const f=m.scrollHeight-m.clientHeight,g=Math.ceil(m.scrollTop)<f;o(g)};const m=r.viewport;return u(),m.addEventListener("scroll",u),()=>m.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),i?a.jsx(j3,{...e,ref:c,onAutoScroll:()=>{const{viewport:u,selectedItem:m}=r;u&&m&&(u.scrollTop=u.scrollTop+m.offsetHeight)}}):null});b3.displayName=cv;var j3=x.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=e,o=Ci("SelectScrollButton",r),c=x.useRef(null),u=B0(r),m=x.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return x.useEffect(()=>()=>m(),[m]),$r(()=>{u().find(g=>g.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[u]),a.jsx(ct.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:rt(i.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(n,50))}),onPointerMove:rt(i.onPointerMove,()=>{o.onItemLeave?.(),c.current===null&&(c.current=window.setInterval(n,50))}),onPointerLeave:rt(i.onPointerLeave,()=>{m()})})}),qz="SelectSeparator",w3=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(ct.div,{"aria-hidden":!0,...n,ref:t})});w3.displayName=qz;var dv="SelectArrow",Wz=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=H0(r),o=Si(dv,r),c=Ci(dv,r);return o.open&&c.position==="popper"?a.jsx(Fb,{...i,...n,ref:t}):null});Wz.displayName=dv;var Vz="SelectBubbleInput",N3=x.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const i=x.useRef(null),o=vt(n,i),c=Ab(t);return x.useEffect(()=>{const u=i.current;if(!u)return;const m=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(m,"value").set;if(c!==t&&g){const p=new Event("change",{bubbles:!0});g.call(u,t),u.dispatchEvent(p)}},[c,t]),a.jsx(ct.select,{...r,style:{...FT,...r.style},ref:o,defaultValue:t})});N3.displayName=Vz;function k3(e){return e===""||e===void 0}function S3(e){const t=ia(e),r=x.useRef(""),n=x.useRef(0),i=x.useCallback(c=>{const u=r.current+c;t(u),(function m(f){r.current=f,window.clearTimeout(n.current),f!==""&&(n.current=window.setTimeout(()=>m(""),1e3))})(u)},[t]),o=x.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,o]}function C3(e,t,r){const i=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let c=Yz(e,Math.max(o,0));i.length===1&&(c=c.filter(f=>f!==r));const m=c.find(f=>f.textValue.toLowerCase().startsWith(i.toLowerCase()));return m!==r?m:void 0}function Yz(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Kz=QT,A3=t3,Gz=a3,Xz=n3,Zz=s3,D3=i3,Jz=d3,T3=f3,E3=g3,Qz=p3,eU=y3,O3=v3,M3=b3,P3=w3;const kf=Kz,Sf=Gz,_d=x.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(A3,{ref:n,className:nt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx(Xz,{asChild:!0,children:a.jsx(A0,{className:"h-4 w-4 opacity-50"})})]}));_d.displayName=A3.displayName;const R3=x.forwardRef(({className:e,...t},r)=>a.jsx(O3,{ref:r,className:nt("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(I8,{className:"h-4 w-4"})}));R3.displayName=O3.displayName;const _3=x.forwardRef(({className:e,...t},r)=>a.jsx(M3,{ref:r,className:nt("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(A0,{className:"h-4 w-4"})}));_3.displayName=M3.displayName;const Id=x.forwardRef(({className:e,children:t,position:r="popper",...n},i)=>a.jsx(Zz,{children:a.jsxs(D3,{ref:i,className:nt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx(R3,{}),a.jsx(Jz,{className:nt("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(_3,{})]})}));Id.displayName=D3.displayName;const tU=x.forwardRef(({className:e,...t},r)=>a.jsx(T3,{ref:r,className:nt("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));tU.displayName=T3.displayName;const Ld=x.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(E3,{ref:n,className:nt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(eU,{children:a.jsx(GD,{className:"h-4 w-4"})})}),a.jsx(Qz,{children:t})]}));Ld.displayName=E3.displayName;const rU=x.forwardRef(({className:e,...t},r)=>a.jsx(P3,{ref:r,className:nt("-mx-1 my-1 h-px bg-muted",e),...t}));rU.displayName=P3.displayName;const aU=[{number:1,title:"Verify"},{number:2,title:"Profile"},{number:3,title:"Password"},{number:4,title:"Finish"}],nU=()=>{const[e]=HD(),t=wn(),r=e.get("token"),[n,i]=x.useState({loading:!0,valid:!1,status:""}),[o,c]=x.useState(2),[u,m]=x.useState(!1),[f,g]=x.useState(!1),[p,y]=x.useState(!1),[j,k]=x.useState([]),[b,C]=x.useState([]),[S,N]=x.useState({firstName:"",lastName:"",email:"",department:"",role:"",phone:"",password:"",confirmPassword:"",acceptPolicy:!1});x.useEffect(()=>{(async()=>{try{const[T,P]=await Promise.all([ko().catch(()=>[]),Td().catch(()=>[])]);C((T||[]).map(O=>String(O.name||"")).filter(Boolean)),k((P||[]).map(O=>String(O.name||"")).filter(Boolean))}catch{}})()},[]),x.useEffect(()=>{if(!r){i({loading:!1,valid:!1,status:"invalid"});return}(async()=>{try{const T=await Tt(`/api/auth/invite-info?token=${encodeURIComponent(r)}`);T?.valid?(i({loading:!1,valid:!0,status:"ok",data:T.data}),N(P=>({...P,email:T?.data?.email||"",department:T?.data?.department||"",role:(T?.data?.role||"").toString()}))):i({loading:!1,valid:!1,status:T?.status||"invalid"})}catch{i({loading:!1,valid:!1,status:"invalid"})}})()},[r]);const A=()=>{o===2&&(!S.firstName||!S.lastName)||o<3&&c(o+1)},E=async T=>{if(T.preventDefault(),!!r&&S.password===S.confirmPassword&&S.acceptPolicy){y(!0);try{await Xt("/api/auth/accept-invite","POST",{token:r,password:S.password,name:`${S.firstName} ${S.lastName}`.trim(),phone:S.phone||void 0}),c(4)}catch{}finally{y(!1)}}};if(n.loading)return a.jsx("div",{className:"min-h-screen bg-gradient-subtle flex items-center justify-center",children:a.jsxs(hn,{className:"p-8 text-center shadow-soft max-w-md w-full mx-4",children:[a.jsx(f9,{className:"w-12 h-12 animate-spin mx-auto mb-4 text-primary"}),a.jsx("p",{className:"text-lg font-medium",children:"Validating invitation..."})]})});if(!n.valid){const T={expired:{title:"This invitation has expired",description:"Invitation links are valid for 7 days. Please request a new invitation from your administrator.",action:"Contact Admin"},used:{title:"This invitation link was already used",description:"This link has already been used to create an account. If you need access, please sign in or contact your administrator.",action:"Go to Login"},invalid:{title:"We couldn't validate this link",description:"The invitation link appears to be invalid or malformed. Please check the link or request a new invitation.",action:"Back to Login"}},P=T[n.status]||T.invalid;return a.jsx("div",{className:"min-h-screen bg-gradient-subtle flex items-center justify-center",children:a.jsxs(hn,{className:"p-8 max-w-md w-full mx-4 shadow-soft text-center",children:[a.jsx(js,{className:"w-16 h-16 mx-auto mb-4 text-destructive"}),a.jsx("h2",{className:"text-2xl font-bold mb-2",children:P.title}),a.jsx("p",{className:"text-muted-foreground mb-6",children:P.description}),a.jsx(ut,{onClick:()=>t("/login"),className:"w-full",children:P.action})]})})}return o===4?(setTimeout(()=>t("/login"),5e3),a.jsx("div",{className:"min-h-screen bg-gradient-subtle flex items-center justify-center",children:a.jsxs(hn,{className:"p-8 max-w-md w-full mx-4 shadow-soft text-center animate-slide-up",children:[a.jsx("div",{className:"mb-6",children:[...Array(5)].map((T,P)=>a.jsx("span",{className:"inline-block text-4xl animate-confetti",style:{animationDelay:`${P*.1}s`,marginRight:"8px"},children:""},P))}),a.jsxs("h2",{className:"text-3xl font-bold mb-4",children:["Your account is ready",S.firstName?`, ${S.firstName}`:"","!"]}),a.jsxs("div",{className:"flex gap-2 justify-center mb-6",children:[S.department?a.jsx("span",{className:"px-3 py-1 bg-primary/10 text-primary rounded-full text-sm",children:S.department}):null,S.role?a.jsx("span",{className:"px-3 py-1 bg-accent/10 text-accent rounded-full text-sm",children:S.role}):null]}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Redirecting to login in 5 seconds..."}),a.jsx(ut,{onClick:()=>t("/login"),size:"lg",className:"bg-gradient-primary",children:"Continue to Login"})]})})):a.jsx("div",{className:"min-h-screen bg-gradient-subtle py-12 px-4",children:a.jsx("div",{className:"max-w-2xl mx-auto",children:a.jsxs(hn,{className:"p-8 shadow-soft",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Create Your Account"}),a.jsx("p",{className:"text-muted-foreground",children:"Welcome to Remora"})]}),a.jsx("div",{className:"mb-6 p-4 bg-secondary/50 rounded-xl",children:a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Invited as:"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("span",{className:"font-medium",children:n.data?.role}),a.jsx("span",{className:"text-muted-foreground",children:""}),a.jsx("span",{className:"font-medium",children:n.data?.department})]})]})}),a.jsx(e7,{currentStep:o,steps:aU}),a.jsxs("form",{onSubmit:E,className:"space-y-6",children:[o===2&&a.jsxs("div",{className:"space-y-4 animate-fade-in",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(vr,{htmlFor:"firstName",children:"First Name *"}),a.jsx(sa,{id:"firstName",required:!0,value:S.firstName,onChange:T=>N({...S,firstName:T.target.value}),placeholder:"John",className:"mt-1.5"})]}),a.jsxs("div",{children:[a.jsx(vr,{htmlFor:"lastName",children:"Last Name *"}),a.jsx(sa,{id:"lastName",required:!0,value:S.lastName,onChange:T=>N({...S,lastName:T.target.value}),placeholder:"Doe",className:"mt-1.5"})]})]}),a.jsxs("div",{children:[a.jsx(vr,{htmlFor:"email",children:"Email"}),a.jsx(sa,{id:"email",type:"email",value:S.email,disabled:!0,className:"mt-1.5 bg-muted"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Your work email will be your login"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(vr,{htmlFor:"department",children:"Department"}),a.jsxs(kf,{value:S.department,children:[a.jsx(_d,{disabled:!0,className:"mt-1.5",children:a.jsx(Sf,{})}),a.jsx(Id,{children:j.map(T=>a.jsx(Ld,{value:T,children:T},T))})]})]}),a.jsxs("div",{children:[a.jsx(vr,{htmlFor:"role",children:"Role"}),a.jsxs(kf,{value:S.role,children:[a.jsx(_d,{disabled:!0,className:"mt-1.5",children:a.jsx(Sf,{})}),a.jsx(Id,{children:b.map(T=>a.jsx(Ld,{value:T,children:T},T))})]})]})]}),a.jsxs("div",{children:[a.jsx(vr,{htmlFor:"phone",children:"Phone (Optional)"}),a.jsx(sa,{id:"phone",type:"tel",value:S.phone,onChange:T=>N({...S,phone:T.target.value}),placeholder:"+1 (555) 000-0000",className:"mt-1.5"})]}),a.jsx("div",{className:"flex justify-end pt-4",children:a.jsx(ut,{type:"button",onClick:A,size:"lg",className:"bg-gradient-primary",children:"Continue"})})]}),o===3&&a.jsxs("div",{className:"space-y-4 animate-fade-in",children:[a.jsxs("div",{children:[a.jsx(vr,{htmlFor:"password",children:"Password *"}),a.jsxs("div",{className:"relative mt-1.5",children:[a.jsx(sa,{id:"password",type:u?"text":"password",required:!0,value:S.password,onChange:T=>N({...S,password:T.target.value}),placeholder:"Create a strong password"}),a.jsx("button",{type:"button",onClick:()=>m(!u),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:u?a.jsx(xf,{className:"w-4 h-4"}):a.jsx(Oo,{className:"w-4 h-4"})})]})]}),S.password&&a.jsx("div",{className:"bg-muted/50 p-4 rounded-xl",children:a.jsx(xT,{password:S.password})}),a.jsxs("div",{children:[a.jsx(vr,{htmlFor:"confirmPassword",children:"Confirm Password *"}),a.jsxs("div",{className:"relative mt-1.5",children:[a.jsx(sa,{id:"confirmPassword",type:f?"text":"password",required:!0,value:S.confirmPassword,onChange:T=>N({...S,confirmPassword:T.target.value}),placeholder:"Confirm your password"}),a.jsx("button",{type:"button",onClick:()=>g(!f),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:f?a.jsx(xf,{className:"w-4 h-4"}):a.jsx(Oo,{className:"w-4 h-4"})})]}),S.confirmPassword&&S.password!==S.confirmPassword&&a.jsx(Od,{variant:"destructive",className:"mt-2",children:a.jsx(Md,{children:"Passwords do not match"})})]}),a.jsxs("div",{className:"flex items-start space-x-3 pt-2",children:[a.jsx(Ob,{id:"acceptPolicy",checked:S.acceptPolicy,onCheckedChange:T=>N({...S,acceptPolicy:!!T})}),a.jsx("div",{className:"space-y-1 leading-none",children:a.jsx(vr,{htmlFor:"acceptPolicy",className:"cursor-pointer text-sm",children:"I agree to the company policies and terms of service"})})]}),a.jsxs("div",{className:"flex justify-between pt-4",children:[a.jsx(ut,{type:"button",variant:"outline",onClick:()=>c(2),children:"Back"}),a.jsx(ut,{type:"submit",size:"lg",disabled:p||!S.acceptPolicy||S.password!==S.confirmPassword,className:"bg-gradient-primary",children:p?"Creating Account...":"Create Account"})]})]})]})]})})})},sU=()=>{const e=wn(),[t,r]=x.useState(""),[n,i]=x.useState(!1),[o,c]=x.useState(!1),[u,m]=x.useState(""),f=async g=>{g.preventDefault(),m(""),c(!0);try{await Xt("/api/auth/request-password-reset","POST",{email:t}),i(!0)}catch(p){m(p?.message||"Something went wrong")}finally{c(!1)}};return a.jsx("div",{className:"min-h-screen bg-gradient-subtle flex items-center justify-center px-4 py-12",children:a.jsxs(hn,{className:"max-w-md w-full p-8 shadow-soft",children:[a.jsx("h1",{className:"text-2xl font-bold mb-2 text-center",children:"Reset your password"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-6 text-center",children:"Enter your email and well send instructions"}),n?a.jsx(Od,{className:"mb-4",children:a.jsx(Md,{children:"If this email is registered, youll receive reset instructions."})}):null,u&&a.jsx(Od,{variant:"destructive",className:"mb-4",children:a.jsx(Md,{children:u})}),a.jsxs("form",{onSubmit:f,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(vr,{htmlFor:"email",children:"Email"}),a.jsx(sa,{id:"email",type:"email",required:!0,value:t,onChange:g=>r(g.target.value),className:"mt-1.5",placeholder:"you@company.com"})]}),a.jsx(ut,{type:"submit",className:"w-full bg-gradient-primary",disabled:o,children:o?"Sending":"Send reset link"}),a.jsx(ut,{type:"button",variant:"outline",className:"w-full",onClick:()=>e("/login"),children:"Back to login"})]})]})})},iU=()=>{const[e]=HD(),t=wn(),r=e.get("token")||"",[n,i]=x.useState("loading"),[o,c]=x.useState(""),[u,m]=x.useState(""),[f,g]=x.useState(!1),[p,y]=x.useState(!1),[j,k]=x.useState(!1),[b,C]=x.useState(!1);x.useEffect(()=>{if(!r){i("invalid");return}(async()=>{try{const N=await Tt(`/api/auth/reset-password/validate?token=${encodeURIComponent(r)}`);i(N?.valid?"ok":N?.status||"invalid")}catch{i("invalid")}})()},[r]);const S=async N=>{if(N.preventDefault(),o===u){k(!0);try{await Xt("/api/auth/reset-password","POST",{token:r,password:o}),C(!0),setTimeout(()=>t("/login"),4e3)}catch{}k(!1)}};if(n!=="ok"){if(n==="loading")return a.jsx("div",{className:"min-h-screen bg-gradient-subtle flex items-center justify-center",children:a.jsx(hn,{className:"p-8",children:"Validating"})});const N=n==="used"?"This link was already used.":n==="expired"?"This link has expired.":"This link is invalid.";return a.jsx("div",{className:"min-h-screen bg-gradient-subtle flex items-center justify-center px-4",children:a.jsxs(hn,{className:"max-w-md w-full p-8 shadow-soft text-center",children:[a.jsx(js,{className:"w-12 h-12 mx-auto text-destructive mb-3"}),a.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Cannot reset password"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:N}),a.jsx(ut,{onClick:()=>t("/forgot-password"),className:"w-full",children:"Request new link"})]})})}return b?a.jsx("div",{className:"min-h-screen bg-gradient-subtle flex items-center justify-center px-4",children:a.jsxs(hn,{className:"max-w-md w-full p-8 shadow-soft text-center",children:[a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Password updated"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Redirecting to login"}),a.jsx(ut,{onClick:()=>t("/login"),className:"w-full",children:"Go to login"})]})}):a.jsx("div",{className:"min-h-screen bg-gradient-subtle flex items-center justify-center px-4 py-12",children:a.jsxs(hn,{className:"max-w-md w-full p-8 shadow-soft",children:[a.jsx("h1",{className:"text-2xl font-bold mb-2 text-center",children:"Set a new password"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-6 text-center",children:"Choose a strong password for your account"}),a.jsxs("form",{onSubmit:S,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(vr,{htmlFor:"password",children:"New Password"}),a.jsxs("div",{className:"relative mt-1.5",children:[a.jsx(sa,{id:"password",type:f?"text":"password",required:!0,value:o,onChange:N=>c(N.target.value),placeholder:"Create a strong password"}),a.jsx("button",{type:"button",onClick:()=>g(!f),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:f?a.jsx(xf,{className:"w-4 h-4"}):a.jsx(Oo,{className:"w-4 h-4"})})]})]}),o&&a.jsx("div",{className:"bg-muted/50 p-4 rounded-xl",children:a.jsx(xT,{password:o})}),a.jsxs("div",{children:[a.jsx(vr,{htmlFor:"confirm",children:"Confirm Password"}),a.jsxs("div",{className:"relative mt-1.5",children:[a.jsx(sa,{id:"confirm",type:p?"text":"password",required:!0,value:u,onChange:N=>m(N.target.value),placeholder:"Confirm your password"}),a.jsx("button",{type:"button",onClick:()=>y(!p),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:p?a.jsx(xf,{className:"w-4 h-4"}):a.jsx(Oo,{className:"w-4 h-4"})})]}),u&&o!==u&&a.jsx(Od,{variant:"destructive",className:"mt-2",children:a.jsx(Md,{children:"Passwords do not match"})})]}),a.jsx(ut,{type:"submit",className:"w-full bg-gradient-primary",disabled:j||o!==u,children:j?"Updating":"Update password"}),a.jsx(ut,{type:"button",variant:"outline",className:"w-full",onClick:()=>t("/login"),children:"Back to login"})]})]})})};function lU(){return Tt("/api/admin/catalog")}function oU(e){return Xt("/api/admin/register-user","POST",e)}function uv(e){return Xt("/api/admin/invite-user","POST",e)}function cU(e){return Xt("/api/admin/impersonation/start","POST",{userId:e})}function I3(){return Xt("/api/admin/impersonation/stop","POST")}async function L3(){const e=await Tt("/api/admin/impersonation/status"),t=e?.user||e?.session?.user;return{active:!!e?.active,...t?{user:t}:{}}}function dU(){return Xt("/api/admin/purge-non-admin-users","POST")}function uU(){return Tt("/api/approvals/pending")}function mU(e,t){return Xt(`/api/approvals/${e}/approve`,"POST",t)}function fU(e,t){return Xt(`/api/approvals/${e}/reject`,"POST",{reason:t})}const hU=()=>{const{user:e,logout:t}=Cl(),[r,n]=x.useState(null);x.useEffect(()=>{(async()=>{try{const c=await L3();n(c)}catch{}})()},[]);const{theme:i,toggleTheme:o}=c8();return a.jsx("header",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"relative w-10 h-10",children:[a.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-cyan-400 via-blue-500 to-blue-700 flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold text-lg",children:"R"})}),a.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-cyan-400 via-blue-500 to-blue-700 opacity-20 blur-sm"})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-white tracking-wide",children:"REMORA"}),a.jsx("span",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium",children:"BY PRANEESHA MENDIS"})]})]}),a.jsx("div",{className:"flex-1 max-w-lg mx-8",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),a.jsx("input",{type:"text",placeholder:"Search projects, tasks, or people...",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})}),a.jsxs("div",{className:"flex items-center space-x-4",children:[r?.active&&r.user&&a.jsxs("div",{className:"flex items-center gap-2 rounded-full px-3 py-1 bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-100 border border-yellow-300 dark:border-yellow-700",children:[a.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",children:a.jsx("path",{d:"M12 5c-7 0-10 7-10 7s3 7 10 7 10-7 10-7-3-7-10-7zm0 12a5 5 0 110-10 5 5 0 010 10z"})}),a.jsxs("span",{className:"text-xs",children:["Viewing as: ",r.user.name]}),a.jsx("button",{className:"text-xs underline",onClick:async()=>{try{await I3(),window.location.reload()}catch{}},children:"Stop"})]}),a.jsx("button",{onClick:o,className:"p-2 rounded-xl bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors duration-200",title:`Switch to ${i==="light"?"dark":"light"} mode`,children:i==="light"?a.jsx("svg",{className:"h-5 w-5 text-gray-600 dark:text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}):a.jsx("svg",{className:"h-5 w-5 text-gray-600 dark:text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})})}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e?.name}),a.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[e?.role&&e.role!=="admin"&&a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 capitalize",children:e.role}),e?.role==="admin"&&a.jsx("span",{className:"badge badge-info",title:"Super Admin",children:"Super Admin"})]})]}),a.jsx("div",{className:"h-8 w-8 rounded-full bg-primary-600 flex items-center justify-center",children:a.jsx("span",{className:"text-sm font-medium text-white",children:e?.name?.charAt(0).toUpperCase()})}),a.jsx("button",{onClick:t,className:"text-sm text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 transition-colors duration-200",title:"Sign out",children:a.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})]})]})})})};var $3={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},uS=ht.createContext&&ht.createContext($3),gU=["attr","size","title"];function pU(e,t){if(e==null)return{};var r=xU(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xU(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Cf(){return Cf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cf.apply(this,arguments)}function mS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Af(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mS(Object(r),!0).forEach(function(n){yU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yU(e,t,r){return t=vU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vU(e){var t=bU(e,"string");return typeof t=="symbol"?t:t+""}function bU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function z3(e){return e&&e.map((t,r)=>ht.createElement(t.tag,Af({key:r},t.attr),z3(t.child)))}function St(e){return t=>ht.createElement(jU,Cf({attr:Af({},e.attr)},t),z3(e.child))}function jU(e){var t=r=>{var{attr:n,size:i,title:o}=e,c=pU(e,gU),u=i||r.size||"1em",m;return r.className&&(m=r.className),e.className&&(m=(m?m+" ":"")+e.className),ht.createElement("svg",Cf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,c,{className:m,style:Af(Af({color:e.color||r.color},r.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&ht.createElement("title",null,o),e.children)};return uS!==void 0?ht.createElement(uS.Consumer,null,r=>t(r)):t($3)}function wU(e){return St({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M4 3a2 2 0 100 4h12a2 2 0 100-4H4z"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M3 8h14v7a2 2 0 01-2 2H5a2 2 0 01-2-2V8zm5 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z",clipRule:"evenodd"},child:[]}]})(e)}function Vb(e){return St({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"},child:[]}]})(e)}function U3(e){return St({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"},child:[]}]})(e)}function fS(e){return St({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"},child:[]}]})(e)}function vi(e){return St({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"},child:[]}]})(e)}function B3(e){return St({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(e)}function NU(e){return St({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"},child:[]}]})(e)}function kU(e){return St({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z",clipRule:"evenodd"},child:[]}]})(e)}function Nd(e){return St({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"},child:[]}]})(e)}function pi(e){return St({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z",clipRule:"evenodd"},child:[]}]})(e)}function hS(e){return St({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"},child:[]}]})(e)}function gS(e){return St({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(e)}function SU(e){return St({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"},child:[]}]})(e)}function au(e){return St({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"},child:[]}]})(e)}function CU(e){return St({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"},child:[]}]})(e)}function pS(e){return St({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"},child:[]}]})(e)}function kd(e){return St({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"},child:[]}]})(e)}function AU(e){return St({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"},child:[]}]})(e)}function $d(e){return St({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"},child:[]}]})(e)}function DU(e){return St({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M7.707 10.293a1 1 0 10-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L11 11.586V6h5a2 2 0 012 2v7a2 2 0 01-2 2H4a2 2 0 01-2-2V8a2 2 0 012-2h5v5.586l-1.293-1.293zM9 4a1 1 0 012 0v2H9V4z"},child:[]}]})(e)}function TU(e){return St({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"},child:[]}]})(e)}function EU(e){return St({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M3 3a1 1 0 000 2h11a1 1 0 100-2H3zM3 7a1 1 0 000 2h5a1 1 0 000-2H3zM3 11a1 1 0 100 2h4a1 1 0 100-2H3zM13 16a1 1 0 102 0v-5.586l1.293 1.293a1 1 0 001.414-1.414l-3-3a1 1 0 00-1.414 0l-3 3a1 1 0 101.414 1.414L13 10.414V16z"},child:[]}]})(e)}function OU(e){return St({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M3 3a1 1 0 000 2h11a1 1 0 100-2H3zM3 7a1 1 0 000 2h7a1 1 0 100-2H3zM3 11a1 1 0 100 2h4a1 1 0 100-2H3zM15 8a1 1 0 10-2 0v5.586l-1.293-1.293a1 1 0 00-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L15 13.586V8z"},child:[]}]})(e)}function MU(e){return St({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8 7a1 1 0 00-1 1v4a1 1 0 001 1h4a1 1 0 001-1V8a1 1 0 00-1-1H8z",clipRule:"evenodd"},child:[]}]})(e)}function H3(e){return St({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"},child:[]}]})(e)}function xS(e){return St({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M12 7a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0V8.414l-4.293 4.293a1 1 0 01-1.414 0L8 10.414l-4.293 4.293a1 1 0 01-1.414-1.414l5-5a1 1 0 011.414 0L11 10.586 14.586 7H12z",clipRule:"evenodd"},child:[]}]})(e)}function mv(e){return St({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM6.293 6.707a1 1 0 010-1.414l3-3a1 1 0 011.414 0l3 3a1 1 0 01-1.414 1.414L11 5.414V13a1 1 0 11-2 0V5.414L7.707 6.707a1 1 0 01-1.414 0z",clipRule:"evenodd"},child:[]}]})(e)}function fv(e){return St({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"},child:[]}]})(e)}function Df(e){return St({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"},child:[]}]})(e)}function rr(e){return St({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(e)}const PU=()=>{const{user:e}=Cl(),t=wn(),r=[{name:"Dashboard",href:"/dashboard",icon:Nb,roles:["director"],description:"Executive overview"},{name:"Manager Dashboard",href:"/manager-dashboard",icon:gn,roles:["manager","director"],description:"Team management"},{name:"Projects",href:"/projects",icon:Q8,roles:["director","manager","member","client","consultant","lead"],description:"Project portfolio"},{name:"Completed Projects",href:"/completed-projects",icon:Gy,roles:["director","manager","member","client","consultant","lead"],description:"Finished projects"},{name:"Calendar",href:"/calendar",icon:Ca,roles:["admin","director","manager","member","client","consultant","lead"],description:"Schedule & events"},{name:"Slips & Invoices",href:"/slips-invoices",icon:k9,roles:["director","manager"],description:"Financial tracking"},{name:"User Management",href:"/users",icon:Ik,roles:["director","manager"],description:"Team & permissions"},{name:"Pending Approvals",href:"/admin/approvals",icon:gn,roles:["admin","director","manager","lead"],description:"Approve new users"},{name:"Permissions",href:"/admin/permissions",icon:Qd,roles:["admin","director"],description:"RBAC management"},{name:"Register User",href:"/admin/register-user",icon:Ik,roles:["director","manager"],description:"Create new user accounts"},{name:"Documents",href:"/documents",icon:_n,roles:["director","manager","member","client","consultant","lead"],description:"Document library"},{name:"Profile",href:"/profile",icon:Sb,roles:["director","manager","member","client","consultant","lead"],description:"Account settings"}],n=e?.role==="admin",i=r.filter(o=>n?!0:e?.role?o.roles.includes(e.role):!1);return a.jsx("div",{className:"hidden lg:flex lg:flex-shrink-0",children:a.jsx("div",{className:"flex flex-col w-56",children:a.jsxs("div",{className:"flex flex-col flex-grow bg-gradient-to-b from-white to-gray-50 dark:from-gray-800 dark:to-gray-900 border-r border-gray-200 dark:border-gray-700 shadow-lg",children:[a.jsx("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200",onClick:()=>t("/profile"),children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-primary-500 to-primary-600 flex items-center justify-center text-white font-semibold text-sm shadow-lg",children:e?.name?.charAt(0)||"U"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate",children:e?.name||"User"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:e?.role?e.role.charAt(0).toUpperCase()+e.role.slice(1):"Member"})]})]})}),a.jsx("nav",{className:"flex-1 px-3 py-4 space-y-2 overflow-y-auto",children:i.map(o=>{const c=o.icon;return a.jsx(UD,{to:o.href,className:({isActive:u})=>`group flex items-center px-4 py-3 text-sm font-medium rounded-xl transition-all duration-200 ${u?"bg-gradient-to-r from-primary-500 to-primary-600 text-white shadow-lg transform scale-105":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white hover:shadow-md hover:transform hover:scale-102"}`,children:({isActive:u})=>a.jsxs(a.Fragment,{children:[a.jsx("div",{className:`p-1.5 rounded-lg mr-3 transition-colors duration-200 ${u?"bg-white/20":"bg-gray-100 dark:bg-gray-700 group-hover:bg-primary-100 dark:group-hover:bg-primary-900/20"}`,children:a.jsx(c,{className:`h-4 w-4 ${u?"text-white":"text-gray-600 dark:text-gray-400 group-hover:text-primary-600 dark:group-hover:text-primary-400"}`})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium",children:o.name}),a.jsx("div",{className:`text-xs ${u?"text-white/80":"text-gray-500 dark:text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-300"}`,children:o.description})]}),u&&a.jsx(NU,{className:"h-4 w-4 text-white/80"})]})},o.name)})}),a.jsx("div",{className:"px-4 py-3 border-t border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Version 1.0.0"}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full"}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Online"})]})]})})]})})})};async function RU(e){const t=`${tt}/api/chatbot/send`,r=localStorage.getItem("userId"),n=localStorage.getItem("authToken"),i={"Content-Type":"application/json",...n?{authorization:`Bearer ${n}`}:{},...!n&&r?{"x-user-id":r}:{}},o=await fetch(t,{method:"POST",headers:i,body:JSON.stringify({message:e})});if(!o.ok)throw new Error(await o.text());const c=await o.json();return{reply:String(c?.reply||"")}}const _U=()=>{const[e,t]=ht.useState(!1),[r,n]=ht.useState(""),[i,o]=ht.useState(!1),[c,u]=ht.useState([{id:"welcome",role:"assistant",content:"Hi! Ask me anything.",ts:Date.now()}]),m=async()=>{const f=r.trim();if(!f)return;n("");const g={id:Math.random().toString(36).slice(2),role:"user",content:f,ts:Date.now()};u(p=>[...p,g]),o(!0);try{const{reply:p}=await RU(f),y={id:Math.random().toString(36).slice(2),role:"assistant",content:p||"Sorry, I could not respond.",ts:Date.now()};u(j=>[...j,y])}catch(p){const y={id:Math.random().toString(36).slice(2),role:"assistant",content:p?.message||"Request failed.",ts:Date.now()};u(j=>[...j,y])}finally{o(!1)}};return a.jsxs("div",{className:"fixed bottom-4 right-4 z-50",children:[!e&&a.jsx("button",{onClick:()=>t(!0),className:"rounded-full bg-blue-600 text-white w-14 h-14 shadow-lg hover:bg-blue-700",children:a.jsx("span",{className:"text-xl",children:""})}),e&&a.jsxs("div",{className:"w-80 h-96 bg-white dark:bg-gray-800 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 flex flex-col",children:[a.jsxs("div",{className:"px-3 py-2 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[a.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"AI Assistant"}),a.jsx("button",{onClick:()=>t(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:""})]}),a.jsxs("div",{className:"flex-1 overflow-auto p-3 space-y-2",children:[c.map(f=>a.jsx("div",{className:`text-sm whitespace-pre-wrap ${f.role==="user"?"text-gray-900 dark:text-white text-right":"text-gray-800 dark:text-gray-200"}`,children:f.role==="user"?a.jsx("span",{className:"inline-block px-3 py-2 rounded-lg bg-blue-600 text-white",children:f.content}):a.jsx("span",{className:"inline-block px-3 py-2 rounded-lg bg-gray-100 dark:bg-gray-700",children:f.content})},f.id)),i&&a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Assistant is typing"})]}),a.jsxs("div",{className:"p-2 border-t border-gray-200 dark:border-gray-700 flex items-center space-x-2",children:[a.jsx("input",{value:r,onChange:f=>n(f.target.value),onKeyDown:f=>{f.key==="Enter"&&m()},placeholder:"Type a message",className:"flex-1 px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm"}),a.jsx("button",{onClick:m,disabled:i||!r.trim(),className:"px-3 py-2 bg-blue-600 text-white rounded-lg disabled:opacity-50",children:"Send"})]})]})]})},IU=()=>{const{isAuthenticated:e,isLoading:t}=Cl();return t?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):e?a.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsx(hU,{}),a.jsxs("div",{className:"flex",children:[a.jsx(PU,{}),a.jsx("main",{className:"flex-1",children:a.jsx("div",{className:"py-2 px-4 max-w-6xl mx-auto",children:a.jsx(AI,{})})})]}),a.jsx(_U,{})]}):a.jsx(_D,{to:"/login",replace:!0})},LU=()=>{const[e,t]=x.useState([]),[r,n]=x.useState([]),[i,o]=x.useState([]),[c,u]=x.useState(!0);x.useEffect(()=>{(async()=>{try{const A=[{id:"1",name:"Mobile App Redesign",description:"Complete redesign of the mobile application with modern UI/UX",owner:"Sarah Johnson",status:"in-progress",progress:75,startDate:"2024-01-01",dueDate:"2024-02-15",team:["1","2","3"],tags:["Mobile","UI/UX","React Native"],priority:"high",phases:[],tasks:[],members:[],allocatedHours:200,loggedHours:150,remainingHours:50},{id:"2",name:"Backend API Development",description:"RESTful API development for the new platform",owner:"Mike Chen",status:"in-progress",progress:60,startDate:"2024-01-05",dueDate:"2024-02-20",team:["2","4"],tags:["Backend","API","Node.js"],priority:"medium",phases:[],tasks:[],members:[],allocatedHours:150,loggedHours:90,remainingHours:60},{id:"3",name:"Design System",description:"Comprehensive design system for consistent UI components",owner:"Alex Rodriguez",status:"in-review",progress:90,startDate:"2023-12-15",dueDate:"2024-01-30",team:["3","1"],tags:["Design","Components","Figma"],priority:"high",phases:[],tasks:[],members:[],allocatedHours:120,loggedHours:110,remainingHours:10},{id:"4",name:"Database Migration",description:"Migration from legacy database to new architecture",owner:"David Kim",status:"completed",progress:100,startDate:"2023-11-01",dueDate:"2023-12-31",team:["4","2"],tags:["Database","Migration","PostgreSQL"],priority:"medium",phases:[],tasks:[],members:[],allocatedHours:100,loggedHours:95,remainingHours:5},{id:"5",name:"User Authentication",description:"Implement secure user authentication and authorization",owner:"Sarah Johnson",status:"blocked",progress:20,startDate:"2024-01-10",dueDate:"2024-02-05",team:["1","2"],tags:["Security","Auth","JWT"],priority:"critical",phases:[],tasks:[],members:[],allocatedHours:80,loggedHours:15,remainingHours:65}],E=[{id:"1",userId:"1",userName:"Sarah Johnson",projectId:"1",taskId:"task-1",phaseId:"phase-1",hours:8,description:"UI/UX design work",loggedAt:"2024-01-15T09:00:00Z",createdAt:"2024-01-15T09:00:00Z"},{id:"2",userId:"1",userName:"Sarah Johnson",projectId:"1",taskId:"task-2",phaseId:"phase-1",hours:6,description:"Wireframe creation",loggedAt:"2024-01-16T10:00:00Z",createdAt:"2024-01-16T10:00:00Z"},{id:"3",userId:"2",userName:"Mike Chen",projectId:"2",taskId:"task-3",phaseId:"phase-2",hours:7,description:"API endpoint development",loggedAt:"2024-01-17T08:30:00Z",createdAt:"2024-01-17T08:30:00Z"},{id:"4",userId:"3",userName:"Alex Rodriguez",projectId:"3",taskId:"task-4",phaseId:"phase-3",hours:9,description:"Component library development",loggedAt:"2024-01-18T09:15:00Z",createdAt:"2024-01-18T09:15:00Z"},{id:"5",userId:"4",userName:"David Kim",projectId:"4",taskId:"task-5",phaseId:"phase-4",hours:8,description:"Database schema migration",loggedAt:"2024-01-19T10:00:00Z",createdAt:"2024-01-19T10:00:00Z"}],T=[{id:"1",name:"Sarah Johnson",email:"sarah@company.com"},{id:"2",name:"Mike Chen",email:"mike@company.com"},{id:"3",name:"Alex Rodriguez",email:"alex@company.com"},{id:"4",name:"David Kim",email:"david@company.com"}];t(A),n(E),o(T),u(!1)}catch(A){console.error("Error loading data:",A),u(!1)}})()},[]);const m=[{label:"Active Projects",value:e.filter(N=>N.status==="in-progress").length,trend:"up",change:2,color:"blue"},{label:"Tasks in Progress",value:48,trend:"down",change:-5,color:"green"},{label:"Overdue Tasks",value:3,trend:"down",change:-2,color:"red"},{label:"On-Track %",value:87,trend:"up",change:3,color:"purple"}],f=[{id:"1",type:"task_completed",title:"Task completed",description:'User completed "Design system implementation"',timestamp:"2 hours ago",user:"Sarah Johnson",projectId:"proj-1",taskId:"task-1"},{id:"2",type:"project_updated",title:"Project updated",description:'Project "Mobile App Redesign" status changed to In Review',timestamp:"4 hours ago",user:"Mike Chen",projectId:"proj-2"},{id:"3",type:"task_created",title:"New task created",description:'Task "API Documentation" added to project',timestamp:"6 hours ago",user:"Alex Rodriguez",projectId:"proj-3",taskId:"task-3"}],g=[{task:"User Authentication Flow",dueDate:"2024-01-15",project:"Mobile App Redesign"},{task:"Database Schema Design",dueDate:"2024-01-16",project:"Backend API"},{task:"UI Component Library",dueDate:"2024-01-18",project:"Design System"}],[p,y]=x.useState(null),[j,k]=x.useState(!1),b=e,C=N=>{switch(N){case"in-progress":return"badge-info";case"in-review":return"badge-warning";case"completed":return"badge-success";case"blocked":return"badge-danger";default:return"badge-info"}},S=N=>{switch(N){case"critical":return"text-red-600 dark:text-red-400";case"high":return"text-orange-600 dark:text-orange-400";case"medium":return"text-yellow-600 dark:text-yellow-400";case"low":return"text-green-600 dark:text-green-400";default:return"text-gray-600 dark:text-gray-400"}};return c?a.jsx("div",{className:"space-y-6",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Director Dashboard"}),a.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Executive overview of project performance and team productivity"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:m.map((N,A)=>a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:N.label}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:N.value})]}),N.trend&&a.jsxs("div",{className:`flex items-center ${N.trend==="up"?"text-green-600 dark:text-green-400":N.trend==="down"?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400"}`,children:[a.jsx("svg",{className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:N.trend==="up"?a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 17l9.2-9.2M17 17V7H7"}):a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 7l-9.2 9.2M7 7v10h10"})}),N.change&&Math.abs(N.change),"%"]})]})},A))}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Project Status Distribution"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"In Progress"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-32 bg-gray-200 dark:bg-gray-700 rounded-full h-2 mr-3",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"60%"}})}),a.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"60%"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"In Review"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-32 bg-gray-200 dark:bg-gray-700 rounded-full h-2 mr-3",children:a.jsx("div",{className:"bg-yellow-600 h-2 rounded-full",style:{width:"25%"}})}),a.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"25%"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Completed"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-32 bg-gray-200 dark:bg-gray-700 rounded-full h-2 mr-3",children:a.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:"15%"}})}),a.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"15%"})]})]})]})]}),a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Progress Over Time"}),a.jsx("div",{className:"h-32 flex items-end space-x-2",children:[20,35,45,60,75,80,85].map((N,A)=>a.jsx("div",{className:"flex-1 bg-primary-600 rounded-t",style:{height:`${N}%`}},A))}),a.jsx("div",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400 text-center",children:"Last 7 days"})]})]}),a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"All Projects"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:b.map(N=>a.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-xl p-4 hover:shadow-md transition-shadow duration-200 cursor-pointer",onClick:()=>{y(N),k(!0)},children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:N.name}),a.jsx("span",{className:`text-xs ${S(N.priority)}`,children:N.priority.toUpperCase()})]}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:["Owner: ",N.owner]}),a.jsxs("div",{className:"mb-3",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Progress"}),a.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[N.progress,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:a.jsx("div",{className:"bg-primary-600 h-2 rounded-full transition-all duration-300",style:{width:`${N.progress}%`}})})]}),N.allocatedHours>0&&a.jsxs("div",{className:"mb-3",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Time Allocation"}),a.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[Math.round(N.loggedHours/N.allocatedHours*100),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:a.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${N.loggedHours/N.allocatedHours>=1?"bg-red-500":N.loggedHours/N.allocatedHours>=.8?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(100,N.loggedHours/N.allocatedHours*100)}%`}})}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400 mt-1",children:[a.jsxs("span",{children:["Logged: ",N.loggedHours,"h"]}),a.jsxs("span",{children:["Allocated: ",N.allocatedHours,"h"]})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:`badge ${C(N.status)}`,children:N.status.replace("-"," ").toUpperCase()}),a.jsxs("div",{className:"flex -space-x-2",children:[N.team.slice(0,3).map((A,E)=>{const T=i.find(P=>P.id===A);return a.jsx("div",{className:"h-6 w-6 rounded-full bg-primary-600 flex items-center justify-center text-xs text-white border-2 border-white dark:border-gray-800",children:T?T.name.charAt(0):A.charAt(0)},E)}),N.team.length>3&&a.jsxs("div",{className:"h-6 w-6 rounded-full bg-gray-300 dark:bg-gray-600 flex items-center justify-center text-xs text-gray-600 dark:text-gray-300 border-2 border-white dark:border-gray-800",children:["+",N.team.length-3]})]})]})]},N.id))})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Recent Activity"}),a.jsx("div",{className:"space-y-4",children:f.map(N=>a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"h-8 w-8 rounded-full bg-primary-100 dark:bg-primary-900 flex items-center justify-center",children:a.jsx("span",{className:"text-sm",children:""})})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:N.title}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:N.description}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:N.timestamp})]})]},N.id))})]}),a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Upcoming Deadlines"}),a.jsx("div",{className:"space-y-3",children:g.map((N,A)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-xl",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:N.task}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:N.project})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:N.dueDate}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Due"})]})]},A))})]})]}),j&&p&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[p.name," - Team Performance"]}),a.jsx("button",{onClick:()=>{k(!1),y(null)},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:a.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[a.jsxs("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[p.allocatedHours,"h"]}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Allocated"})]}),a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[a.jsxs("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[p.loggedHours,"h"]}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Logged"})]}),a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[a.jsxs("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[Math.round(p.loggedHours/p.allocatedHours*100),"%"]}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Utilization"})]}),a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:p.team.length}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Team Members"})]})]})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Team Member Performance"}),a.jsx("div",{className:"space-y-4",children:p.team.map(N=>{const A=i.find(X=>X.id===N);if(!A)return null;const T=r.filter(X=>X.userId===N&&X.projectId===p.id).reduce((X,ie)=>X+ie.hours,0),P=Math.floor(Math.random()*5)+1,O=Math.floor(Math.random()*3)+1,U=Math.floor(Math.random()*10)+1;return a.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-primary-600 rounded-full flex items-center justify-center text-white font-semibold",children:A.name.charAt(0)}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:A.name}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:A.email})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[T,"h"]}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Logged"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("svg",{className:"h-5 w-5 text-blue-600 dark:text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100",children:[T,"h"]}),a.jsx("div",{className:"text-xs text-blue-700 dark:text-blue-300",children:"Time Logged"})]})]})}),a.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("svg",{className:"h-5 w-5 text-green-600 dark:text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-lg font-semibold text-green-900 dark:text-green-100",children:P}),a.jsx("div",{className:"text-xs text-green-700 dark:text-green-300",children:"Documents Shared"})]})]})}),a.jsx("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("svg",{className:"h-5 w-5 text-purple-600 dark:text-purple-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-lg font-semibold text-purple-900 dark:text-purple-100",children:U}),a.jsx("div",{className:"text-xs text-purple-700 dark:text-purple-300",children:"Comments Added"})]})]})})]}),a.jsxs("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("svg",{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-lg font-semibold text-yellow-900 dark:text-yellow-100",children:O}),a.jsx("div",{className:"text-xs text-yellow-700 dark:text-yellow-300",children:"Documents Reviewed"})]})]})}),a.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("svg",{className:"h-5 w-5 text-gray-600 dark:text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[Math.round(T/p.allocatedHours*100),"%"]}),a.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Project Contribution"})]})]})})]})]},N)})})]})]})]})})]})},$U=()=>{const e=[{label:"Team Tasks",value:24,trend:"up",change:3,color:"blue"},{label:"Completed This Week",value:18,trend:"up",change:5,color:"green"},{label:"Blocked Tasks",value:2,trend:"down",change:-1,color:"red"},{label:"Team Efficiency",value:92,trend:"up",change:4,color:"purple"}],t=[{id:"1",type:"task_completed",title:"Task completed",description:'Sarah completed "User authentication setup"',timestamp:"1 hour ago",user:"Sarah Johnson",projectId:"proj-1",taskId:"task-1"},{id:"2",type:"task_created",title:"New task assigned",description:'Task "Database optimization" assigned to Mike',timestamp:"3 hours ago",user:"Mike Chen",projectId:"proj-2",taskId:"task-2"},{id:"3",type:"review_submitted",title:"Review submitted",description:'Alex submitted review for "API Documentation"',timestamp:"5 hours ago",user:"Alex Rodriguez",projectId:"proj-3",taskId:"task-3"}],r=[{name:"Sarah Johnson",role:"Senior Developer",tasks:8,completed:6,avatar:"SJ"},{name:"Mike Chen",role:"Backend Developer",tasks:6,completed:5,avatar:"MC"},{name:"Alex Rodriguez",role:"Frontend Developer",tasks:7,completed:4,avatar:"AR"},{name:"David Kim",role:"DevOps Engineer",tasks:3,completed:3,avatar:"DK"}],n=[{id:"1",name:"Mobile App Redesign",team:["Sarah Johnson","Mike Chen"],progress:75,status:"in-progress",nextMilestone:"User Testing",dueDate:"2024-01-20"},{id:"2",name:"Backend API Development",team:["Mike Chen","David Kim"],progress:60,status:"in-progress",nextMilestone:"API Documentation",dueDate:"2024-01-25"},{id:"3",name:"Design System",team:["Alex Rodriguez","Sarah Johnson"],progress:90,status:"in-review",nextMilestone:"Final Review",dueDate:"2024-01-18"}],i=o=>{switch(o){case"in-progress":return"badge-info";case"in-review":return"badge-warning";case"completed":return"badge-success";case"blocked":return"badge-danger";default:return"badge-info"}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Manager Dashboard"}),a.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Team performance overview and delivery tracking"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map((o,c)=>a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:o.label}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:o.value})]}),o.trend&&a.jsxs("div",{className:`flex items-center ${o.trend==="up"?"text-green-600 dark:text-green-400":o.trend==="down"?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400"}`,children:[a.jsx("svg",{className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.trend==="up"?a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 17l9.2-9.2M17 17V7H7"}):a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 7l-9.2 9.2M7 7v10h10"})}),o.change&&Math.abs(o.change),"%"]})]})},c))}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Team Performance"}),a.jsx("div",{className:"space-y-4",children:r.map((o,c)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-xl",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-primary-600 flex items-center justify-center text-white font-medium",children:o.avatar}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:o.name}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:o.role})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[o.completed,"/",o.tasks," tasks"]}),a.jsx("div",{className:"w-20 bg-gray-200 dark:bg-gray-600 rounded-full h-2 mt-1",children:a.jsx("div",{className:"bg-primary-600 h-2 rounded-full",style:{width:`${o.completed/o.tasks*100}%`}})})]})]},c))})]}),a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Team Projects"}),a.jsx("div",{className:"space-y-4",children:n.map(o=>a.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:o.name}),a.jsx("span",{className:`badge ${i(o.status)}`,children:o.status.replace("-"," ").toUpperCase()})]}),a.jsxs("div",{className:"mb-3",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Progress"}),a.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[o.progress,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:a.jsx("div",{className:"bg-primary-600 h-2 rounded-full transition-all duration-300",style:{width:`${o.progress}%`}})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Next Milestone:"}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:o.nextMilestone})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Due Date:"}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:o.dueDate})]})]}),a.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700",children:[a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-2",children:"Team Members:"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:o.team.map((c,u)=>a.jsx("span",{className:"text-xs bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-300 px-2 py-1 rounded",children:c},u))})]})]},o.id))})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Team Activity"}),a.jsx("div",{className:"space-y-4",children:t.map(o=>a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"h-8 w-8 rounded-full bg-primary-100 dark:bg-primary-900 flex items-center justify-center",children:a.jsx("span",{className:"text-sm",children:""})})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:o.title}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:o.description}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:o.timestamp})]})]},o.id))})]}),a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Workload Distribution"}),a.jsx("div",{className:"space-y-4",children:r.map((o,c)=>a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:o.name}),a.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[o.tasks," tasks"]})]}),a.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:a.jsx("div",{className:"bg-primary-600 h-2 rounded-full transition-all duration-300",style:{width:`${o.tasks/Math.max(...r.map(u=>u.tasks))*100}%`}})})]},c))})]})]})]})};async function Yb(){const e=await Tt("/projects/basic");return Array.isArray(e)?e:[]}async function zU(){const e=await Tt("/projects");return Array.isArray(e)?e:[]}function F0(e={}){const t=new URLSearchParams;e.page&&t.set("page",String(e.page)),e.limit&&t.set("limit",String(e.limit)),e.search&&t.set("search",e.search),e.roleId&&t.set("roleId",e.roleId),e.departmentId&&t.set("departmentId",e.departmentId),typeof e.isActive=="boolean"&&t.set("isActive",String(e.isActive));const r=t.toString();return Tt(`/api/users${r?`?${r}`:""}`)}function UU(){return Tt("/api/users/me")}function yS(e,t){return Xt(`/api/users/${e}`,"PATCH",t)}function BU(e,t=!1){return Xt(`/api/users/${e}${t?"?hard=true":""}`,"DELETE")}const HU={},FU=()=>{const e=wn(),[t,r]=x.useState(""),[n,i]=x.useState("all"),[o,c]=x.useState("all"),[u,m]=x.useState(!1),[f,g]=x.useState(!1),[p,y]=x.useState(null),[j,k]=x.useState([]),[b,C]=x.useState(!1),[S,N]=x.useState({title:"",description:"",projectCode:"",category:"",subcategory:"",tags:[],projectTypeComments:"",startDate:"",projectDeadline:"",estimatedDuration:0,workingDays:0,totalWorkingHours:0,projectHours:0,excludeWeekends:!0,status:"planning",priority:"medium",visibility:"assigned-only",owner:"",team:[],clients:[]}),[A,E]=x.useState(""),[T,P]=x.useState([]),[O,U]=x.useState([]),[X,ie]=x.useState(""),[W,G]=x.useState(""),[H,Q]=x.useState([]),[te,$]=x.useState([]),[V,re]=x.useState([]);x.useEffect(()=>{(async()=>{try{const le=((await F0({page:1,limit:100})).items||[]).map(De=>{const et=String(De.name||""),B=et.split(" ").map(he=>he[0]).join("").slice(0,2).toUpperCase();return{id:String(De.id),name:et,email:String(De.email||""),role:String(De?.role?.name||De?.role||"").toLowerCase(),department:String(De?.department?.name||De?.department||""),avatar:B}});Q(le),$(le)}catch(q){console.error("Failed to load team members",q),Q([]),$([])}})()},[]);const K=[...new Set(H.map(q=>q.department).filter(Boolean))],J=[...new Set(H.map(q=>q.role).filter(Boolean))];x.useEffect(()=>{let q=H;X&&(q=q.filter(le=>le.department===X)),W&&(q=q.filter(le=>le.role===W)),$(q)},[X,W,H]),x.useEffect(()=>{const q=localStorage.getItem("projectDrafts");q&&k(JSON.parse(q))},[]),x.useEffect(()=>{if(S.startDate&&S.projectDeadline){const q=new Date(S.startDate),le=new Date(S.projectDeadline),De=le.getTime()-q.getTime(),et=Math.ceil(De/(1e3*60*60*24));let B=et;S.excludeWeekends&&(B=I(q,le));const he=B*8;N(Ae=>({...Ae,estimatedDuration:et,workingDays:B,totalWorkingHours:he}))}},[S.startDate,S.projectDeadline,S.excludeWeekends]);const I=(q,le)=>{let De=0;const et=new Date(q);for(;et<=le;){const B=et.getDay();B!==0&&B!==6&&De++,et.setDate(et.getDate()+1)}return De},L=HU?.VITE_USE_MOCK==="true",[me,Z]=x.useState([]),ye=[{id:"1",name:"Mobile App Redesign",description:"Complete redesign of the mobile application with modern UI/UX",owner:"Sarah Johnson",status:"in-progress",progress:60,startDate:"2024-01-01",dueDate:"2024-02-15",team:["Sarah Johnson","Mike Chen","Alex Rodriguez"],tags:["Mobile","UI/UX","React Native"],priority:"high",phases:[],tasks:[],members:[],allocatedHours:200,loggedHours:45.5,remainingHours:154.5}];x.useEffect(()=>{if(L){Z(ye);return}zU().then(q=>{const le=(q||[]).map(De=>({id:De.id,name:De.title,description:De.description,owner:De.owner?.name||"",status:(De.status||"PLANNING").toLowerCase(),progress:De.progress??0,startDate:De.startDate||"",dueDate:De.endDate||"",team:Array.isArray(De.memberships)?De.memberships.map(et=>et.user?.name).filter(Boolean):[],tags:[],priority:"medium",phases:[],tasks:[],members:[],allocatedHours:De.allocatedHours??0,loggedHours:De.usedHours??0,remainingHours:De.leftHours??Math.max((De.allocatedHours??0)-(De.usedHours??0),0)}));Z(le)}).catch(q=>{console.error("Failed to load projects",q)})},[]);const Me=q=>q?new Date(q).toLocaleDateString():"",ve=me.filter(q=>{const le=q.name.toLowerCase().includes(t.toLowerCase())||q.description.toLowerCase().includes(t.toLowerCase())||q.tags.some(B=>B.toLowerCase().includes(t.toLowerCase())),De=n==="all"||q.status===n,et=o==="all"||q.priority===o;return le&&De&&et}),_e=q=>{y(q),m(!0)},we=q=>{y(q),N({title:q.name,description:q.description,projectCode:q.id,category:"Tech-Related Services",subcategory:"Development",tags:q.tags,projectTypeComments:"",startDate:q.startDate,projectDeadline:q.dueDate||"",estimatedDuration:0,workingDays:0,totalWorkingHours:0,projectHours:q.allocatedHours||0,excludeWeekends:!0,status:q.status,priority:q.priority,visibility:"assigned-only",owner:q.owner,team:q.team,clients:[]}),(async()=>{try{const le=await Tt(`/projects/${q.id}/members`),De=Array.isArray(le)?le.map(et=>String(et.id)):[];re(De),P(De)}catch(le){console.error("Failed to load project members",le),re([]),P([])}})(),g(!0)},F=async()=>{if(p&&S){const q={...p,name:S.title,description:S.description,owner:S.owner,status:S.status,priority:S.priority,startDate:S.startDate,dueDate:S.projectDeadline,tags:S.tags,team:T,allocatedHours:S.projectHours||p.allocatedHours,loggedHours:p.loggedHours,remainingHours:Math.max(0,(S.projectHours||p.allocatedHours)-p.loggedHours)};try{await Xt(`/projects/${p.id}`,"PATCH",{title:q.name,description:q.description,allocatedHours:q.allocatedHours,startDate:q.startDate?new Date(q.startDate).toISOString():null,endDate:q.dueDate?new Date(q.dueDate).toISOString():null});const le=new Set(V),De=new Set(T),et=[...De].filter(he=>!le.has(he)),B=[...le].filter(he=>!De.has(he));et.length&&await Xt(`/projects/${p.id}/members`,"POST",{userIds:et}),B.length&&await Xt(`/projects/${p.id}/members`,"DELETE",{userIds:B})}catch(le){console.error("Failed to update project",le)}Z(le=>le.map(De=>De.id===p.id?q:De)),console.log("Saving project:",p.id,q,{add:T,remove:V}),alert("Project updated successfully!"),g(!1),y(null),ue()}},ue=()=>{m(!1),g(!1),y(null),N({title:"",description:"",projectCode:"",category:"",subcategory:"",tags:[],projectTypeComments:"",startDate:"",projectDeadline:"",estimatedDuration:0,workingDays:0,totalWorkingHours:0,projectHours:0,excludeWeekends:!0,status:"planning",priority:"medium",visibility:"assigned-only",owner:"",team:[],clients:[]}),P([]),E("")},R=(q,le)=>{N(De=>({...De,[q]:le}))},be=()=>{A.trim()&&!S.tags.includes(A.trim())&&(N(q=>({...q,tags:[...q.tags,A.trim()]})),E(""))},Ee=q=>{N(le=>({...le,tags:le.tags.filter(De=>De!==q)}))},Ve=q=>{q.target.files&&U(le=>[...le,...Array.from(q.target.files)])},qe=q=>{U(le=>le.filter((De,et)=>et!==q))},dt=q=>{e("/projects/add",{state:{draft:q}})},Ut=q=>{const le=j.filter(De=>De.id!==q);k(le),localStorage.setItem("projectDrafts",JSON.stringify(le))},_=q=>{const le={...q,id:`project-${Date.now()}`,status:"planning",publishedAt:new Date().toISOString()},De=j.filter(et=>et.id!==q.id);k(De),localStorage.setItem("projectDrafts",JSON.stringify(De)),console.log("Draft published as project:",le),alert("Draft published successfully!")},ne=q=>{switch(q){case"in-progress":return"badge-info";case"in-review":return"badge-warning";case"completed":return"badge-success";case"blocked":return"badge-danger";case"planning":return"badge-info";default:return"badge-info"}},Ce=q=>{switch(q){case"critical":return"badge-danger";case"high":return"badge-warning";case"medium":return"badge-success";case"low":return"badge-secondary";default:return"badge-secondary"}},Le=q=>q>=80?"bg-green-600":q>=60?"bg-blue-600":q>=40?"bg-yellow-600":"bg-red-600";return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Projects"}),a.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Create and manage your projects"})]}),a.jsxs(da,{to:"/projects/add",className:"btn-primary inline-flex items-center",children:[a.jsx("svg",{className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"New Project"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Projects"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"5"})]}),a.jsx("div",{className:"h-8 w-8 bg-blue-100 dark:bg-blue-900 rounded-xl flex items-center justify-center",children:a.jsx("svg",{className:"h-5 w-5 text-blue-600 dark:text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Active"}),a.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:"0"})]}),a.jsx("div",{className:"h-8 w-8 bg-green-100 dark:bg-green-900 rounded-xl flex items-center justify-center",children:a.jsx("svg",{className:"h-5 w-5 text-green-600 dark:text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Planning"}),a.jsx("p",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:"5"})]}),a.jsx("div",{className:"h-8 w-8 bg-orange-100 dark:bg-orange-900 rounded-xl flex items-center justify-center",children:a.jsx("svg",{className:"h-5 w-5 text-orange-600 dark:text-orange-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Completed"}),a.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:"0"})]}),a.jsx("div",{className:"h-8 w-8 bg-blue-100 dark:bg-blue-900 rounded-xl flex items-center justify-center",children:a.jsx("svg",{className:"h-5 w-5 text-blue-600 dark:text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]})})]}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Search"}),a.jsx("input",{type:"text",placeholder:"Search projects...",value:t,onChange:q=>r(q.target.value),className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),a.jsxs("select",{value:n,onChange:q=>i(q.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"planning",children:"Planning"}),a.jsx("option",{value:"in-progress",children:"In Progress"}),a.jsx("option",{value:"in-review",children:"In Review"}),a.jsx("option",{value:"completed",children:"Completed"}),a.jsx("option",{value:"blocked",children:"Blocked"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Priority"}),a.jsxs("select",{value:o,onChange:q=>c(q.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"All Priorities"}),a.jsx("option",{value:"critical",children:"Critical"}),a.jsx("option",{value:"high",children:"High"}),a.jsx("option",{value:"medium",children:"Medium"}),a.jsx("option",{value:"low",children:"Low"})]})]})]})}),j.length>0&&a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Draft Projects"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Continue working on your saved drafts"})]}),a.jsxs("button",{onClick:()=>C(!b),className:"btn-secondary text-sm",children:[b?"Hide Drafts":"Show Drafts"," (",j.length,")"]})]}),b&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:j.map(q=>a.jsxs("div",{className:"card border-2 border-dashed border-orange-200 dark:border-orange-800",children:[a.jsx("div",{className:"flex items-start justify-between mb-3",children:a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm mb-1",children:q.title||"Untitled Draft"}),a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:["Created: ",new Date(q.createdAt).toLocaleDateString()]}),a.jsx("span",{className:"inline-block bg-orange-100 dark:bg-orange-900 text-orange-800 dark:text-orange-200 text-xs px-2 py-1 rounded-full",children:"Draft"})]})}),q.description&&a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3 line-clamp-2",children:q.description}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{onClick:()=>dt(q),className:"btn-primary text-xs px-3 py-1",children:[a.jsx(kd,{className:"h-3 w-3 mr-1"}),"Continue"]}),a.jsx("button",{onClick:()=>_(q),className:"btn-secondary text-xs px-3 py-1",children:"Publish"})]}),a.jsx("button",{onClick:()=>Ut(q.id),className:"text-red-500 hover:text-red-700 p-1",title:"Delete draft",children:a.jsx(H3,{className:"h-4 w-4"})})]})]},q.id))})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Recent Projects"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Your latest projects"})]}),ve.length===0?a.jsxs("div",{className:"card text-center py-12",children:[a.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No projects found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Try adjusting your search or filter criteria."})]}):a.jsx("div",{className:"space-y-4",children:ve.map(q=>a.jsx(da,{to:`/projects/${q.id}`,className:"block",children:a.jsxs("div",{className:"card hover:shadow-lg transition-shadow duration-200 cursor-pointer group border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors",children:q.name}),a.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${q.priority==="critical"?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":q.priority==="high"?"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200":q.priority==="medium"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}`,children:q.priority.toUpperCase()})]}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:q.startDate&&q.dueDate?`Duration: ${Me(q.startDate)} - ${Me(q.dueDate)}`:q.dueDate?`Due: ${Me(q.dueDate)}`:"Due: No due date"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:`badge ${ne(q.status)}`,children:q.status.replace("-"," ").toUpperCase()}),q.team.length>0?a.jsxs("span",{className:"text-xs px-2 py-1 bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200 rounded-full",children:[q.team.length," assigned"]}):a.jsx("span",{className:"text-xs px-2 py-1 bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200 rounded-full",children:"Not assigned"})]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{className:"btn-secondary text-sm px-3 py-1",onClick:le=>{le.preventDefault(),le.stopPropagation(),_e(q)},children:[a.jsx(au,{className:"h-4 w-4 mr-1"}),"View"]}),a.jsxs("button",{className:"btn-primary text-sm px-3 py-1",onClick:le=>{le.preventDefault(),le.stopPropagation(),we(q)},children:[a.jsx(kd,{className:"h-4 w-4 mr-1"}),"Edit"]})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Progress"}),a.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[q.progress,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:a.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${Le(q.progress)}`,style:{width:`${q.progress}%`}})})]}),a.jsx("div",{className:"flex items-center justify-between text-sm mb-4",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[q.team.length," members"]})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"$60,000"})]})]})}),q.allocatedHours>0&&a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Time Allocation"}),a.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[Math.round(q.loggedHours/q.allocatedHours*100),"%"]})]}),a.jsx("div",{className:"w-1/6 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:a.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-green-500 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(100,q.loggedHours/q.allocatedHours*100)}%`}})})]}),a.jsx("div",{className:"flex items-center justify-between text-sm text-gray-600 dark:text-gray-400",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("span",{children:["Allocated: ",a.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[q.allocatedHours,"h"]})]}),a.jsxs("span",{children:["Logged: ",a.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[q.loggedHours,"h"]})]}),a.jsxs("span",{children:["Remaining: ",a.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[q.remainingHours,"h"]})]})]})})]})},q.id))})]}),u&&p&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Project Details"}),a.jsx("button",{onClick:ue,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:a.jsx(rr,{className:"h-6 w-6"})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-4",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:p.name}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:p.description}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{className:`badge ${ne(p.status)}`,children:p.status}),a.jsx("span",{className:`badge ${Ce(p.priority)}`,children:p.priority})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Project Information"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Project ID:"}),a.jsx("span",{className:"text-gray-900 dark:text-white",children:p.id})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Owner:"}),a.jsx("span",{className:"text-gray-900 dark:text-white",children:p.owner})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Start Date:"}),a.jsx("span",{className:"text-gray-900 dark:text-white",children:new Date(p.startDate).toLocaleDateString()})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Due Date:"}),a.jsx("span",{className:"text-gray-900 dark:text-white",children:p.dueDate?new Date(p.dueDate).toLocaleDateString():"Not set"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Progress:"}),a.jsxs("span",{className:"text-gray-900 dark:text-white",children:[p.progress,"%"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Allocated Hours:"}),a.jsxs("span",{className:"text-gray-900 dark:text-white",children:[p.allocatedHours,"h"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Logged Hours:"}),a.jsxs("span",{className:"text-gray-900 dark:text-white",children:[p.loggedHours,"h"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Remaining Hours:"}),a.jsxs("span",{className:"text-gray-900 dark:text-white",children:[p.remainingHours,"h"]})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Team & Tags"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Team Members:"}),a.jsx("div",{className:"mt-1",children:p.team.map((q,le)=>a.jsx("span",{className:"inline-block bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-2 py-1 rounded-md text-sm mr-2 mb-1",children:q},le))})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Tags:"}),a.jsx("div",{className:"mt-1",children:p.tags.map((q,le)=>a.jsx("span",{className:"inline-block bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 px-2 py-1 rounded-md text-sm mr-2 mb-1",children:q},le))})]})]})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Overall Progress"}),a.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[p.progress,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:a.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${Le(p.progress)}`,style:{width:`${p.progress}%`}})})]})]}),a.jsx("div",{className:"flex justify-end mt-6",children:a.jsx("button",{onClick:ue,className:"btn-secondary",children:"Close"})})]})}),f&&p&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl w-full max-w-6xl max-h-[95vh] overflow-y-auto",children:[a.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Edit Project"}),a.jsx("button",{onClick:ue,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:a.jsx(rr,{className:"h-6 w-6"})})]})}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded-lg mr-3",children:a.jsx(pi,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Project Basic Information"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Project Title *"}),a.jsx("input",{type:"text",value:S.title,onChange:q=>R("title",q.target.value),className:"input-field",placeholder:"Enter project title",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Project Description"}),a.jsx("textarea",{value:S.description,onChange:q=>R("description",q.target.value),className:"input-field",rows:4,placeholder:"Describe the project objectives and scope"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Project Code / ID"}),a.jsx("input",{type:"text",value:S.projectCode,onChange:q=>R("projectCode",q.target.value),className:"input-field",placeholder:"Auto-generated"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Project Status"}),a.jsxs("select",{value:S.status,onChange:q=>R("status",q.target.value),className:"input-field",children:[a.jsx("option",{value:"planning",children:"Planning"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"on-hold",children:"On Hold"}),a.jsx("option",{value:"completed",children:"Completed"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Project Category"}),a.jsxs("select",{value:S.category,onChange:q=>R("category",q.target.value),className:"input-field",children:[a.jsx("option",{value:"",children:"Select Category"}),a.jsx("option",{value:"GRC-Related Services",children:"GRC-Related Services"}),a.jsx("option",{value:"Tech-Related Services",children:"Tech-Related Services"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Subcategory"}),a.jsxs("select",{value:S.subcategory,onChange:q=>R("subcategory",q.target.value),className:"input-field",children:[a.jsx("option",{value:"",children:"Select Subcategory"}),a.jsx("option",{value:"Development",children:"Development"}),a.jsx("option",{value:"Security",children:"Security"}),a.jsx("option",{value:"Compliance",children:"Compliance"}),a.jsx("option",{value:"Testing",children:"Testing"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tags / Keywords"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:S.tags.map((q,le)=>a.jsxs("span",{className:"inline-flex items-center bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 px-2 py-1 rounded-md text-sm",children:[q,a.jsx("button",{type:"button",onClick:()=>Ee(q),className:"ml-1 text-blue-500 hover:text-blue-700",children:a.jsx(rr,{className:"h-3 w-3"})})]},le))}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:A,onChange:q=>E(q.target.value),className:"input-field flex-1",placeholder:"Add a tag",onKeyPress:q=>{q.key==="Enter"&&(q.preventDefault(),be())}}),a.jsx("button",{type:"button",onClick:be,className:"btn-secondary",children:"Add"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Project Type Comments"}),a.jsx("textarea",{value:S.projectTypeComments,onChange:q=>R("projectTypeComments",q.target.value),className:"input-field",rows:3,placeholder:"Additional comments about the project type"})]})]})]}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/20 rounded-lg mr-3",children:a.jsx(Nd,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Timeline & Scheduling"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Start Date *"}),a.jsx("input",{type:"date",value:S.startDate,onChange:q=>R("startDate",q.target.value),className:"input-field",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Project Deadline"}),a.jsx("input",{type:"date",value:S.projectDeadline,onChange:q=>R("projectDeadline",q.target.value),className:"input-field"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Project Hours Allocation"}),a.jsx("input",{type:"number",value:S.projectHours,onChange:q=>R("projectHours",parseInt(q.target.value)||0),className:"input-field",min:"0",placeholder:"Hours allocated for this project"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"excludeWeekends",checked:S.excludeWeekends,onChange:q=>R("excludeWeekends",q.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"excludeWeekends",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:"Exclude weekends from working days calculation"})]}),(S.estimatedDuration>0||S.workingDays>0)&&a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Calculated Timeline"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Total Days"}),a.jsx("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:S.estimatedDuration})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Working Days"}),a.jsx("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:S.workingDays})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Total Hours"}),a.jsxs("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[S.totalWorkingHours,"h"]})]})]}),S.totalWorkingHours>0&&S.projectHours>0&&a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mb-1",children:[a.jsx("span",{children:"Project Hours Allocation"}),a.jsxs("span",{children:[Math.round(S.projectHours/S.totalWorkingHours*100),"% of available time"]})]}),a.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(100,S.projectHours/S.totalWorkingHours*100)}%`}})})]})]})]})]}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/20 rounded-lg mr-3",children:a.jsx(vi,{className:"h-5 w-5 text-orange-600 dark:text-orange-400"})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Project Status & Priority"})]}),a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Priority Level"}),a.jsxs("select",{value:S.priority,onChange:q=>R("priority",q.target.value),className:"input-field",children:[a.jsx("option",{value:"low",children:"Low"}),a.jsx("option",{value:"medium",children:"Medium"}),a.jsx("option",{value:"high",children:"High"}),a.jsx("option",{value:"critical",children:"Critical"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Visibility"}),a.jsxs("select",{value:S.visibility,onChange:q=>R("visibility",q.target.value),className:"input-field",children:[a.jsx("option",{value:"assigned-only",children:"Only Assigned Members"}),a.jsx("option",{value:"organization",children:"Whole Organization"}),a.jsx("option",{value:"directors-managers",children:"Directors + Managers Only"})]})]})]})})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Project Owner"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Owner Name *"}),a.jsx("input",{type:"text",value:S.owner,onChange:q=>R("owner",q.target.value),className:"input-field",placeholder:"Enter owner name",required:!0})]})]}),a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Attachments"}),a.jsxs("div",{children:[a.jsx("input",{type:"file",multiple:!0,onChange:Ve,className:"input-field",accept:".pdf,.doc,.docx,.txt,.jpg,.png"}),O.length>0&&a.jsx("div",{className:"mt-3 space-y-2",children:O.map((q,le)=>a.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[a.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:q.name}),a.jsx("button",{type:"button",onClick:()=>qe(le),className:"text-red-500 hover:text-red-700",children:a.jsx(rr,{className:"h-4 w-4"})})]},le))})]})]})]})]}),a.jsxs("div",{className:"card",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/20 rounded-lg mr-3",children:a.jsx(Df,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Assign Team & Roles"})]})}),T.length>0&&a.jsxs("div",{className:"bg-primary-50 dark:bg-primary-900/20 rounded-lg p-4 mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("h4",{className:"text-sm font-medium text-primary-900 dark:text-primary-100",children:["Selected Team Members (",T.length,")"]}),a.jsx("button",{onClick:()=>P([]),className:"text-xs text-primary-600 hover:text-primary-800 dark:text-primary-400 dark:hover:text-primary-200",children:"Clear All"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:T.map(q=>{const le=H.find(De=>De.id===q);return le?a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-primary-100 text-primary-800 dark:bg-primary-800 dark:text-primary-200",children:[le.name,a.jsx("button",{onClick:De=>{De.stopPropagation(),P(et=>et.filter(B=>B!==q))},className:"ml-1 text-primary-600 hover:text-primary-800 dark:text-primary-400 dark:hover:text-primary-200",children:a.jsx(rr,{className:"h-3 w-3"})})]},q):null})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Department"}),a.jsxs("select",{value:X,onChange:q=>ie(q.target.value),className:"input-field",children:[a.jsx("option",{value:"",children:"All Departments"}),K.map(q=>a.jsx("option",{value:q,children:q},q))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Role"}),a.jsxs("select",{value:W,onChange:q=>G(q.target.value),className:"input-field",children:[a.jsx("option",{value:"",children:"All Roles"}),J.map(q=>a.jsx("option",{value:q,children:q.charAt(0).toUpperCase()+q.slice(1)},q))]})]})]}),a.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:te.length>0?te.map(q=>a.jsxs("div",{className:`flex items-center p-3 rounded-lg border cursor-pointer transition-colors duration-200 ${T.includes(q.id)?"border-primary-500 bg-primary-50 dark:bg-primary-900/20":"border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}`,onClick:()=>P(le=>le.includes(q.id)?le.filter(De=>De!==q.id):[...le,q.id]),children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-primary-600 flex items-center justify-center text-white font-medium mr-3",children:q.avatar}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:q.name}),a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[q.role.charAt(0).toUpperCase()+q.role.slice(1),"  ",q.department]}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:q.email})]}),a.jsx("div",{className:`h-5 w-5 rounded border-2 ${T.includes(q.id)?"bg-primary-600 border-primary-600":"border-gray-300 dark:border-gray-600"}`})]},q.id)):a.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[a.jsx(Df,{className:"h-12 w-12 mx-auto mb-2 text-gray-300 dark:text-gray-600"}),a.jsx("p",{children:"No team members found for the selected filters"}),a.jsx("button",{onClick:()=>{ie(""),G("")},className:"text-primary-600 hover:text-primary-800 dark:text-primary-400 dark:hover:text-primary-200 text-sm mt-2",children:"Clear filters"})]})})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:[a.jsx("button",{type:"button",onClick:ue,className:"btn-secondary",children:"Cancel"}),a.jsx("button",{onClick:F,className:"btn-primary",children:"Save Changes"})]})]})]})})]})},qU=()=>{const e=wn(),r=jn().state?.draft,[n,i]=x.useState({title:"",description:"",projectCode:"",category:"",subcategory:"",tags:[],projectTypeComments:"",startDate:"",projectDeadline:"",estimatedDuration:0,workingDays:0,totalWorkingHours:0,projectHours:0,excludeWeekends:!0,status:"planning",priority:"medium",visibility:"assigned-only"}),[o,c]=x.useState(""),[u,m]=x.useState([]),[f,g]=x.useState([]),[p,y]=x.useState([]),[j,k]=x.useState({name:"",email:"",company:"",phone:"",comments:""}),[b,C]=x.useState(!1),[S,N]=x.useState(!1),[A,E]=x.useState(""),[T,P]=x.useState(""),[O,U]=x.useState([]),[X,ie]=x.useState([]);x.useEffect(()=>{(async()=>{try{const ue=((await F0({page:1,limit:100})).items||[]).map(R=>{const be=String(R.name||""),Ee=be.split(" ").map(Ve=>Ve[0]).join("").slice(0,2).toUpperCase();return{id:String(R.id),name:be,email:String(R.email||""),role:String(R?.role?.name||R?.role||"").toLowerCase(),department:String(R?.department?.name||R?.department||""),avatar:Ee}});ie(ue),U(ue)}catch(F){console.error("Failed to load team members",F),ie([]),U([])}})()},[]);const W=[...new Set(X.map(F=>F.department).filter(Boolean))],G=[...new Set(X.map(F=>F.role).filter(Boolean))],H=[{id:"1",name:"John Doe",email:"john@client1.com",company:"Tech Corp",phone:"+1-555-0123"},{id:"2",name:"Jane Smith",email:"jane@client2.com",company:"Finance Inc",phone:"+1-555-0456"},{id:"3",name:"Mike Johnson",email:"mike@client3.com",company:"Healthcare Ltd",phone:"+1-555-0789"}],Q={"GRC-Related Services":["Virtual CISO","GDPR Compliance Programs","ISO 27001:2013","Cyber Security Strategy","Threat Intelligence","Data Classification"],"Tech-Related Services":["Vulnerability Assessment","Penetration Testing","Web Application Security Assessment","Mobile Application Security Assessment","Red Team","API Security Testing","Configuration Review","Incident Response Support","Social Engineering Assessment","Code Review","Digital Forensics"]};x.useEffect(()=>{if(!n.projectCode){const F=`PRJ-${Date.now().toString().slice(-6)}`;i(ue=>({...ue,projectCode:F}))}},[]),x.useEffect(()=>{if(n.startDate&&n.projectDeadline){const F=new Date(n.startDate),ue=new Date(n.projectDeadline),R=ue.getTime()-F.getTime(),be=Math.ceil(R/(1e3*60*60*24));let Ee=be;n.excludeWeekends&&(Ee=te(F,ue));const Ve=Ee*8;i(qe=>({...qe,estimatedDuration:be,workingDays:Ee,totalWorkingHours:Ve}))}},[n.startDate,n.projectDeadline,n.excludeWeekends]);const te=(F,ue)=>{let R=0;const be=new Date(F);for(;be<=ue;){const Ee=be.getDay();Ee!==0&&Ee!==6&&R++,be.setDate(be.getDate()+1)}return R};x.useEffect(()=>{if(n.projectDeadline){const F=new Date(n.projectDeadline),ue=new Date,R=Math.ceil((F.getTime()-ue.getTime())/(1e3*60*60*24));let be="medium";R<7?be="critical":R<14?be="high":R<30?be="medium":be="low",i(Ee=>({...Ee,priority:be}))}},[n.projectDeadline]);const $=(F,ue)=>{i(R=>({...R,[F]:ue}))},V=()=>{o.trim()&&!n.tags.includes(o.trim())&&(i(F=>({...F,tags:[...F.tags,o.trim()]})),c(""))},re=F=>{i(ue=>({...ue,tags:ue.tags.filter(R=>R!==F)}))};x.useEffect(()=>{r&&(i({title:r.title||"",description:r.description||"",projectCode:r.projectCode||"",category:r.category||"",subcategory:r.subcategory||"",tags:r.tags||[],projectTypeComments:r.projectTypeComments||"",startDate:r.startDate||"",projectDeadline:r.projectDeadline||"",estimatedDuration:r.estimatedDuration||0,workingDays:r.workingDays||0,totalWorkingHours:r.totalWorkingHours||0,projectHours:r.projectHours||0,excludeWeekends:r.excludeWeekends!==void 0?r.excludeWeekends:!0,status:r.status||"planning",priority:r.priority||"medium",visibility:r.visibility||"assigned-only"}),m(r.team||[]),g(r.clients||[]))},[r]),x.useEffect(()=>{let F=X;A&&(F=F.filter(ue=>ue.department===A)),T&&(F=F.filter(ue=>ue.role===T)),U(F)},[A,T,X]);const K=F=>{m(ue=>ue.includes(F)?ue.filter(R=>R!==F):[...ue,F])},J=F=>{E(F),P("")},I=F=>{P(F)},L=F=>{g(ue=>ue.includes(F)?ue.filter(R=>R!==F):[...ue,F])},me=()=>{j.name.trim()&&j.email.trim()&&(k({name:"",email:"",company:"",phone:"",comments:""}),C(!1))},Z=F=>{F.target.files&&y(ue=>[...ue,...Array.from(F.target.files)])},ye=F=>{y(ue=>ue.filter((R,be)=>be!==F))},Me=async()=>{N(!0);const F={id:r?.id||`draft-${Date.now()}`,...n,status:"draft",createdAt:r?.createdAt||new Date().toISOString(),updatedAt:new Date().toISOString(),team:u,clients:f,attachments:p.map(R=>({name:R.name,size:R.size,type:R.type})),allocatedHours:n.projectHours,loggedHours:0,remainingHours:n.projectHours},ue=JSON.parse(localStorage.getItem("projectDrafts")||"[]");if(r){const R=ue.map(be=>be.id===r.id?F:be);localStorage.setItem("projectDrafts",JSON.stringify(R))}else ue.push(F),localStorage.setItem("projectDrafts",JSON.stringify(ue));await new Promise(R=>setTimeout(R,1e3)),console.log("Project saved as draft:",F),N(!1),e("/projects")},ve=async()=>{if(!n.title.trim()){alert("Please enter a project title");return}N(!0);try{const F={code:n.projectCode||`PRJ-${Date.now().toString().slice(-6)}`,title:n.title,description:n.description,allocatedHours:Number(n.projectHours)||0,visibility:"TEAM",status:"PLANNING",startDate:n.startDate?new Date(n.startDate).toISOString():void 0,endDate:n.projectDeadline?new Date(n.projectDeadline).toISOString():void 0,memberUserIds:u},ue="http://localhost:4000",R=await fetch(`${ue}/projects`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(F)});if(!R.ok){const Ee=await R.text();throw new Error(Ee||`Failed to create project: ${R.status}`)}const be=await R.json();if(u&&u.length>0)try{await fetch(`${ue}/projects/${be.id}/members`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userIds:u})})}catch(Ee){console.warn("Failed to attach members to project",Ee)}console.log("Project created and published:",be),e("/projects")}catch(F){console.error(F),alert(F.message||"Failed to create project")}finally{N(!1)}},_e=F=>{switch(F){case"critical":return"text-red-600 bg-red-100 dark:bg-red-900 dark:text-red-200";case"high":return"text-orange-600 bg-orange-100 dark:bg-orange-900 dark:text-orange-200";case"medium":return"text-yellow-600 bg-yellow-100 dark:bg-yellow-900 dark:text-yellow-200";case"low":return"text-green-600 bg-green-100 dark:bg-green-900 dark:text-green-200";default:return"text-gray-600 bg-gray-100 dark:bg-gray-700 dark:text-gray-200"}},we=F=>{switch(F){case"planning":return"text-blue-600 bg-blue-100 dark:bg-blue-900 dark:text-blue-200";case"active":return"text-green-600 bg-green-100 dark:bg-green-900 dark:text-green-200";case"on-hold":return"text-yellow-600 bg-yellow-100 dark:bg-yellow-900 dark:text-yellow-200";case"completed":return"text-gray-600 bg-gray-100 dark:bg-gray-700 dark:text-gray-200";default:return"text-gray-600 bg-gray-100 dark:bg-gray-700 dark:text-gray-200"}};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("div",{className:"flex items-center mb-4",children:a.jsxs("button",{onClick:()=>e("/projects"),className:"flex items-center text-sm font-medium text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors duration-200 mr-4",children:[a.jsx(Vb,{className:"h-4 w-4 mr-2"}),"Back to Projects"]})}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:r?"Continue Draft Project":"Create New Project"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:r?"Continue working on your saved draft project":"Set up a new project with all necessary details and team assignments"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded-lg mr-3",children:a.jsx(_n,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Project Basic Information"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Project Title *"}),a.jsx("input",{type:"text",value:n.title,onChange:F=>$("title",F.target.value),className:"input-field",placeholder:"Enter project title",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Project Description"}),a.jsx("textarea",{value:n.description,onChange:F=>$("description",F.target.value),className:"input-field",rows:4,placeholder:"Describe the project objectives and scope"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Project Code / ID"}),a.jsx("input",{type:"text",value:n.projectCode,onChange:F=>$("projectCode",F.target.value),className:"input-field",placeholder:"Auto-generated"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Project Status"}),a.jsxs("select",{value:n.status,onChange:F=>$("status",F.target.value),className:"input-field",children:[a.jsx("option",{value:"planning",children:"Planning"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"on-hold",children:"On Hold"}),a.jsx("option",{value:"completed",children:"Completed"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Project Category"}),a.jsxs("select",{value:n.category,onChange:F=>{$("category",F.target.value),$("subcategory","")},className:"input-field",children:[a.jsx("option",{value:"",children:"Select category"}),Object.keys(Q).map(F=>a.jsx("option",{value:F,children:F},F))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Subcategory"}),a.jsxs("select",{value:n.subcategory,onChange:F=>$("subcategory",F.target.value),className:"input-field",disabled:!n.category,children:[a.jsx("option",{value:"",children:"Select subcategory"}),n.category&&Q[n.category]?.map(F=>a.jsx("option",{value:F,children:F},F))]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tags / Keywords"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:n.tags.map((F,ue)=>a.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-primary-100 text-primary-800 dark:bg-primary-900 dark:text-primary-200",children:[F,a.jsx("button",{onClick:()=>re(F),className:"ml-2 text-primary-600 hover:text-primary-800 dark:text-primary-400 dark:hover:text-primary-200",children:a.jsx(rr,{className:"h-3 w-3"})})]},ue))}),a.jsxs("div",{className:"flex",children:[a.jsx("input",{type:"text",value:o,onChange:F=>c(F.target.value),onKeyPress:F=>F.key==="Enter"&&(F.preventDefault(),V()),className:"input-field rounded-r-none",placeholder:"Add a tag and press Enter"}),a.jsx("button",{onClick:V,className:"btn-primary rounded-l-none px-4",children:a.jsx($d,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Project Type Comments"}),a.jsx("textarea",{value:n.projectTypeComments,onChange:F=>$("projectTypeComments",F.target.value),className:"input-field",rows:3,placeholder:"Describe what kind of project this is in your own words"})]})]})]}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/20 rounded-lg mr-3",children:a.jsx(wd,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Timeline & Scheduling"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Start Date *"}),a.jsx("input",{type:"date",value:n.startDate,onChange:F=>$("startDate",F.target.value),className:"input-field",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Project Deadline *"}),a.jsx("input",{type:"date",value:n.projectDeadline,onChange:F=>$("projectDeadline",F.target.value),className:"input-field",required:!0})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Exclude Weekends"}),a.jsxs("select",{value:n.excludeWeekends?"yes":"no",onChange:F=>$("excludeWeekends",F.target.value==="yes"),className:"input-field",children:[a.jsx("option",{value:"yes",children:"Yes (Monday - Friday only)"}),a.jsx("option",{value:"no",children:"No (Include all days)"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Allocated Project Hours"}),a.jsx("input",{type:"number",value:n.projectHours,onChange:F=>$("projectHours",parseInt(F.target.value)||0),className:"input-field",placeholder:"Enter total project hours",min:"0"})]})]}),(n.estimatedDuration>0||n.workingDays>0)&&a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Sr,{className:"h-5 w-5 text-gray-600 dark:text-gray-400 mr-2"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Total Days"}),a.jsx("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:n.estimatedDuration})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(wd,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mr-2"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Working Days"}),a.jsx("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:n.workingDays})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Sr,{className:"h-5 w-5 text-green-600 dark:text-green-400 mr-2"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Available Hours"}),a.jsxs("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[n.totalWorkingHours,"h"]})]})]})]}),n.projectHours>0&&a.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-600",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-2 w-32 bg-gray-200 dark:bg-gray-600 rounded-full mr-3",children:a.jsx("div",{className:"h-2 bg-primary-600 rounded-full transition-all duration-300",style:{width:`${Math.min(100,n.projectHours/n.totalWorkingHours*100)}%`}})}),a.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[Math.round(n.projectHours/n.totalWorkingHours*100),"% of available time"]})]}),a.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[n.projectHours,"h allocated"]})]})})]})]})]}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/20 rounded-lg mr-3",children:a.jsx(So,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Assign Team & Roles"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Filter by Department"}),a.jsxs("select",{value:A,onChange:F=>J(F.target.value),className:"input-field",children:[a.jsx("option",{value:"",children:"All Departments"}),W.map(F=>a.jsx("option",{value:F,children:F},F))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Filter by Role"}),a.jsxs("select",{value:T,onChange:F=>I(F.target.value),className:"input-field",disabled:!A,children:[a.jsx("option",{value:"",children:"All Roles"}),A?[...new Set(X.filter(F=>F.department===A).map(F=>F.role))].map(F=>a.jsx("option",{value:F,children:F.charAt(0).toUpperCase()+F.slice(1)},F)):G.map(F=>a.jsx("option",{value:F,children:F.charAt(0).toUpperCase()+F.slice(1)},F))]})]})]}),u.length>0&&a.jsxs("div",{className:"bg-primary-50 dark:bg-primary-900/20 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("h3",{className:"text-sm font-medium text-primary-900 dark:text-primary-100",children:["Selected Team Members (",u.length,")"]}),a.jsx("button",{onClick:()=>m([]),className:"text-xs text-primary-600 hover:text-primary-800 dark:text-primary-400 dark:hover:text-primary-200",children:"Clear All"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:u.map(F=>{const ue=X.find(R=>R.id===F);return ue?a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-primary-100 text-primary-800 dark:bg-primary-800 dark:text-primary-200",children:[ue.name,a.jsx("button",{onClick:R=>{R.stopPropagation(),K(F)},className:"ml-1 text-primary-600 hover:text-primary-800 dark:text-primary-400 dark:hover:text-primary-200",children:a.jsx(rr,{className:"h-3 w-3"})})]},F):null})})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:["Available Team Members",O.length!==X.length&&a.jsxs("span",{className:"text-gray-500 dark:text-gray-400 ml-2",children:["(",O.length," of ",X.length,")"]})]}),a.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:O.length>0?O.map(F=>a.jsxs("div",{className:`flex items-center p-3 rounded-lg border cursor-pointer transition-colors duration-200 ${u.includes(F.id)?"border-primary-500 bg-primary-50 dark:bg-primary-900/20":"border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}`,onClick:()=>K(F.id),children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-primary-600 flex items-center justify-center text-white font-medium mr-3",children:F.avatar}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:F.name}),a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[F.role.charAt(0).toUpperCase()+F.role.slice(1),"  ",F.department]}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:F.email})]}),a.jsx("div",{className:`h-5 w-5 rounded border-2 ${u.includes(F.id)?"bg-primary-600 border-primary-600":"border-gray-300 dark:border-gray-600"}`,children:u.includes(F.id)&&a.jsx(vi,{className:"h-4 w-4 text-white"})})]},F.id)):a.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[a.jsx(So,{className:"h-12 w-12 mx-auto mb-2 text-gray-300 dark:text-gray-600"}),a.jsx("p",{children:"No team members found for the selected filters"}),a.jsx("button",{onClick:()=>{E(""),P("")},className:"text-primary-600 hover:text-primary-800 dark:text-primary-400 dark:hover:text-primary-200 text-sm mt-2",children:"Clear filters"})]})})]})]})]}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/20 rounded-lg mr-3",children:a.jsx(So,{className:"h-5 w-5 text-orange-600 dark:text-orange-400"})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Clients"})]}),a.jsxs("button",{onClick:()=>C(!0),className:"btn-primary text-sm",children:[a.jsx($d,{className:"h-4 w-4 mr-2"}),"Add Client"]})]}),a.jsxs("div",{className:"space-y-4",children:[H.map(F=>a.jsxs("div",{className:`flex items-center p-3 rounded-lg border cursor-pointer transition-colors duration-200 ${f.includes(F.id)?"border-primary-500 bg-primary-50 dark:bg-primary-900/20":"border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}`,onClick:()=>L(F.id),children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-orange-600 flex items-center justify-center text-white font-medium mr-3",children:F.name.split(" ").map(ue=>ue[0]).join("")}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:F.name}),a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[F.company,"  ",F.email]})]}),a.jsx("div",{className:`h-5 w-5 rounded border-2 ${f.includes(F.id)?"bg-primary-600 border-primary-600":"border-gray-300 dark:border-gray-600"}`,children:f.includes(F.id)&&a.jsx(vi,{className:"h-4 w-4 text-white"})})]},F.id)),b&&a.jsxs("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-4 bg-gray-50 dark:bg-gray-700",children:[a.jsx("h3",{className:"font-medium text-gray-900 dark:text-white mb-4",children:"Add New Client"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx("input",{type:"text",placeholder:"Client Name",value:j.name,onChange:F=>k(ue=>({...ue,name:F.target.value})),className:"input-field"}),a.jsx("input",{type:"email",placeholder:"Email",value:j.email,onChange:F=>k(ue=>({...ue,email:F.target.value})),className:"input-field"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx("input",{type:"text",placeholder:"Company",value:j.company,onChange:F=>k(ue=>({...ue,company:F.target.value})),className:"input-field"}),a.jsx("input",{type:"tel",placeholder:"Phone",value:j.phone,onChange:F=>k(ue=>({...ue,phone:F.target.value})),className:"input-field"})]}),a.jsx("textarea",{placeholder:"Comments",value:j.comments,onChange:F=>k(ue=>({...ue,comments:F.target.value})),className:"input-field",rows:2}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{onClick:()=>C(!1),className:"btn-secondary text-sm",children:"Cancel"}),a.jsx("button",{onClick:me,className:"btn-primary text-sm",children:"Add Client"})]})]})]})]})]}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx("div",{className:"p-2 bg-indigo-100 dark:bg-indigo-900/20 rounded-lg mr-3",children:a.jsx(mv,{className:"h-5 w-5 text-indigo-600 dark:text-indigo-400"})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Attachments"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6 text-center",children:[a.jsx(mv,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Upload project documents (proposal, contract, scope doc, etc.)"}),a.jsx("input",{type:"file",multiple:!0,onChange:Z,className:"hidden",id:"file-upload"}),a.jsx("label",{htmlFor:"file-upload",className:"btn-primary cursor-pointer",children:"Choose Files"})]}),p.length>0&&a.jsx("div",{className:"space-y-2",children:p.map((F,ue)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(pi,{className:"h-5 w-5 text-gray-400 mr-3"}),a.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:F.name})]}),a.jsx("button",{onClick:()=>ye(ue),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-200",children:a.jsx(rr,{className:"h-4 w-4"})})]},ue))})]})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900/20 rounded-lg mr-3",children:a.jsx(js,{className:"h-5 w-5 text-red-600 dark:text-red-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Status & Priority"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Priority"}),a.jsxs("select",{value:n.priority,onChange:F=>$("priority",F.target.value),className:"input-field",children:[a.jsx("option",{value:"low",children:"Low"}),a.jsx("option",{value:"medium",children:"Medium"}),a.jsx("option",{value:"high",children:"High"}),a.jsx("option",{value:"critical",children:"Critical"})]}),a.jsx("div",{className:"mt-2",children:a.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${_e(n.priority)}`,children:[n.priority.charAt(0).toUpperCase()+n.priority.slice(1)," Priority"]})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),a.jsx("div",{className:"mt-2",children:a.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${we(n.status)}`,children:n.status.charAt(0).toUpperCase()+n.status.slice(1).replace("-"," ")})})]})]})]}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"p-2 bg-gray-100 dark:bg-gray-700 rounded-lg mr-3",children:a.jsx(au,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Visibility"})]}),a.jsx("div",{className:"space-y-3",children:[{value:"assigned-only",label:"Only assigned members",icon:Df},{value:"organization",label:"Whole organization",icon:Qd},{value:"directors-managers",label:"Directors + Managers only",icon:Sb}].map(F=>a.jsxs("label",{className:"flex items-center cursor-pointer",children:[a.jsx("input",{type:"radio",name:"visibility",value:F.value,checked:n.visibility===F.value,onChange:ue=>$("visibility",ue.target.value),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300"}),a.jsxs("div",{className:"ml-3 flex items-center",children:[a.jsx(F.icon,{className:"h-4 w-4 text-gray-400 mr-2"}),a.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:F.label})]})]},F.value))})]}),a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Actions"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("button",{onClick:Me,disabled:S,className:"w-full btn-secondary flex items-center justify-center",children:[a.jsx(DU,{className:"h-4 w-4 mr-2"}),S?"Saving...":"Save Draft"]}),a.jsxs("button",{onClick:ve,disabled:S,className:"w-full btn-primary flex items-center justify-center",children:[a.jsx(vi,{className:"h-4 w-4 mr-2"}),S?"Creating...":"Create & Publish"]}),a.jsx("button",{onClick:()=>e("/projects"),className:"w-full btn-secondary",children:"Cancel"})]})]})]})]})]})},WU=({phases:e,onTaskClick:t,onTaskEdit:r})=>{const[n,i]=x.useState(new Set(e.map(W=>W.id))),[o,c]=x.useState(null),[u,m]=x.useState({x:0,y:0}),[f,g]=x.useState(new Set),[p,y]=x.useState("daily"),j=x.useRef(null),k=x.useRef(null),{timelineData:b,timelineStart:C,timelineEnd:S,cellWidth:N}=x.useMemo(()=>{const W=new Set;e.forEach(V=>{W.add(V.startDate),W.add(V.endDate),V.tasks.forEach(re=>{W.add(re.start),W.add(re.end)})});const G=Array.from(W).sort(),H=new Date(G[0]),Q=new Date(G[G.length-1]);let te=[],$=24;if(p==="daily"){const V=new Date(H);for(;V<=Q;)te.push(new Date(V)),V.setDate(V.getDate()+1)}else{const V=new Date(H),re=V.getDay();for(V.setDate(V.getDate()-re);V<=Q;)te.push(new Date(V)),V.setDate(V.getDate()+7);$=80}return{timelineData:te,timelineStart:H,timelineEnd:Q,cellWidth:$}},[e,p]),A=(W,G)=>{const H=new Date(W),Q=new Date(G);if(p==="daily"){const te=Math.ceil((S.getTime()-C.getTime())/864e5),$=Math.ceil((H.getTime()-C.getTime())/(1e3*60*60*24)),V=Math.ceil((Q.getTime()-H.getTime())/(1e3*60*60*24)),re=$/te*100,K=V/te*100;return{left:`${re}%`,width:`${K}%`}}else{const te=b.length,$=b.findIndex(J=>{const I=new Date(J),L=new Date(J);return L.setDate(L.getDate()+6),H>=I&&H<=L}),V=b.findIndex(J=>{const I=new Date(J),L=new Date(J);return L.setDate(L.getDate()+6),Q>=I&&Q<=L}),re=$/te*100,K=(V-$+1)/te*100;return{left:`${re}%`,width:`${K}%`}}},E=W=>{switch(W){case"completed":return"#10b981";case"in-progress":return"#3b82f6";case"on-hold":return"#f59e0b";default:return"#6b7280"}},T=W=>{switch(W){case"completed":return a.jsx(la,{className:"h-4 w-4 text-green-500"});case"in-progress":return a.jsx(kb,{className:"h-4 w-4 text-blue-500"});case"on-hold":return a.jsx(JD,{className:"h-4 w-4 text-yellow-500"});default:return a.jsx(js,{className:"h-4 w-4 text-gray-500"})}},P=W=>{const G=new Set(n);G.has(W)?G.delete(W):G.add(W),i(G)},O=(W,G)=>{if(G.ctrlKey||G.metaKey){const H=new Set(f);H.has(W)?H.delete(W):H.add(W),g(H)}else g(new Set([W]))},U=(W,G)=>{G.preventDefault()},X=()=>{},ie=x.useMemo(()=>{const W=[];return e.forEach(G=>{W.push({id:`phase-${G.id}`,name:G.name,start:G.startDate,end:G.endDate,progress:0,type:"summary",parent:0,phaseId:G.id,assignees:[],status:"in-progress",description:`Phase: ${G.name}`,open:n.has(G.id)}),n.has(G.id)&&G.tasks.forEach(H=>{W.push({id:`task-${H.id}`,name:H.name,start:H.start,end:H.end,progress:H.progress,type:"task",parent:`phase-${G.id}`,phaseId:G.id,assignees:H.assignees||[],status:H.status||"not-started",description:H.description})})}),W},[e,n]);return a.jsxs("div",{className:"w-full bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden shadow-xl",children:[a.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600 p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Project Timeline"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Interactive Gantt chart - Click on phases or tasks to edit them"})]}),a.jsxs("div",{className:"flex items-center bg-white dark:bg-gray-800 rounded-lg p-1 border border-gray-200 dark:border-gray-600",children:[a.jsx("button",{onClick:()=>y("daily"),className:`px-3 py-1.5 text-sm font-medium rounded-md transition-colors ${p==="daily"?"bg-blue-500 text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:"Daily"}),a.jsx("button",{onClick:()=>y("weekly"),className:`px-3 py-1.5 text-sm font-medium rounded-md transition-colors ${p==="weekly"?"bg-blue-500 text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:"Weekly"})]})]})}),a.jsxs("div",{className:"flex h-96",children:[a.jsxs("div",{ref:k,className:"w-80 border-r border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 overflow-y-auto",children:[a.jsx("div",{className:"p-3 border-b border-gray-200 dark:border-gray-600 bg-gray-100 dark:bg-gray-800",children:a.jsx("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Tasks"})}),a.jsx("div",{className:"space-y-0",children:ie.map(W=>a.jsxs("div",{className:`flex items-center p-3 border-b border-gray-100 dark:border-gray-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 cursor-pointer transition-colors ${f.has(W.id)?"bg-blue-100 dark:bg-blue-800":""} ${W.type==="summary"?"font-semibold":"pl-8"}`,onClick:G=>{W.type==="summary"?P(W.phaseId):(O(W.id,G),t(W))},children:[a.jsxs("div",{className:"flex items-center space-x-2 flex-1",children:[W.type==="summary"&&a.jsx("button",{onClick:G=>{G.stopPropagation(),P(W.phaseId)},className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded",children:n.has(W.phaseId)?a.jsx(A0,{className:"h-4 w-4 text-gray-500"}):a.jsx(XD,{className:"h-4 w-4 text-gray-500"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-sm text-gray-900 dark:text-white truncate",children:W.name}),a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[new Date(W.start).toLocaleDateString()," - ",new Date(W.end).toLocaleDateString()]})]})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[W.type==="task"&&T(W.status),W.type==="task"&&a.jsx("button",{onClick:G=>{G.stopPropagation(),r(W)},className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded opacity-0 group-hover:opacity-100",children:a.jsx(QD,{className:"h-3 w-3 text-gray-500"})})]})]},W.id))})]}),a.jsxs("div",{ref:j,className:"flex-1 overflow-auto",children:[a.jsx("div",{className:"sticky top-0 bg-gray-100 dark:bg-gray-800 border-b border-gray-200 dark:border-gray-600",children:a.jsx("div",{className:"flex",style:{width:`${b.length*N}px`},children:b.map((W,G)=>a.jsx("div",{className:"p-1 text-center border-r border-gray-200 dark:border-gray-600",style:{minWidth:`${N}px`,width:`${N}px`},children:p==="daily"?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"text-xs font-semibold text-gray-900 dark:text-white",children:G%7===0?W.toLocaleDateString("en-US",{month:"short"}):""}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:W.getDate()})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"text-xs font-semibold text-gray-900 dark:text-white",children:W.toLocaleDateString("en-US",{month:"short"})}),a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Week ",Math.ceil(W.getDate()/7)]}),a.jsx("div",{className:"text-xs text-gray-400 dark:text-gray-500",children:W.getFullYear()})]})},G))})}),a.jsx("div",{className:"relative",style:{height:"calc(100% - 40px)",width:`${b.length*N}px`},children:ie.map((W,G)=>{const H=A(W.start,W.end),Q=f.has(W.id);return a.jsx("div",{className:`absolute h-8 cursor-pointer transition-all duration-200 ${Q?"ring-2 ring-blue-500":""}`,style:{left:H.left,width:H.width,top:`${G*32}px`},onMouseEnter:te=>{c({type:W.type,data:W}),m({x:te.clientX,y:te.clientY})},onMouseLeave:()=>c(null),onMouseMove:te=>m({x:te.clientX,y:te.clientY}),onMouseDown:te=>U(W,te),onMouseUp:X,children:a.jsxs("div",{className:`h-full rounded flex items-center justify-center text-white text-xs font-medium shadow-sm hover:shadow-md transition-all ${W.type==="summary"?"bg-gradient-to-r from-indigo-500 to-indigo-600":"bg-gradient-to-r from-blue-500 to-blue-600"}`,style:{backgroundColor:W.type==="summary"?"#6366f1":E(W.status)},children:[a.jsxs("div",{className:"flex items-center space-x-1 px-2",children:[a.jsx("span",{className:"truncate",children:W.name}),W.type==="task"&&a.jsxs("span",{className:"text-xs opacity-75 bg-white bg-opacity-20 px-1 rounded",children:[W.progress,"%"]})]}),W.type==="task"&&a.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-20 rounded",style:{width:`${100-W.progress}%`,right:0}})]})},W.id)})})]})]}),o&&a.jsxs("div",{className:"fixed z-50 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg p-4 max-w-xs",style:{left:u.x+10,top:u.y-10,pointerEvents:"none"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:o.data.name}),a.jsx("div",{className:"flex items-center space-x-1",children:o.type==="task"&&T(o.data.status)})]}),a.jsxs("div",{className:"space-y-1 text-xs text-gray-600 dark:text-gray-400",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ca,{className:"h-3 w-3"}),a.jsxs("span",{children:[new Date(o.data.start).toLocaleDateString()," - ",new Date(o.data.end).toLocaleDateString()]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Sr,{className:"h-3 w-3"}),a.jsxs("span",{children:[Math.ceil((new Date(o.data.end).getTime()-new Date(o.data.start).getTime())/(1e3*60*60*24))," days"]})]}),o.type==="task"&&o.data.assignees&&o.data.assignees.length>0&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(gn,{className:"h-3 w-3"}),a.jsx("span",{children:o.data.assignees.join(", ")})]}),o.type==="task"&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-1.5 mt-2",children:a.jsx("div",{className:"bg-blue-500 h-1.5 rounded-full transition-all duration-300",style:{width:`${o.data.progress}%`}})}),a.jsxs("div",{className:"text-center text-xs text-gray-500 dark:text-gray-400",children:[o.data.progress,"% Complete"]})]})]})]})]})},VU=({isOpen:e,onClose:t,phase:r,onSave:n})=>{const[i,o]=x.useState({id:"",title:"",description:"",startDate:"",endDate:"",status:"planning",assignees:[]});x.useEffect(()=>{r&&o(r)},[r]);const c=f=>{const{name:g,value:p}=f.target;o(y=>({...y,[g]:p}))},u=f=>{f.preventDefault(),n(i),t()},m=()=>{if(i.startDate&&i.endDate){const f=new Date(i.startDate),g=new Date(i.endDate),p=Math.abs(g.getTime()-f.getTime());return Math.ceil(p/(1e3*60*60*24))}return 0};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:a.jsx(_n,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Edit Phase"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Update phase details and timeline"})]})]}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:a.jsx(rr,{className:"h-5 w-5 text-gray-500"})})]}),a.jsxs("form",{onSubmit:u,className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phase Name *"}),a.jsx("input",{type:"text",name:"title",value:i.title,onChange:c,required:!0,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"Enter phase name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),a.jsx("textarea",{name:"description",value:i.description,onChange:c,rows:3,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors resize-none",placeholder:"Enter phase description"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[a.jsx(Ca,{className:"h-4 w-4 inline mr-2"}),"Start Date *"]}),a.jsx("input",{type:"date",name:"startDate",value:i.startDate,onChange:c,required:!0,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[a.jsx(Ca,{className:"h-4 w-4 inline mr-2"}),"End Date *"]}),a.jsx("input",{type:"date",name:"endDate",value:i.endDate,onChange:c,required:!0,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"})]})]}),m()>0&&a.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ca,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}),a.jsxs("span",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:["Duration: ",m()," days"]})]})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),a.jsxs("select",{name:"status",value:i.status,onChange:c,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",children:[a.jsx("option",{value:"planning",children:"Planning"}),a.jsx("option",{value:"not-started",children:"Not Started"}),a.jsx("option",{value:"in-progress",children:"In Progress"}),a.jsx("option",{value:"completed",children:"Completed"}),a.jsx("option",{value:"on-hold",children:"On Hold"})]})]}),a.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:[a.jsx("button",{type:"button",onClick:t,className:"px-6 py-3 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-xl hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors font-medium",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors font-medium",children:"Save Changes"})]})]})]})}):null},YU=({isOpen:e,onClose:t,task:r,onSave:n,teamMembers:i=[]})=>{const[o,c]=x.useState({id:"",title:"",description:"",dueDate:"",status:"not-started",priority:"medium",assignee:{id:"",name:"",email:"",role:"",department:""},phaseId:"",createdAt:"",updatedAt:""});x.useEffect(()=>{if(r){const g={...r,dueDate:r.dueDate&&r.dueDate.includes("T")?r.dueDate.split("T")[0]:r.dueDate||""};c(g)}},[r]);const u=g=>{const{name:p,value:y}=g.target;c(j=>({...j,[p]:y}))},m=g=>{g.preventDefault(),n(o),t()},f=g=>{switch(g){case"critical":return"text-red-600 bg-red-100 dark:bg-red-900/30 dark:text-red-400";case"high":return"text-orange-600 bg-orange-100 dark:bg-orange-900/30 dark:text-orange-400";case"medium":return"text-yellow-600 bg-yellow-100 dark:bg-yellow-900/30 dark:text-yellow-400";case"low":return"text-green-600 bg-green-100 dark:bg-green-900/30 dark:text-green-400";default:return"text-gray-600 bg-gray-100 dark:bg-gray-900/30 dark:text-gray-400"}};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:a.jsx(Ed,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Edit Task"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Update task details and timeline"})]})]}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:a.jsx(rr,{className:"h-5 w-5 text-gray-500"})})]}),a.jsxs("form",{onSubmit:m,className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Task Name *"}),a.jsx("input",{type:"text",name:"title",value:o.title,onChange:u,required:!0,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"Enter task name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),a.jsx("textarea",{name:"description",value:o.description,onChange:u,rows:3,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors resize-none",placeholder:"Enter task description"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[a.jsx(js,{className:"h-4 w-4 inline mr-2"}),"Priority"]}),a.jsxs("select",{name:"priority",value:o.priority,onChange:u,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",children:[a.jsx("option",{value:"low",children:"Low"}),a.jsx("option",{value:"medium",children:"Medium"}),a.jsx("option",{value:"high",children:"High"}),a.jsx("option",{value:"critical",children:"Critical"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),a.jsxs("select",{name:"status",value:o.status,onChange:u,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",children:[a.jsx("option",{value:"not-started",children:"Not Started"}),a.jsx("option",{value:"in-progress",children:"In Progress"}),a.jsx("option",{value:"completed",children:"Completed"}),a.jsx("option",{value:"on-hold",children:"On Hold"})]})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[a.jsx(Ca,{className:"h-4 w-4 inline mr-2"}),"Due Date *"]}),a.jsx("input",{type:"date",name:"dueDate",value:o.dueDate,onChange:u,required:!0,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[a.jsx(gn,{className:"h-4 w-4 inline mr-2"}),"Assignee (optional)"]}),a.jsxs("select",{value:o.assignee?.id||"",onChange:g=>{const p=g.target.value;if(!p)c(y=>({...y,assignee:void 0}));else{const y=i.find(j=>j.id===p);y&&c(j=>({...j,assignee:{id:y.id,name:y.name,email:y.email,role:y.role,department:y.department}}))}},className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",children:[a.jsx("option",{value:"",children:"Unassigned"}),i.map(g=>a.jsx("option",{value:g.id,children:g.name},g.id))]}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Choose a project member or leave unassigned."})]}),a.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(js,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"}),a.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Priority:"}),a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${f(o.priority)}`,children:o.priority.charAt(0).toUpperCase()+o.priority.slice(1)})]})}),a.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:[a.jsx("button",{type:"button",onClick:t,className:"px-6 py-3 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-xl hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors font-medium",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors font-medium",children:"Save Changes"})]})]})]})}):null},Hm=e=>{if(!e||e.length===0)return 0;let t=0,r=0;return e.forEach(n=>{n.tasks&&n.tasks.length>0&&(t+=n.tasks.length,r+=n.tasks.filter(i=>i.status==="completed").length)}),t===0?0:Math.round(r/t*100)},cx=e=>e.map(t=>({id:t.id,title:t.title,tasks:t.tasks.map(r=>({id:r.id,title:r.title,status:r.status}))})),KU=()=>{const{id:e}=yb(),[t,r]=x.useState("all"),[n,i]=x.useState("deadline"),[o,c]=x.useState(null),[u,m]=x.useState(null),[f,g]=x.useState(!1),[p,y]=x.useState(!1),[j,k]=x.useState(null),[b,C]=x.useState({title:"",description:"",startDate:"",endDate:""}),[S,N]=x.useState({title:"",description:"",priority:"medium",startDate:"",dueDate:"",assigneeIds:[]}),[A,E]=x.useState("list"),[T,P]=x.useState(!1),[O,U]=x.useState(!1),[X,ie]=x.useState(null),[W,G]=x.useState(null),H=_=>_?new Date(_).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}):"",Q=async()=>{if(!e)return;const ne=await fetch(`http://localhost:4000/projects/${e}`);if(!ne.ok)throw new Error(`HTTP ${ne.status}`);const Ce=await ne.json(),Le=(Ce.phases||[]).map(De=>({id:De.id,title:De.name,description:De.description||"",startDate:De.startDate?new Date(De.startDate).toISOString().split("T")[0]:"",endDate:De.endDate?new Date(De.endDate).toISOString().split("T")[0]:"",status:"active",projectId:Ce.id,assignees:[],tasks:(De.tasks||[]).map(et=>({id:et.id,title:et.title,description:et.description||"",status:(et.status||"NOT_STARTED").toString().toLowerCase().replace("_","-"),priority:"medium",dueDate:et.dueDate||"",assignee:{id:"",name:"",email:"",role:"",department:""},phaseId:De.id,createdAt:"",updatedAt:""}))})),q=(Ce.memberships||[]).map(De=>({id:De.user?.id||De.userId,name:De.user?.name||"Unknown",email:De.user?.email||"",role:(De.role||"member").toString().toLowerCase(),department:De.user?.department?.name||"",avatar:(De.user?.name||"U").split(" ").map(et=>et[0]).join("").slice(0,2).toUpperCase()})),le={id:Ce.id,title:Ce.title,description:Ce.description||"",startDate:Ce.startDate?new Date(Ce.startDate).toISOString():void 0,endDate:Ce.endDate?new Date(Ce.endDate).toISOString():void 0,status:(Ce.status||"PLANNING").toString().toLowerCase().replace("_","-"),progress:Ce.progress??0,team:q,phases:Le,priority:"medium",createdAt:Ce.createdAt,updatedAt:Ce.updatedAt};m(le)};x.useEffect(()=>{Q().catch(_=>console.error("Failed to load project",_))},[e]);const te=async()=>{if(e){if(!b.title.trim()){alert("Please enter a phase name");return}try{const ne=await fetch(`http://localhost:4000/projects/${e}/phases`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:b.title,description:b.description||void 0,startDate:b.startDate?new Date(b.startDate).toISOString():void 0,endDate:b.endDate?new Date(b.endDate).toISOString():void 0})});if(!ne.ok){const Ce=await ne.text();throw new Error(Ce||`Failed to add phase: ${ne.status}`)}await Q(),g(!1),C({title:"",description:"",startDate:"",endDate:""})}catch(_){console.error(_),alert(_.message||"Failed to add phase")}}};Hm([{id:"phase-1",title:"Research & Planning",tasks:[{id:"task-1",title:"User Research & Interviews",status:"completed"},{id:"task-2",title:"Competitive Analysis",status:"completed"},{id:"task-3",title:"Technical Architecture Planning",status:"completed"}]},{id:"phase-2",title:"Design & Prototyping",tasks:[{id:"task-4",title:"Wireframe Creation",status:"completed"},{id:"task-5",title:"Visual Design System",status:"completed"},{id:"task-6",title:"Interactive Prototypes",status:"in-progress"},{id:"task-7",title:"User Testing Sessions",status:"not-started"}]},{id:"phase-3",title:"Development",tasks:[{id:"task-8",title:"Frontend Development",status:"completed"},{id:"task-9",title:"Backend API Development",status:"not-started"},{id:"task-10",title:"Database Design & Implementation",status:"not-started"}]}]);const $=_=>{switch(_){case"not-started":return"NOT_STARTED";case"in-progress":return"IN_PROGRESS";case"completed":return"COMPLETED";case"on-hold":return"ON_HOLD";default:return}},V=(_,ne,Ce)=>{u&&(m(Le=>{if(!Le)return null;const q={...Le,phases:Le.phases.map(De=>De.id===_?{...De,tasks:De.tasks.map(et=>et.id===ne?{...et,status:Ce,updatedAt:new Date().toISOString()}:et)}:De)},le=Hm(cx(q.phases));return{...q,progress:le}}),(async()=>{try{const Le=$(Ce);if(!Le)return;(await fetch(`http://localhost:4000/tasks/${ne}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:Le})})).ok||await Q()}catch(Le){console.error("Failed to persist task status",Le)}})())},re=(_,ne)=>{if(!u)return;const Ce=u.phases.find(le=>le.id===_);if(!Ce)return;const Le=Ce.tasks.find(le=>le.id===ne);if(!Le)return;const q=Le.status==="completed"?"in-progress":"completed";V(_,ne,q)},K=()=>{g(!0),C({title:"",description:"",startDate:"",endDate:""})},J=_=>{k(_),y(!0),N({title:"",description:"",priority:"medium",startDate:"",dueDate:"",assigneeIds:[]})},I=async _=>{if(_.preventDefault(),!(!u||!j||!S.title.trim()))try{const ne="http://localhost:4000",Ce={title:S.title.trim(),description:S.description||"",startDate:S.startDate?new Date(S.startDate).toISOString():void 0,dueDate:S.dueDate?new Date(S.dueDate).toISOString():void 0,status:"NOT_STARTED",assigneeUserIds:S.assigneeIds||[]},Le=await fetch(`${ne}/projects/${e}/phases/${j}/tasks`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ce)});if(!Le.ok){const q=await Le.text();throw new Error(q||`Failed to create task: ${Le.status}`)}await Q(),y(!1),k(null),N({title:"",description:"",priority:"medium",startDate:"",dueDate:"",assigneeIds:[]})}catch(ne){console.error("Failed to create task",ne),alert(ne?.message||"Failed to create task")}},L=_=>{const Ce=u?.phases.find(Le=>Le.id===_.phaseId)?.tasks.find(Le=>Le.id===_.id.replace("task-",""));Ce&&(G(Ce),U(!0))},me=_=>{const ne=u?.phases.find(Ce=>Ce.id===_.id);ne&&(ie(ne),P(!0))},Z=_=>{G(_),U(!0)},ye=_=>{ie(_),P(!0)},Me=_=>{m(ne=>{if(!ne)return null;const Ce={...ne,phases:ne.phases.map(q=>({...q,tasks:q.tasks.map(le=>le.id===_.id?{...le,..._}:le)}))},Le=Hm(cx(Ce.phases));return{...Ce,progress:Le}})},ve=async _=>{try{if(!e||!_?.id)return;const ne="http://localhost:4000",Ce={name:_.title,description:_.description??null,startDate:_.startDate?new Date(_.startDate).toISOString():null,endDate:_.endDate?new Date(_.endDate).toISOString():null},Le=await fetch(`${ne}/projects/${e}/phases/${_.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ce)});if(!Le.ok)throw new Error(await Le.text());await Q(),P(!1),ie(null)}catch(ne){console.error("Failed to save phase",ne),m(Ce=>{if(!Ce)return Ce;const Le={...Ce,phases:Ce.phases.map(le=>le.id===_.id?{...le,..._}:le)},q=Hm(cx(Le.phases));return{...Le,progress:q}})}},_e=_=>{switch(_){case"completed":return"badge-success";case"in-progress":return"badge-info";case"on-hold":return"badge-warning";case"not-started":return"badge-info";case"planning":return"badge-info";case"active":return"badge-success";default:return"badge-info"}},we=_=>{switch(_){case"critical":return"badge-danger";case"high":return"badge-warning";case"medium":return"badge-warning";case"low":return"badge-success";default:return"badge-info"}},F=_=>{switch(_){case"completed":return a.jsx(la,{className:"h-4 w-4"});case"in-progress":return a.jsx(kb,{className:"h-4 w-4"});case"on-hold":return a.jsx(JD,{className:"h-4 w-4"});case"not-started":return a.jsx(Sr,{className:"h-4 w-4"});default:return a.jsx(Sr,{className:"h-4 w-4"})}},ue=_=>{const ne=_.tasks.length||0;if(ne===0)return 0;const Ce=_.tasks.filter(Le=>Le.status==="completed").length;return Math.round(Ce/ne*100)},R=_=>{if(!_)return 0;const ne=new Date(_),Le=new Date().getTime()-ne.getTime(),q=Math.ceil(Le/(1e3*60*60*24));return Math.max(0,q)},be=_=>{const ne=_.startDate,Ce=_.endDate;return ne&&Ce?`${H(ne)} - ${H(Ce)}`:ne?`Start: ${H(ne)}`:Ce?`Due: ${H(Ce)}`:"No dates"},Ee=_=>{const ne=new Date;return _.tasks.filter(Ce=>new Date(Ce.dueDate)<ne&&Ce.status!=="completed").length},Ve=_=>{let ne=_.tasks;if(t!=="all"&&(ne=ne.filter(Ce=>Ce.status===t)),n==="deadline")ne=ne.sort((Ce,Le)=>new Date(Ce.dueDate).getTime()-new Date(Le.dueDate).getTime());else if(n==="priority"){const Ce={critical:4,high:3,medium:2,low:1};ne=ne.sort((Le,q)=>Ce[q.priority]-Ce[Le.priority])}return ne};if(!u)return a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})})});const qe=u.phases.flatMap(_=>_.tasks),dt=qe.length,Ut=qe.filter(_=>_.status==="completed").length;return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[a.jsxs(da,{to:"/projects",className:"inline-flex items-center text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors duration-200",children:[a.jsx(Vb,{className:"h-4 w-4 mr-2"}),"Back to Projects"]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("div",{className:"flex items-center bg-gray-100 dark:bg-gray-700 rounded-xl p-1",children:[a.jsxs("button",{onClick:()=>E("list"),className:`flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${A==="list"?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[a.jsx(u9,{className:"h-4 w-4"}),a.jsx("span",{children:"List View"})]}),a.jsxs("button",{onClick:()=>E("gantt"),className:`flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${A==="gantt"?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[a.jsx(Nb,{className:"h-4 w-4"}),a.jsx("span",{children:"Gantt View"})]})]})})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 p-8 mb-8",children:[a.jsx("div",{className:"flex items-start justify-between mb-6",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:u.title}),a.jsx("span",{className:`badge ${_e(u.status)}`,children:u.status.charAt(0).toUpperCase()+u.status.slice(1)}),a.jsxs("span",{className:`badge ${we(u.priority)}`,children:[u.priority.charAt(0).toUpperCase()+u.priority.slice(1)," Priority"]})]}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg mb-6",children:u.description}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded-lg",children:a.jsx(wd,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Duration"}),a.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:(()=>{const _=u.startDate,ne=u.endDate;return _&&ne?`${H(_)} - ${H(ne)}`:_?`Start: ${H(_)}`:ne?`Due: ${H(ne)}`:"No due date"})()})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/20 rounded-lg",children:a.jsx(Jy,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Progress"}),a.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:[u.progress,"%"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/20 rounded-lg",children:a.jsx(So,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Team Members"}),a.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:u.team.length})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/20 rounded-lg",children:a.jsx(Ed,{className:"h-5 w-5 text-orange-600 dark:text-orange-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Tasks Completed"}),a.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:[Ut,"/",dt]})]})]})]})]})}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Overall Progress"}),a.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[u.progress,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3",children:a.jsx("div",{className:"bg-primary-600 h-3 rounded-full transition-all duration-300",style:{width:`${u.progress}%`}})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Team Members"}),a.jsx("div",{className:"flex flex-wrap gap-3",children:u.team.map(_=>a.jsxs("div",{className:"flex items-center space-x-3 bg-gray-50 dark:bg-gray-700 rounded-xl p-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-semibold text-sm",children:_.avatar}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:_.name}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:_.role})]})]},_.id))})]})]}),A==="gantt"&&a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Project Timeline"}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Click on phases or tasks to edit them"})]}),a.jsx(WU,{phases:u.phases.map(_=>({id:_.id,name:_.title,startDate:_.startDate,endDate:_.endDate,tasks:_.tasks.map(ne=>({id:ne.id,name:ne.title,start:ne.dueDate?new Date(new Date(ne.dueDate).getTime()-10080*60*1e3).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],end:ne.dueDate||new Date().toISOString().split("T")[0],progress:ne.status==="completed"?100:ne.status==="in-progress"?50:0,phaseId:_.id,assignees:ne.assignees&&ne.assignees.length>0?ne.assignees.map(Ce=>Ce.name):ne.assignee?[ne.assignee.name]:[],status:ne.status,description:ne.description}))})),onTaskClick:L,onPhaseClick:me,onTaskEdit:Z,onPhaseEdit:ye})]}),A==="list"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Project Phases"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[u.status!=="completed"&&a.jsxs("button",{onClick:()=>{confirm("Are you sure you want to mark this project as completed? This will move it to the completed projects list.")&&console.log("Mark project as completed")},className:"btn-secondary inline-flex items-center",children:[a.jsx(la,{className:"h-4 w-4 mr-2"}),"Mark as Completed"]}),a.jsxs("button",{onClick:K,className:"btn-primary inline-flex items-center",children:[a.jsx($d,{className:"h-4 w-4 mr-2"}),"Add Phase"]})]})]}),u.phases.map(_=>{const ne=ue(_),Ce=R(_.startDate),Le=Ee(_),q=o===_.id;return a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:[a.jsxs("div",{className:"p-6 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200",onClick:()=>c(q?null:_.id),children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:_.title}),a.jsxs("span",{className:`badge ${_e(_.status)}`,children:[F(_.status),a.jsx("span",{className:"ml-1",children:_.status.charAt(0).toUpperCase()+_.status.slice(1)})]}),a.jsx("button",{onClick:le=>{le.preventDefault(),le.stopPropagation(),ye(_)},className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors duration-200",title:"Edit Phase",children:a.jsx(hS,{className:"h-4 w-4"})})]}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:_.description}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(wd,{className:"h-4 w-4 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Duration"}),a.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:be(_)})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Jy,{className:"h-4 w-4 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Progress"}),a.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[ne,"%"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Sr,{className:"h-4 w-4 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Days Active"}),a.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:Ce})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(js,{className:"h-4 w-4 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Overdue Tasks"}),a.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:Le})]})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Tasks"}),a.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:[_.tasks.filter(le=>le.status==="completed").length,"/",_.tasks.length]})]}),a.jsx(B3,{className:`h-5 w-5 text-gray-400 transition-transform duration-200 ${q?"rotate-180":""}`})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Phase Progress"}),a.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[ne,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:a.jsx("div",{className:"bg-primary-600 h-2 rounded-full transition-all duration-300",style:{width:`${ne}%`}})})]})]}),q&&a.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ZD,{className:"h-4 w-4 text-gray-400"}),a.jsxs("select",{value:t,onChange:le=>r(le.target.value),className:"text-sm border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-1 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Tasks"}),a.jsx("option",{value:"not-started",children:"Not Started"}),a.jsx("option",{value:"in-progress",children:"In Progress"}),a.jsx("option",{value:"completed",children:"Completed"}),a.jsx("option",{value:"on-hold",children:"On Hold"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(KD,{className:"h-4 w-4 text-gray-400"}),a.jsxs("select",{value:n,onChange:le=>i(le.target.value),className:"text-sm border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-1 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"deadline",children:"Sort by Deadline"}),a.jsx("option",{value:"priority",children:"Sort by Priority"})]})]})]}),a.jsxs("button",{onClick:()=>J(_.id),className:"btn-primary inline-flex items-center text-sm",children:[a.jsx($d,{className:"h-4 w-4 mr-2"}),"Add Task"]})]}),a.jsx("div",{className:"space-y-3",children:Ve(_).map(le=>a.jsx(da,{to:`/projects/${e}/tasks/${le.id}`,state:{task:{id:le.id,title:le.title,description:le.description,status:le.status,priority:le.priority,dueDate:le.dueDate,projectId:e,assignees:le.assignees&&le.assignees.length>0?le.assignees.map(De=>De.name):le.assignee?[le.assignee.name]:[],isDone:le.status==="completed",createdAt:le.createdAt,updatedAt:le.updatedAt,progress:le.status==="completed"?100:le.status==="in-progress"?65:0,phaseId:_.id},projectName:u?.title||"Project",phaseName:_.title},className:"block bg-gray-50 dark:bg-gray-700 rounded-xl p-4 hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors duration-200 cursor-pointer",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:le.title}),a.jsxs("span",{className:`badge ${_e(le.status)}`,children:[F(le.status),a.jsx("span",{className:"ml-1",children:le.status.charAt(0).toUpperCase()+le.status.slice(1).replace("-"," ")})]}),a.jsx("span",{className:`badge ${we(le.priority)}`,children:le.priority.charAt(0).toUpperCase()+le.priority.slice(1)})]}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:le.description}),a.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500 dark:text-gray-400",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(So,{className:"h-3 w-3"}),a.jsx("span",{children:le.assignees&&le.assignees.length>0?le.assignees.map(De=>De.name).join(", "):le.assignee?.name||"Unassigned"})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(wd,{className:"h-3 w-3"}),a.jsxs("span",{children:["Due ",new Date(le.dueDate).toLocaleDateString()]})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",onClick:De=>De.preventDefault(),children:[a.jsxs("select",{value:le.status,onChange:De=>{De.stopPropagation(),V(_.id,le.id,De.target.value)},className:"text-sm border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-1 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"not-started",children:"Not Started"}),a.jsx("option",{value:"in-progress",children:"In Progress"}),a.jsx("option",{value:"completed",children:"Completed"}),a.jsx("option",{value:"on-hold",children:"On Hold"})]}),a.jsx("button",{onClick:De=>{De.preventDefault(),De.stopPropagation(),re(_.id,le.id)},className:`p-2 rounded-lg transition-colors duration-200 ${le.status==="completed"?"text-green-600 bg-green-100 dark:bg-green-900/20 hover:bg-green-200 dark:hover:bg-green-900/30":"text-gray-600 hover:bg-gray-100 dark:hover:bg-gray-600 hover:text-primary-600"}`,title:le.status==="completed"?"Mark as In Progress":"Mark as Completed",children:a.jsx(la,{className:"h-4 w-4"})}),a.jsx("button",{onClick:De=>{De.preventDefault(),De.stopPropagation(),Z(le)},className:"p-2 text-gray-600 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-lg transition-colors duration-200",title:"Edit Task",children:a.jsx(hS,{className:"h-4 w-4"})})]})]})},le.id))})]})]},_.id)})]}),f&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 w-full max-w-md mx-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Add New Phase"}),a.jsx("button",{onClick:()=>g(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors duration-200",children:a.jsx(rr,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"})})]}),a.jsxs("form",{onSubmit:_=>{_.preventDefault(),te()},className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phase Title *"}),a.jsx("input",{type:"text",value:b.title,onChange:_=>C({...b,title:_.target.value}),className:"input-field",placeholder:"Enter phase title",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),a.jsx("textarea",{value:b.description,onChange:_=>C({...b,description:_.target.value}),className:"input-field",rows:3,placeholder:"Enter phase description"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Start Date"}),a.jsx("input",{type:"date",value:b.startDate,onChange:_=>C({...b,startDate:_.target.value}),className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"End Date"}),a.jsx("input",{type:"date",value:b.endDate,onChange:_=>C({...b,endDate:_.target.value}),className:"input-field"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>g(!1),className:"btn-secondary",children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn-primary",children:"Add Phase"})]})]})]})}),p&&j&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 w-full max-w-md mx-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Add New Task"}),a.jsx("button",{onClick:()=>y(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors duration-200",children:a.jsx(rr,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"})})]}),a.jsxs("form",{onSubmit:I,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Task Title *"}),a.jsx("input",{type:"text",value:S.title,onChange:_=>N({...S,title:_.target.value}),className:"input-field",placeholder:"Enter task title",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),a.jsx("textarea",{value:S.description,onChange:_=>N({...S,description:_.target.value}),className:"input-field",rows:3,placeholder:"Enter task description"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Start Date"}),a.jsx("input",{type:"date",value:S.startDate,onChange:_=>N({...S,startDate:_.target.value}),className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Due Date"}),a.jsx("input",{type:"date",value:S.dueDate,onChange:_=>N({...S,dueDate:_.target.value}),className:"input-field"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Priority"}),a.jsxs("select",{value:S.priority,onChange:_=>N({...S,priority:_.target.value}),className:"input-field",children:[a.jsx("option",{value:"low",children:"Low"}),a.jsx("option",{value:"medium",children:"Medium"}),a.jsx("option",{value:"high",children:"High"}),a.jsx("option",{value:"critical",children:"Critical"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Assign to (optional)"}),a.jsxs("select",{value:S.assigneeIds[0]||"",onChange:_=>{const ne=_.currentTarget.value;N({...S,assigneeIds:ne?[ne]:[]})},className:"input-field",children:[a.jsx("option",{value:"",children:"Unassigned"}),u?.team.map(_=>a.jsx("option",{value:_.id,children:_.name},_.id))]}),a.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Choose one member or leave as Unassigned."})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>y(!1),className:"btn-secondary",children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn-primary",children:"Add Task"})]})]})]})}),a.jsx(VU,{isOpen:T,onClose:()=>{P(!1),ie(null)},phase:X,onSave:ve}),a.jsx(YU,{isOpen:O,onClose:()=>{U(!1),G(null)},task:W,onSave:Me})]})},GU=()=>{const[e,t]=x.useState(""),[r,n]=x.useState(""),[i,o]=x.useState(""),[c,u]=x.useState(!1),m=[{id:"1",name:"Mobile App Redesign",description:"",owner:"",status:"in-progress",progress:0,startDate:"",dueDate:"",team:[],tags:[],priority:"high",phases:[],tasks:[],members:[],allocatedHours:200,loggedHours:45.5,remainingHours:154.5},{id:"2",name:"Backend API Development",description:"",owner:"",status:"in-progress",progress:0,startDate:"",dueDate:"",team:[],tags:[],priority:"medium",phases:[],tasks:[],members:[],allocatedHours:150,loggedHours:30,remainingHours:120},{id:"3",name:"Design System",description:"",owner:"",status:"in-review",progress:0,startDate:"",dueDate:"",team:[],tags:[],priority:"high",phases:[],tasks:[],members:[],allocatedHours:120,loggedHours:85,remainingHours:35}],f=[{id:"1",title:"User Research Analysis",description:"Analyze user research data and create personas",status:"done",priority:"high",dueDate:"2024-01-10",projectId:"1",assignees:["Sarah Johnson"],isDone:!0,createdAt:"2024-01-01",updatedAt:"2024-01-10",progress:100},{id:"2",title:"Wireframe Creation",description:"Create low-fidelity wireframes for all screens",status:"in-progress",priority:"high",dueDate:"2024-01-25",projectId:"1",assignees:["Alex Rodriguez"],isDone:!1,createdAt:"2024-01-16",updatedAt:"2024-01-20",progress:65},{id:"3",title:"API Integration",description:"Integrate with backend APIs",status:"planning",priority:"medium",dueDate:"2024-02-10",projectId:"2",assignees:["Mike Chen"],isDone:!1,createdAt:"2024-01-20",updatedAt:"2024-01-20",progress:0},{id:"4",title:"Component Library Setup",description:"Set up the component library structure",status:"in-progress",priority:"high",dueDate:"2024-01-30",projectId:"3",assignees:["Alex Rodriguez","Sarah Johnson"],isDone:!1,createdAt:"2024-01-15",updatedAt:"2024-01-22",progress:40},{id:"5",title:"Database Schema Design",description:"Design the database schema for the new system",status:"blocked",priority:"critical",dueDate:"2024-01-28",projectId:"2",assignees:["Mike Chen","David Kim"],isDone:!1,createdAt:"2024-01-18",updatedAt:"2024-01-25",progress:20}],g=async N=>{if(N.preventDefault(),!(!e.trim()||!r)){u(!0);try{await new Promise(A=>setTimeout(A,1e3)),console.log("Adding task:",{title:e,project:r,dueDate:i}),t(""),n(""),o("")}catch(A){console.error("Failed to add task:",A)}finally{u(!1)}}},p=async N=>{try{await new Promise(A=>setTimeout(A,500)),console.log("Toggling task:",N)}catch(A){console.error("Failed to toggle task:",A)}},y=async N=>{if(window.confirm("Are you sure you want to delete this task?"))try{await new Promise(A=>setTimeout(A,500)),console.log("Deleting task:",N)}catch(A){console.error("Failed to delete task:",A)}},j=N=>m.find(E=>E.id===N)?.name||"Unknown Project",k=N=>{switch(N){case"done":return"badge-success";case"in-progress":return"badge-info";case"planning":return"badge-warning";case"blocked":return"badge-danger";default:return"badge-info"}},b=N=>{switch(N){case"critical":return"text-red-600 dark:text-red-400";case"high":return"text-orange-600 dark:text-orange-400";case"medium":return"text-yellow-600 dark:text-yellow-400";case"low":return"text-green-600 dark:text-green-400";default:return"text-gray-600 dark:text-gray-400"}},C=N=>{const A=new Date;return new Date(N)<A},S=N=>{const A=new Date,T=new Date(N).getTime()-A.getTime(),P=Math.ceil(T/(1e3*60*60*24));return P<=3&&P>=0};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Global Tasks"}),a.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Manage all tasks across projects in one place"})]}),a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Quick Add Task"}),a.jsx("form",{onSubmit:g,className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx("input",{type:"text",placeholder:"Task title",value:e,onChange:N=>t(N.target.value),className:"input-field",required:!0}),a.jsxs("select",{value:r,onChange:N=>n(N.target.value),className:"input-field",required:!0,children:[a.jsx("option",{value:"",children:"Select Project"}),m.map(N=>a.jsx("option",{value:N.id,children:N.name},N.id))]}),a.jsx("input",{type:"date",value:i,onChange:N=>o(N.target.value),className:"input-field"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{type:"submit",disabled:c,className:"btn-primary flex-1",children:c?"Adding...":"Add Task"}),a.jsx("button",{type:"button",onClick:()=>window.location.reload(),className:"btn-secondary",title:"Refresh tasks",children:a.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]})]})})]}),a.jsx("div",{className:"card",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Done"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Title"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Project"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Priority"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Due Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Assignees"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700",children:f.length===0?a.jsx("tr",{children:a.jsxs("td",{colSpan:8,className:"px-6 py-12 text-center",children:[a.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No tasks yet"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Add your first task using the form above."})]})}):f.map(N=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("input",{type:"checkbox",checked:N.isDone,onChange:()=>p(N.id),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{children:[a.jsx(da,{to:`/projects/${N.projectId}/tasks/${N.id}`,className:"text-sm font-medium text-gray-900 dark:text-white hover:text-primary-600 dark:hover:text-primary-400",children:N.title}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:N.description})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx(da,{to:`/projects/${N.projectId}`,className:"text-sm text-primary-600 dark:text-primary-400 hover:text-primary-800 dark:hover:text-primary-200",children:j(N.projectId)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`text-sm font-medium ${b(N.priority)}`,children:N.priority.toUpperCase()})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("span",{className:`text-sm ${C(N.dueDate)?"text-red-600 dark:text-red-400":S(N.dueDate)?"text-orange-600 dark:text-orange-400":"text-gray-900 dark:text-white"}`,children:[new Date(N.dueDate).toLocaleDateString(),C(N.dueDate)&&" (Overdue)",S(N.dueDate)&&!C(N.dueDate)&&" (Due Soon)"]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`badge ${k(N.status)}`,children:N.status.replace("-"," ").toUpperCase()})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex -space-x-2",children:[N.assignees.slice(0,3).map((A,E)=>a.jsx("div",{className:"h-8 w-8 rounded-full bg-primary-600 flex items-center justify-center text-xs text-white border-2 border-white dark:border-gray-800",children:A.split(" ").map(T=>T[0]).join("")},E)),N.assignees.length>3&&a.jsxs("div",{className:"h-8 w-8 rounded-full bg-gray-300 dark:bg-gray-600 flex items-center justify-center text-xs text-gray-600 dark:text-gray-300 border-2 border-white dark:border-gray-800",children:["+",N.assignees.length-3]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsx("button",{onClick:()=>y(N.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-200",children:a.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})})]},N.id))})]})})})]})},XU="modulepreload",ZU=function(e){return"/"+e},vS={},bS=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){let f=function(g){return Promise.all(g.map(p=>Promise.resolve(p).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};var c=f;document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),m=u?.nonce||u?.getAttribute("nonce");i=f(r.map(g=>{if(g=ZU(g),g in vS)return;vS[g]=!0;const p=g.endsWith(".css"),y=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${y}`))return;const j=document.createElement("link");if(j.rel=p?"stylesheet":XU,p||(j.as="script"),j.crossOrigin="",j.href=g,m&&j.setAttribute("nonce",m),document.head.appendChild(j),p)return new Promise((k,b)=>{j.addEventListener("load",k),j.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${g}`)))})}))}function o(u){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=u,window.dispatchEvent(m),!m.defaultPrevented)throw u}return i.then(u=>{for(const m of u||[])m.status==="rejected"&&o(m.reason);return t().catch(o)})};var dx={},ux={},jS;function JU(){return jS||(jS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(ux)),ux}var mx={},wS;function F3(){return wS||(wS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(mx)),mx}var fx={},NS;function Kb(){return NS||(NS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(fx)),fx}var hx={},gx={},kS;function QU(){return kS||(kS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(gx)),gx}var SS;function Gb(){return SS||(SS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QU(),r=Kb();function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const o=[],c=i.length;if(c===0)return o;let u=0,m="",f="",g=!1;for(i.charCodeAt(0)===46&&(o.push(""),u++);u<c;){const p=i[u];f?p==="\\"&&u+1<c?(u++,m+=i[u]):p===f?f="":m+=p:g?p==='"'||p==="'"?f=p:p==="]"?(g=!1,o.push(m),m=""):m+=p:p==="["?(g=!0,m&&(o.push(m),m="")):p==="."?m&&(o.push(m),m=""):m+=p,u++}return m&&o.push(m),o}e.toPath=n})(hx)),hx}var CS;function Xb(){return CS||(CS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JU(),r=F3(),n=Kb(),i=Gb();function o(u,m,f){if(u==null)return f;switch(typeof m){case"string":{if(t.isUnsafeProperty(m))return f;const g=u[m];return g===void 0?r.isDeepKey(m)?o(u,i.toPath(m),f):f:g}case"number":case"symbol":{typeof m=="number"&&(m=n.toKey(m));const g=u[m];return g===void 0?f:g}default:{if(Array.isArray(m))return c(u,m,f);if(Object.is(m?.valueOf(),-0)?m="-0":m=String(m),t.isUnsafeProperty(m))return f;const g=u[m];return g===void 0?f:g}}}function c(u,m,f){if(m.length===0)return f;let g=u;for(let p=0;p<m.length;p++){if(g==null||t.isUnsafeProperty(m[p]))return f;g=g[m[p]]}return g===void 0?f:g}e.get=o})(dx)),dx}var px,AS;function eB(){return AS||(AS=1,px=Xb().get),px}var tB=eB();const Po=vn(tB);var xx={exports:{}},_t={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DS;function rB(){if(DS)return _t;DS=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),j=Symbol.for("react.client.reference");function k(b){if(typeof b=="object"&&b!==null){var C=b.$$typeof;switch(C){case e:switch(b=b.type,b){case r:case i:case n:case m:case f:case y:return b;default:switch(b=b&&b.$$typeof,b){case c:case u:case p:case g:return b;case o:return b;default:return C}}case t:return C}}}return _t.ContextConsumer=o,_t.ContextProvider=c,_t.Element=e,_t.ForwardRef=u,_t.Fragment=r,_t.Lazy=p,_t.Memo=g,_t.Portal=t,_t.Profiler=i,_t.StrictMode=n,_t.Suspense=m,_t.SuspenseList=f,_t.isContextConsumer=function(b){return k(b)===o},_t.isContextProvider=function(b){return k(b)===c},_t.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===e},_t.isForwardRef=function(b){return k(b)===u},_t.isFragment=function(b){return k(b)===r},_t.isLazy=function(b){return k(b)===p},_t.isMemo=function(b){return k(b)===g},_t.isPortal=function(b){return k(b)===t},_t.isProfiler=function(b){return k(b)===i},_t.isStrictMode=function(b){return k(b)===n},_t.isSuspense=function(b){return k(b)===m},_t.isSuspenseList=function(b){return k(b)===f},_t.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===r||b===i||b===n||b===m||b===f||typeof b=="object"&&b!==null&&(b.$$typeof===p||b.$$typeof===g||b.$$typeof===c||b.$$typeof===o||b.$$typeof===u||b.$$typeof===j||b.getModuleId!==void 0)},_t.typeOf=k,_t}var TS;function aB(){return TS||(TS=1,xx.exports=rB()),xx.exports}var nB=aB(),oa=e=>e===0?0:e>0?1:-1,Ta=e=>typeof e=="number"&&e!=+e,sl=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Ze=e=>(typeof e=="number"||e instanceof Number)&&!Ta(e),Hn=e=>Ze(e)||typeof e=="string",sB=0,zd=e=>{var t=++sB;return"".concat(e||"").concat(t)},yn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ze(t)&&typeof t!="string")return n;var o;if(sl(t)){if(r==null)return n;var c=t.indexOf("%");o=r*parseFloat(t.slice(0,c))/100}else o=+t;return Ta(o)&&(o=n),i&&r!=null&&o>r&&(o=r),o},q3=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function Yr(e,t,r){return Ze(e)&&Ze(t)?e+r*(t-e):t}function iB(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Po(n,t))===r)}var Cr=e=>e===null||typeof e>"u",nu=e=>Cr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),lB=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Zb(e){if(typeof e!="string")return!1;var t=lB;return t.includes(e)}var oB=["viewBox","children"],ES=["points","pathLength"],yx={svg:oB,polygon:ES,polyline:ES},cB=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(x.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{Zb(i)&&(n[i]=(o=>r[i](r,o)))}),n},dB=(e,t,r)=>n=>(e(t,r,n),null),q0=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var o=e[i];Zb(i)&&typeof o=="function"&&(n||(n={}),n[i]=dB(o,t,r))}),n},uB=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function W3(e){if(typeof e!="string")return!1;var t=uB;return t.includes(e)}function sc(e){var t=Object.entries(e).filter(r=>{var[n]=r;return W3(n)});return Object.fromEntries(t)}var OS=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",MS=null,vx=null,V3=e=>{if(e===MS&&Array.isArray(vx))return vx;var t=[];return x.Children.forEach(e,r=>{Cr(r)||(nB.isFragment(r)?t=t.concat(V3(r.props.children)):t.push(r))}),vx=t,MS=e,t};function mB(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>OS(i)):n=[OS(t)],V3(e).forEach(i=>{var o=Po(i,"type.displayName")||Po(i,"type.name");n.indexOf(o)!==-1&&r.push(i)}),r}var fB=(e,t,r,n)=>{var i;if(typeof t=="symbol"||typeof t=="number")return!0;var o=(i=n&&yx?.[n])!==null&&i!==void 0?i:[],c=t.startsWith("data-"),u=typeof e!="function"&&(!!n&&o.includes(t)||W3(t)),m=!!r&&Zb(t);return c||u||m},zr=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(x.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(o=>{var c;fB((c=n)===null||c===void 0?void 0:c[o],o,t,r)&&(i[o]=n[o])}),i},hB=["children","width","height","viewBox","className","style","title","desc"];function hv(){return hv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hv.apply(null,arguments)}function gB(e,t){if(e==null)return{};var r,n,i=pB(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function pB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Jb=x.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:o,className:c,style:u,title:m,desc:f}=e,g=gB(e,hB),p=o||{width:n,height:i,x:0,y:0},y=It("recharts-surface",c);return x.createElement("svg",hv({},zr(g,!0,"svg"),{className:y,width:n,height:i,style:u,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:t}),x.createElement("title",null,m),x.createElement("desc",null,f),r)}),xB=["children","className"];function gv(){return gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gv.apply(null,arguments)}function yB(e,t){if(e==null)return{};var r,n,i=vB(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function vB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ni=x.forwardRef((e,t)=>{var{children:r,className:n}=e,i=yB(e,xB),o=It("recharts-layer",n);return x.createElement("g",gv({className:o},zr(i,!0),{ref:t}),r)}),Y3=x.createContext(null),bB=()=>x.useContext(Y3);function zt(e){return function(){return e}}const K3=Math.cos,Tf=Math.sin,Nn=Math.sqrt,Ef=Math.PI,W0=2*Ef,pv=Math.PI,xv=2*pv,Ji=1e-6,jB=xv-Ji;function G3(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function wB(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return G3;const r=10**t;return function(n){this._+=n[0];for(let i=1,o=n.length;i<o;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class NB{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?G3:wB(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,o,c){this._append`C${+t},${+r},${+n},${+i},${this._x1=+o},${this._y1=+c}`}arcTo(t,r,n,i,o){if(t=+t,r=+r,n=+n,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let c=this._x1,u=this._y1,m=n-t,f=i-r,g=c-t,p=u-r,y=g*g+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(y>Ji)if(!(Math.abs(p*m-f*g)>Ji)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let j=n-c,k=i-u,b=m*m+f*f,C=j*j+k*k,S=Math.sqrt(b),N=Math.sqrt(y),A=o*Math.tan((pv-Math.acos((b+y-C)/(2*S*N)))/2),E=A/N,T=A/S;Math.abs(E-1)>Ji&&this._append`L${t+E*g},${r+E*p}`,this._append`A${o},${o},0,0,${+(p*j>g*k)},${this._x1=t+T*m},${this._y1=r+T*f}`}}arc(t,r,n,i,o,c){if(t=+t,r=+r,n=+n,c=!!c,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(i),m=n*Math.sin(i),f=t+u,g=r+m,p=1^c,y=c?i-o:o-i;this._x1===null?this._append`M${f},${g}`:(Math.abs(this._x1-f)>Ji||Math.abs(this._y1-g)>Ji)&&this._append`L${f},${g}`,n&&(y<0&&(y=y%xv+xv),y>jB?this._append`A${n},${n},0,1,${p},${t-u},${r-m}A${n},${n},0,1,${p},${this._x1=f},${this._y1=g}`:y>Ji&&this._append`A${n},${n},0,${+(y>=pv)},${p},${this._x1=t+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Qb(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new NB(t)}function ej(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function X3(e){this._context=e}X3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function V0(e){return new X3(e)}function Z3(e){return e[0]}function J3(e){return e[1]}function Q3(e,t){var r=zt(!0),n=null,i=V0,o=null,c=Qb(u);e=typeof e=="function"?e:e===void 0?Z3:zt(e),t=typeof t=="function"?t:t===void 0?J3:zt(t);function u(m){var f,g=(m=ej(m)).length,p,y=!1,j;for(n==null&&(o=i(j=c())),f=0;f<=g;++f)!(f<g&&r(p=m[f],f,m))===y&&((y=!y)?o.lineStart():o.lineEnd()),y&&o.point(+e(p,f,m),+t(p,f,m));if(j)return o=null,j+""||null}return u.x=function(m){return arguments.length?(e=typeof m=="function"?m:zt(+m),u):e},u.y=function(m){return arguments.length?(t=typeof m=="function"?m:zt(+m),u):t},u.defined=function(m){return arguments.length?(r=typeof m=="function"?m:zt(!!m),u):r},u.curve=function(m){return arguments.length?(i=m,n!=null&&(o=i(n)),u):i},u.context=function(m){return arguments.length?(m==null?n=o=null:o=i(n=m),u):n},u}function Fm(e,t,r){var n=null,i=zt(!0),o=null,c=V0,u=null,m=Qb(f);e=typeof e=="function"?e:e===void 0?Z3:zt(+e),t=typeof t=="function"?t:zt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?J3:zt(+r);function f(p){var y,j,k,b=(p=ej(p)).length,C,S=!1,N,A=new Array(b),E=new Array(b);for(o==null&&(u=c(N=m())),y=0;y<=b;++y){if(!(y<b&&i(C=p[y],y,p))===S)if(S=!S)j=y,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),k=y-1;k>=j;--k)u.point(A[k],E[k]);u.lineEnd(),u.areaEnd()}S&&(A[y]=+e(C,y,p),E[y]=+t(C,y,p),u.point(n?+n(C,y,p):A[y],r?+r(C,y,p):E[y]))}if(N)return u=null,N+""||null}function g(){return Q3().defined(i).curve(c).context(o)}return f.x=function(p){return arguments.length?(e=typeof p=="function"?p:zt(+p),n=null,f):e},f.x0=function(p){return arguments.length?(e=typeof p=="function"?p:zt(+p),f):e},f.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:zt(+p),f):n},f.y=function(p){return arguments.length?(t=typeof p=="function"?p:zt(+p),r=null,f):t},f.y0=function(p){return arguments.length?(t=typeof p=="function"?p:zt(+p),f):t},f.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:zt(+p),f):r},f.lineX0=f.lineY0=function(){return g().x(e).y(t)},f.lineY1=function(){return g().x(e).y(r)},f.lineX1=function(){return g().x(n).y(t)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:zt(!!p),f):i},f.curve=function(p){return arguments.length?(c=p,o!=null&&(u=c(o)),f):c},f.context=function(p){return arguments.length?(p==null?o=u=null:u=c(o=p),f):o},f}class eE{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function kB(e){return new eE(e,!0)}function SB(e){return new eE(e,!1)}const tj={draw(e,t){const r=Nn(t/Ef);e.moveTo(r,0),e.arc(0,0,r,0,W0)}},CB={draw(e,t){const r=Nn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},tE=Nn(1/3),AB=tE*2,DB={draw(e,t){const r=Nn(t/AB),n=r*tE;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},TB={draw(e,t){const r=Nn(t),n=-r/2;e.rect(n,n,r,r)}},EB=.8908130915292852,rE=Tf(Ef/10)/Tf(7*Ef/10),OB=Tf(W0/10)*rE,MB=-K3(W0/10)*rE,PB={draw(e,t){const r=Nn(t*EB),n=OB*r,i=MB*r;e.moveTo(0,-r),e.lineTo(n,i);for(let o=1;o<5;++o){const c=W0*o/5,u=K3(c),m=Tf(c);e.lineTo(m*r,-u*r),e.lineTo(u*n-m*i,m*n+u*i)}e.closePath()}},bx=Nn(3),RB={draw(e,t){const r=-Nn(t/(bx*3));e.moveTo(0,r*2),e.lineTo(-bx*r,-r),e.lineTo(bx*r,-r),e.closePath()}},qa=-.5,Wa=Nn(3)/2,yv=1/Nn(12),_B=(yv/2+1)*3,IB={draw(e,t){const r=Nn(t/_B),n=r/2,i=r*yv,o=n,c=r*yv+r,u=-o,m=c;e.moveTo(n,i),e.lineTo(o,c),e.lineTo(u,m),e.lineTo(qa*n-Wa*i,Wa*n+qa*i),e.lineTo(qa*o-Wa*c,Wa*o+qa*c),e.lineTo(qa*u-Wa*m,Wa*u+qa*m),e.lineTo(qa*n+Wa*i,qa*i-Wa*n),e.lineTo(qa*o+Wa*c,qa*c-Wa*o),e.lineTo(qa*u+Wa*m,qa*m-Wa*u),e.closePath()}};function LB(e,t){let r=null,n=Qb(i);e=typeof e=="function"?e:zt(e||tj),t=typeof t=="function"?t:zt(t===void 0?64:+t);function i(){let o;if(r||(r=o=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),o)return r=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:zt(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:zt(+o),i):t},i.context=function(o){return arguments.length?(r=o??null,i):r},i}function Of(){}function Mf(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function aE(e){this._context=e}aE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Mf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Mf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function $B(e){return new aE(e)}function nE(e){this._context=e}nE.prototype={areaStart:Of,areaEnd:Of,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Mf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function zB(e){return new nE(e)}function sE(e){this._context=e}sE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Mf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function UB(e){return new sE(e)}function iE(e){this._context=e}iE.prototype={areaStart:Of,areaEnd:Of,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function BB(e){return new iE(e)}function PS(e){return e<0?-1:1}function RS(e,t,r){var n=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(n||i<0&&-0),c=(r-e._y1)/(i||n<0&&-0),u=(o*i+c*n)/(n+i);return(PS(o)+PS(c))*Math.min(Math.abs(o),Math.abs(c),.5*Math.abs(u))||0}function _S(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function jx(e,t,r){var n=e._x0,i=e._y0,o=e._x1,c=e._y1,u=(o-n)/3;e._context.bezierCurveTo(n+u,i+u*t,o-u,c-u*r,o,c)}function Pf(e){this._context=e}Pf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:jx(this,this._t0,_S(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,jx(this,_S(this,r=RS(this,e,t)),r);break;default:jx(this,this._t0,r=RS(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function lE(e){this._context=new oE(e)}(lE.prototype=Object.create(Pf.prototype)).point=function(e,t){Pf.prototype.point.call(this,t,e)};function oE(e){this._context=e}oE.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,o){this._context.bezierCurveTo(t,e,n,r,o,i)}};function HB(e){return new Pf(e)}function FB(e){return new lE(e)}function cE(e){this._context=e}cE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=IS(e),i=IS(t),o=0,c=1;c<r;++o,++c)this._context.bezierCurveTo(n[0][o],i[0][o],n[1][o],i[1][o],e[c],t[c]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function IS(e){var t,r=e.length-1,n,i=new Array(r),o=new Array(r),c=new Array(r);for(i[0]=0,o[0]=2,c[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,c[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,c[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,c[t]-=n*c[t-1];for(i[r-1]=c[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(c[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function qB(e){return new cE(e)}function Y0(e,t){this._context=e,this._t=t}Y0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function WB(e){return new Y0(e,.5)}function VB(e){return new Y0(e,0)}function YB(e){return new Y0(e,1)}function Ro(e,t){if((c=e.length)>1)for(var r=1,n,i,o=e[t[0]],c,u=o.length;r<c;++r)for(i=o,o=e[t[r]],n=0;n<u;++n)o[n][1]+=o[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function vv(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function KB(e,t){return e[t]}function GB(e){const t=[];return t.key=e,t}function XB(){var e=zt([]),t=vv,r=Ro,n=KB;function i(o){var c=Array.from(e.apply(this,arguments),GB),u,m=c.length,f=-1,g;for(const p of o)for(u=0,++f;u<m;++u)(c[u][f]=[0,+n(p,c[u].key,f,o)]).data=p;for(u=0,g=ej(t(c));u<m;++u)c[g[u]].index=u;return r(c,g),c}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:zt(Array.from(o)),i):e},i.value=function(o){return arguments.length?(n=typeof o=="function"?o:zt(+o),i):n},i.order=function(o){return arguments.length?(t=o==null?vv:typeof o=="function"?o:zt(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(r=o??Ro,i):r},i}function ZB(e,t){if((n=e.length)>0){for(var r,n,i=0,o=e[0].length,c;i<o;++i){for(c=r=0;r<n;++r)c+=e[r][i][1]||0;if(c)for(r=0;r<n;++r)e[r][i][1]/=c}Ro(e,t)}}function JB(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,o=n.length;r<o;++r){for(var c=0,u=0;c<i;++c)u+=e[c][r][1]||0;n[r][1]+=n[r][0]=-u/2}Ro(e,t)}}function QB(e,t){if(!(!((c=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,o,c;n<o;++n){for(var u=0,m=0,f=0;u<c;++u){for(var g=e[t[u]],p=g[n][1]||0,y=g[n-1][1]||0,j=(p-y)/2,k=0;k<u;++k){var b=e[t[k]],C=b[n][1]||0,S=b[n-1][1]||0;j+=C-S}m+=p,f+=j*p}i[n-1][1]+=i[n-1][0]=r,m&&(r-=f/m)}i[n-1][1]+=i[n-1][0]=r,Ro(e,t)}}var eH=["type","size","sizeType"];function bv(){return bv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bv.apply(null,arguments)}function LS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $S(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LS(Object(r),!0).forEach(function(n){tH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tH(e,t,r){return(t=rH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rH(e){var t=aH(e,"string");return typeof t=="symbol"?t:t+""}function aH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nH(e,t){if(e==null)return{};var r,n,i=sH(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function sH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var dE={symbolCircle:tj,symbolCross:CB,symbolDiamond:DB,symbolSquare:TB,symbolStar:PB,symbolTriangle:RB,symbolWye:IB},iH=Math.PI/180,lH=e=>{var t="symbol".concat(nu(e));return dE[t]||tj},oH=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*iH;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},cH=(e,t)=>{dE["symbol".concat(nu(e))]=t},rj=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=nH(e,eH),o=$S($S({},i),{},{type:t,size:r,sizeType:n}),c="circle";typeof t=="string"&&(c=t);var u=()=>{var y=lH(c),j=LB().type(y).size(oH(r,n,c));return j()},{className:m,cx:f,cy:g}=o,p=zr(o,!0);return f===+f&&g===+g&&r===+r?x.createElement("path",bv({},p,{className:It("recharts-symbols",m),transform:"translate(".concat(f,", ").concat(g,")"),d:u()})):null};rj.registerSymbol=cH;function jv(){return jv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jv.apply(null,arguments)}function zS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dH(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zS(Object(r),!0).forEach(function(n){aj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aj(e,t,r){return(t=uH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uH(e){var t=mH(e,"string");return typeof t=="symbol"?t:t+""}function mH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Va=32;class nj extends x.PureComponent{renderIcon(t,r){var{inactiveColor:n}=this.props,i=Va/2,o=Va/6,c=Va/3,u=t.inactive?n:t.color,m=r??t.type;if(m==="none")return null;if(m==="plainline")return x.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:i,x2:Va,y2:i,className:"recharts-legend-icon"});if(m==="line")return x.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(c,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*c,",").concat(i,`
            H`).concat(Va,"M").concat(2*c,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(c,",").concat(i),className:"recharts-legend-icon"});if(m==="rect")return x.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(Va/8,"h").concat(Va,"v").concat(Va*3/4,"h").concat(-Va,"z"),className:"recharts-legend-icon"});if(x.isValidElement(t.legendIcon)){var f=dH({},t);return delete f.legendIcon,x.cloneElement(t.legendIcon,f)}return x.createElement(rj,{fill:u,cx:i,cy:i,size:Va,sizeType:"diameter",type:m})}renderItems(){var{payload:t,iconSize:r,layout:n,formatter:i,inactiveColor:o,iconType:c}=this.props,u={x:0,y:0,width:Va,height:Va},m={display:n==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((g,p)=>{var y=g.formatter||i,j=It({"recharts-legend-item":!0,["legend-item-".concat(p)]:!0,inactive:g.inactive});if(g.type==="none")return null;var k=g.inactive?o:g.color,b=y?y(g.value,g,p):g.value;return x.createElement("li",jv({className:j,style:m,key:"legend-item-".concat(p)},q0(this.props,g,p)),x.createElement(Jb,{width:r,height:r,viewBox:u,style:f,"aria-label":"".concat(b," legend icon")},this.renderIcon(g,c)),x.createElement("span",{className:"recharts-legend-item-text",style:{color:k}},b))})}render(){var{payload:t,layout:r,align:n}=this.props;if(!t||!t.length)return null;var i={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return x.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}aj(nj,"displayName","Legend");aj(nj,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var wx={},Nx={},US;function fH(){return US||(US=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let o=0;o<r.length;o++){const c=r[o],u=n(c);i.has(u)||i.set(u,c)}return Array.from(i.values())}e.uniqBy=t})(Nx)),Nx}var kx={},BS;function uE(){return BS||(BS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(kx)),kx}var Sx={},Cx={},Ax={},HS;function hH(){return HS||(HS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(Ax)),Ax}var FS;function sj(){return FS||(FS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hH();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Cx)),Cx}var Dx={},qS;function gH(){return qS||(qS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(Dx)),Dx}var WS;function pH(){return WS||(WS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sj(),r=gH();function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(Sx)),Sx}var Tx={},Ex={},VS;function xH(){return VS||(VS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xb();function r(n){return function(i){return t.get(i,n)}}e.property=r})(Ex)),Ex}var Ox={},Mx={},Px={},Rx={},YS;function mE(){return YS||(YS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Rx)),Rx}var _x={},KS;function fE(){return KS||(KS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(_x)),_x}var Ix={},GS;function hE(){return GS||(GS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(Ix)),Ix}var XS;function yH(){return XS||(XS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ij(),r=mE(),n=fE(),i=hE();function o(p,y,j){return typeof j!="function"?t.isMatch(p,y):c(p,y,function k(b,C,S,N,A,E){const T=j(b,C,S,N,A,E);return T!==void 0?!!T:c(b,C,k,E)},new Map)}function c(p,y,j,k){if(y===p)return!0;switch(typeof y){case"object":return u(p,y,j,k);case"function":return Object.keys(y).length>0?c(p,{...y},j,k):i.eq(p,y);default:return r.isObject(p)?typeof y=="string"?y==="":!0:i.eq(p,y)}}function u(p,y,j,k){if(y==null)return!0;if(Array.isArray(y))return f(p,y,j,k);if(y instanceof Map)return m(p,y,j,k);if(y instanceof Set)return g(p,y,j,k);const b=Object.keys(y);if(p==null)return b.length===0;if(b.length===0)return!0;if(k&&k.has(y))return k.get(y)===p;k&&k.set(y,p);try{for(let C=0;C<b.length;C++){const S=b[C];if(!n.isPrimitive(p)&&!(S in p)||y[S]===void 0&&p[S]!==void 0||y[S]===null&&p[S]!==null||!j(p[S],y[S],S,p,y,k))return!1}return!0}finally{k&&k.delete(y)}}function m(p,y,j,k){if(y.size===0)return!0;if(!(p instanceof Map))return!1;for(const[b,C]of y.entries()){const S=p.get(b);if(j(S,C,b,p,y,k)===!1)return!1}return!0}function f(p,y,j,k){if(y.length===0)return!0;if(!Array.isArray(p))return!1;const b=new Set;for(let C=0;C<y.length;C++){const S=y[C];let N=!1;for(let A=0;A<p.length;A++){if(b.has(A))continue;const E=p[A];let T=!1;if(j(E,S,C,p,y,k)&&(T=!0),T){b.add(A),N=!0;break}}if(!N)return!1}return!0}function g(p,y,j,k){return y.size===0?!0:p instanceof Set?f([...p],[...y],j,k):!1}e.isMatchWith=o,e.isSetMatch=g})(Px)),Px}var ZS;function ij(){return ZS||(ZS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yH();function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(Mx)),Mx}var Lx={},$x={},zx={},JS;function vH(){return JS||(JS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(zx)),zx}var Ux={},QS;function gE(){return QS||(QS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Ux)),Ux}var Bx={},e4;function pE(){return e4||(e4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",o="[object Arguments]",c="[object Symbol]",u="[object Date]",m="[object Map]",f="[object Set]",g="[object Array]",p="[object Function]",y="[object ArrayBuffer]",j="[object Object]",k="[object Error]",b="[object DataView]",C="[object Uint8Array]",S="[object Uint8ClampedArray]",N="[object Uint16Array]",A="[object Uint32Array]",E="[object BigUint64Array]",T="[object Int8Array]",P="[object Int16Array]",O="[object Int32Array]",U="[object BigInt64Array]",X="[object Float32Array]",ie="[object Float64Array]";e.argumentsTag=o,e.arrayBufferTag=y,e.arrayTag=g,e.bigInt64ArrayTag=U,e.bigUint64ArrayTag=E,e.booleanTag=i,e.dataViewTag=b,e.dateTag=u,e.errorTag=k,e.float32ArrayTag=X,e.float64ArrayTag=ie,e.functionTag=p,e.int16ArrayTag=P,e.int32ArrayTag=O,e.int8ArrayTag=T,e.mapTag=m,e.numberTag=n,e.objectTag=j,e.regexpTag=t,e.setTag=f,e.stringTag=r,e.symbolTag=c,e.uint16ArrayTag=N,e.uint32ArrayTag=A,e.uint8ArrayTag=C,e.uint8ClampedArrayTag=S})(Bx)),Bx}var Hx={},t4;function bH(){return t4||(t4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(Hx)),Hx}var r4;function xE(){return r4||(r4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vH(),r=gE(),n=pE(),i=fE(),o=bH();function c(g,p){return u(g,void 0,g,new Map,p)}function u(g,p,y,j=new Map,k=void 0){const b=k?.(g,p,y,j);if(b!==void 0)return b;if(i.isPrimitive(g))return g;if(j.has(g))return j.get(g);if(Array.isArray(g)){const C=new Array(g.length);j.set(g,C);for(let S=0;S<g.length;S++)C[S]=u(g[S],S,y,j,k);return Object.hasOwn(g,"index")&&(C.index=g.index),Object.hasOwn(g,"input")&&(C.input=g.input),C}if(g instanceof Date)return new Date(g.getTime());if(g instanceof RegExp){const C=new RegExp(g.source,g.flags);return C.lastIndex=g.lastIndex,C}if(g instanceof Map){const C=new Map;j.set(g,C);for(const[S,N]of g)C.set(S,u(N,S,y,j,k));return C}if(g instanceof Set){const C=new Set;j.set(g,C);for(const S of g)C.add(u(S,void 0,y,j,k));return C}if(typeof Buffer<"u"&&Buffer.isBuffer(g))return g.subarray();if(o.isTypedArray(g)){const C=new(Object.getPrototypeOf(g)).constructor(g.length);j.set(g,C);for(let S=0;S<g.length;S++)C[S]=u(g[S],S,y,j,k);return C}if(g instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&g instanceof SharedArrayBuffer)return g.slice(0);if(g instanceof DataView){const C=new DataView(g.buffer.slice(0),g.byteOffset,g.byteLength);return j.set(g,C),m(C,g,y,j,k),C}if(typeof File<"u"&&g instanceof File){const C=new File([g],g.name,{type:g.type});return j.set(g,C),m(C,g,y,j,k),C}if(typeof Blob<"u"&&g instanceof Blob){const C=new Blob([g],{type:g.type});return j.set(g,C),m(C,g,y,j,k),C}if(g instanceof Error){const C=new g.constructor;return j.set(g,C),C.message=g.message,C.name=g.name,C.stack=g.stack,C.cause=g.cause,m(C,g,y,j,k),C}if(g instanceof Boolean){const C=new Boolean(g.valueOf());return j.set(g,C),m(C,g,y,j,k),C}if(g instanceof Number){const C=new Number(g.valueOf());return j.set(g,C),m(C,g,y,j,k),C}if(g instanceof String){const C=new String(g.valueOf());return j.set(g,C),m(C,g,y,j,k),C}if(typeof g=="object"&&f(g)){const C=Object.create(Object.getPrototypeOf(g));return j.set(g,C),m(C,g,y,j,k),C}return g}function m(g,p,y=g,j,k){const b=[...Object.keys(p),...t.getSymbols(p)];for(let C=0;C<b.length;C++){const S=b[C],N=Object.getOwnPropertyDescriptor(g,S);(N==null||N.writable)&&(g[S]=u(p[S],S,y,j,k))}}function f(g){switch(r.getTag(g)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=c,e.cloneDeepWithImpl=u,e.copyProperties=m})($x)),$x}var a4;function jH(){return a4||(a4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xE();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(Lx)),Lx}var n4;function wH(){return n4||(n4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ij(),r=jH();function n(i){return i=r.cloneDeep(i),o=>t.isMatch(o,i)}e.matches=n})(Ox)),Ox}var Fx={},qx={},Wx={},s4;function NH(){return s4||(s4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xE(),r=pE();function n(i,o){return t.cloneDeepWith(i,(c,u,m,f)=>{const g=o?.(c,u,m,f);if(g!==void 0)return g;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const p=new i.constructor(i?.valueOf());return t.copyProperties(p,i),p}case r.argumentsTag:{const p={};return t.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}e.cloneDeepWith=n})(Wx)),Wx}var i4;function kH(){return i4||(i4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NH();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(qx)),qx}var Vx={},Yx={},l4;function yE(){return l4||(l4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Yx)),Yx}var Kx={},o4;function SH(){return o4||(o4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gE();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(Kx)),Kx}var c4;function CH(){return c4||(c4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F3(),r=yE(),n=SH(),i=Gb();function o(c,u){let m;if(Array.isArray(u)?m=u:typeof u=="string"&&t.isDeepKey(u)&&c?.[u]==null?m=i.toPath(u):m=[u],m.length===0)return!1;let f=c;for(let g=0;g<m.length;g++){const p=m[g];if((f==null||!Object.hasOwn(f,p))&&!((Array.isArray(f)||n.isArguments(f))&&r.isIndex(p)&&p<f.length))return!1;f=f[p]}return!0}e.has=o})(Vx)),Vx}var d4;function AH(){return d4||(d4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ij(),r=Kb(),n=kH(),i=Xb(),o=CH();function c(u,m){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=r.toKey(u);break}}return m=n.cloneDeep(m),function(f){const g=i.get(f,u);return g===void 0?o.has(f,u):m===void 0?g===void 0:t.isMatch(g,m)}}e.matchesProperty=c})(Fx)),Fx}var u4;function DH(){return u4||(u4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uE(),r=xH(),n=wH(),i=AH();function o(c){if(c==null)return t.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?i.matchesProperty(c[0],c[1]):n.matches(c);case"string":case"symbol":case"number":return r.property(c)}}e.iteratee=o})(Tx)),Tx}var m4;function TH(){return m4||(m4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fH(),r=uE(),n=pH(),i=DH();function o(c,u=r.identity){return n.isArrayLikeObject(c)?t.uniqBy(Array.from(c),i.iteratee(u)):[]}e.uniqBy=o})(wx)),wx}var Gx,f4;function EH(){return f4||(f4=1,Gx=TH().uniqBy),Gx}var OH=EH();const h4=vn(OH);function vE(e,t,r){return t===!0?h4(e,r):typeof t=="function"?h4(e,t):e}var Xx={exports:{}},Zx={},Jx={exports:{}},Qx={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g4;function MH(){if(g4)return Qx;g4=1;var e=Xo();function t(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,i=e.useEffect,o=e.useLayoutEffect,c=e.useDebugValue;function u(p,y){var j=y(),k=n({inst:{value:j,getSnapshot:y}}),b=k[0].inst,C=k[1];return o(function(){b.value=j,b.getSnapshot=y,m(b)&&C({inst:b})},[p,j,y]),i(function(){return m(b)&&C({inst:b}),p(function(){m(b)&&C({inst:b})})},[p]),c(j),j}function m(p){var y=p.getSnapshot;p=p.value;try{var j=y();return!r(p,j)}catch{return!0}}function f(p,y){return y()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return Qx.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:g,Qx}var p4;function PH(){return p4||(p4=1,Jx.exports=MH()),Jx.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x4;function RH(){if(x4)return Zx;x4=1;var e=Xo(),t=PH();function r(f,g){return f===g&&(f!==0||1/f===1/g)||f!==f&&g!==g}var n=typeof Object.is=="function"?Object.is:r,i=t.useSyncExternalStore,o=e.useRef,c=e.useEffect,u=e.useMemo,m=e.useDebugValue;return Zx.useSyncExternalStoreWithSelector=function(f,g,p,y,j){var k=o(null);if(k.current===null){var b={hasValue:!1,value:null};k.current=b}else b=k.current;k=u(function(){function S(P){if(!N){if(N=!0,A=P,P=y(P),j!==void 0&&b.hasValue){var O=b.value;if(j(O,P))return E=O}return E=P}if(O=E,n(A,P))return O;var U=y(P);return j!==void 0&&j(O,U)?(A=P,O):(A=P,E=U)}var N=!1,A,E,T=p===void 0?null:p;return[function(){return S(g())},T===null?void 0:function(){return S(T())}]},[g,p,y,j]);var C=i(f,k[0],k[1]);return c(function(){b.hasValue=!0,b.value=C},[C]),m(C),C},Zx}var y4;function _H(){return y4||(y4=1,Xx.exports=RH()),Xx.exports}var IH=_H(),lj=x.createContext(null),LH=e=>e,gr=()=>{var e=x.useContext(lj);return e?e.store.dispatch:LH},mf=()=>{},$H=()=>mf,zH=(e,t)=>e===t;function Xe(e){var t=x.useContext(lj);return IH.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:$H,t?t.store.getState:mf,t?t.store.getState:mf,t?e:mf,zH)}function UH(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function BH(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function HH(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var v4=e=>Array.isArray(e)?e:[e];function FH(e){const t=Array.isArray(e[0])?e[0]:e;return HH(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function qH(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var WH=class{constructor(e){this.value=e}deref(){return this.value}},VH=typeof WeakRef<"u"?WeakRef:WH,YH=0,b4=1;function qm(){return{s:YH,v:void 0,o:null,p:null}}function bE(e,t={}){let r=qm();const{resultEqualityCheck:n}=t;let i,o=0;function c(){let u=r;const{length:m}=arguments;for(let p=0,y=m;p<y;p++){const j=arguments[p];if(typeof j=="function"||typeof j=="object"&&j!==null){let k=u.o;k===null&&(u.o=k=new WeakMap);const b=k.get(j);b===void 0?(u=qm(),k.set(j,u)):u=b}else{let k=u.p;k===null&&(u.p=k=new Map);const b=k.get(j);b===void 0?(u=qm(),k.set(j,u)):u=b}}const f=u;let g;if(u.s===b4)g=u.v;else if(g=e.apply(null,arguments),o++,n){const p=i?.deref?.()??i;p!=null&&n(p,g)&&(g=p,o!==0&&o--),i=typeof g=="object"&&g!==null||typeof g=="function"?new VH(g):g}return f.s=b4,f.v=g,g}return c.clearCache=()=>{r=qm(),c.resetResultsCount()},c.resultsCount=()=>o,c.resetResultsCount=()=>{o=0},c}function KH(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let o=0,c=0,u,m={},f=i.pop();typeof f=="object"&&(m=f,f=i.pop()),UH(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const g={...r,...m},{memoize:p,memoizeOptions:y=[],argsMemoize:j=bE,argsMemoizeOptions:k=[]}=g,b=v4(y),C=v4(k),S=FH(i),N=p(function(){return o++,f.apply(null,arguments)},...b),A=j(function(){c++;const T=qH(S,arguments);return u=N.apply(null,T),u},...C);return Object.assign(A,{resultFunc:f,memoizedResultFunc:N,dependencies:S,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>u,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:p,argsMemoize:j})};return Object.assign(n,{withTypes:()=>n}),n}var ge=KH(bE),GH=Object.assign((e,t=ge)=>{BH(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(o=>e[o]);return t(n,(...o)=>o.reduce((c,u,m)=>(c[r[m]]=u,c),{}))},{withTypes:()=>GH}),ey={},ty={},ry={},j4;function XH(){return j4||(j4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,o)=>{if(n!==i){const c=t(n),u=t(i);if(c===u&&c===0){if(n<i)return o==="desc"?1:-1;if(n>i)return o==="desc"?-1:1}return o==="desc"?u-c:c-u}return 0};e.compareValues=r})(ry)),ry}var ay={},ny={},w4;function jE(){return w4||(w4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(ny)),ny}var N4;function ZH(){return N4||(N4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jE(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(o,c){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||t.isSymbol(o)?!0:typeof o=="string"&&(n.test(o)||!r.test(o))||c!=null&&Object.hasOwn(c,o)}e.isKey=i})(ay)),ay}var k4;function JH(){return k4||(k4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XH(),r=ZH(),n=Gb();function i(o,c,u,m){if(o==null)return[];u=m?void 0:u,Array.isArray(o)||(o=Object.values(o)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(j=>String(j));const f=(j,k)=>{let b=j;for(let C=0;C<k.length&&b!=null;++C)b=b[k[C]];return b},g=(j,k)=>k==null||j==null?k:typeof j=="object"&&"key"in j?Object.hasOwn(k,j.key)?k[j.key]:f(k,j.path):typeof j=="function"?j(k):Array.isArray(j)?f(k,j):typeof k=="object"?k[j]:k,p=c.map(j=>(Array.isArray(j)&&j.length===1&&(j=j[0]),j==null||typeof j=="function"||Array.isArray(j)||r.isKey(j)?j:{key:j,path:n.toPath(j)}));return o.map(j=>({original:j,criteria:p.map(k=>g(k,j))})).slice().sort((j,k)=>{for(let b=0;b<p.length;b++){const C=t.compareValues(j.criteria[b],k.criteria[b],u[b]);if(C!==0)return C}return 0}).map(j=>j.original)}e.orderBy=i})(ty)),ty}var sy={},S4;function QH(){return S4||(S4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],o=Math.floor(n),c=(u,m)=>{for(let f=0;f<u.length;f++){const g=u[f];Array.isArray(g)&&m<o?c(g,m+1):i.push(g)}};return c(r,0),i}e.flatten=t})(sy)),sy}var iy={},C4;function wE(){return C4||(C4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yE(),r=sj(),n=mE(),i=hE();function o(c,u,m){return n.isObject(m)&&(typeof u=="number"&&r.isArrayLike(m)&&t.isIndex(u)&&u<m.length||typeof u=="string"&&u in m)?i.eq(m[u],c):!1}e.isIterateeCall=o})(iy)),iy}var A4;function eF(){return A4||(A4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JH(),r=QH(),n=wE();function i(o,...c){const u=c.length;return u>1&&n.isIterateeCall(o,c[0],c[1])?c=[]:u>2&&n.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),t.orderBy(o,r.flatten(c),["asc"])}e.sortBy=i})(ey)),ey}var ly,D4;function tF(){return D4||(D4=1,ly=eF().sortBy),ly}var rF=tF();const K0=vn(rF);var NE=e=>e.legend.settings,aF=e=>e.legend.size,nF=e=>e.legend.payload,sF=ge([nF,NE],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?K0(n,r):n});function iF(){return Xe(sF)}var Wm=1;function kE(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=x.useState({height:0,left:0,top:0,width:0}),n=x.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),c={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(c.height-t.height)>Wm||Math.abs(c.left-t.left)>Wm||Math.abs(c.top-t.top)>Wm||Math.abs(c.width-t.width)>Wm)&&r({height:c.height,left:c.left,top:c.top,width:c.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function _r(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var lF=typeof Symbol=="function"&&Symbol.observable||"@@observable",T4=lF,oy=()=>Math.random().toString(36).substring(7).split("").join("."),oF={INIT:`@@redux/INIT${oy()}`,REPLACE:`@@redux/REPLACE${oy()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${oy()}`},Rf=oF;function oj(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function SE(e,t,r){if(typeof e!="function")throw new Error(_r(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(_r(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(_r(1));return r(SE)(e,t)}let n=e,i=t,o=new Map,c=o,u=0,m=!1;function f(){c===o&&(c=new Map,o.forEach((C,S)=>{c.set(S,C)}))}function g(){if(m)throw new Error(_r(3));return i}function p(C){if(typeof C!="function")throw new Error(_r(4));if(m)throw new Error(_r(5));let S=!0;f();const N=u++;return c.set(N,C),function(){if(S){if(m)throw new Error(_r(6));S=!1,f(),c.delete(N),o=null}}}function y(C){if(!oj(C))throw new Error(_r(7));if(typeof C.type>"u")throw new Error(_r(8));if(typeof C.type!="string")throw new Error(_r(17));if(m)throw new Error(_r(9));try{m=!0,i=n(i,C)}finally{m=!1}return(o=c).forEach(N=>{N()}),C}function j(C){if(typeof C!="function")throw new Error(_r(10));n=C,y({type:Rf.REPLACE})}function k(){const C=p;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(_r(11));function N(){const E=S;E.next&&E.next(g())}return N(),{unsubscribe:C(N)}},[T4](){return this}}}return y({type:Rf.INIT}),{dispatch:y,subscribe:p,getState:g,replaceReducer:j,[T4]:k}}function cF(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Rf.INIT})>"u")throw new Error(_r(12));if(typeof r(void 0,{type:Rf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(_r(13))})}function CE(e){const t=Object.keys(e),r={};for(let o=0;o<t.length;o++){const c=t[o];typeof e[c]=="function"&&(r[c]=e[c])}const n=Object.keys(r);let i;try{cF(r)}catch(o){i=o}return function(c={},u){if(i)throw i;let m=!1;const f={};for(let g=0;g<n.length;g++){const p=n[g],y=r[p],j=c[p],k=y(j,u);if(typeof k>"u")throw u&&u.type,new Error(_r(14));f[p]=k,m=m||k!==j}return m=m||n.length!==Object.keys(c).length,m?f:c}}function _f(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function dF(...e){return t=>(r,n)=>{const i=t(r,n);let o=()=>{throw new Error(_r(15))};const c={getState:i.getState,dispatch:(m,...f)=>o(m,...f)},u=e.map(m=>m(c));return o=_f(...u)(i.dispatch),{...i,dispatch:o}}}function AE(e){return oj(e)&&"type"in e&&typeof e.type=="string"}var DE=Symbol.for("immer-nothing"),E4=Symbol.for("immer-draftable"),Ea=Symbol.for("immer-state");function mn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var _o=Object.getPrototypeOf;function vl(e){return!!e&&!!e[Ea]}function ks(e){return e?TE(e)||Array.isArray(e)||!!e[E4]||!!e.constructor?.[E4]||su(e)||X0(e):!1}var uF=Object.prototype.constructor.toString();function TE(e){if(!e||typeof e!="object")return!1;const t=_o(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===uF}function If(e,t){G0(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function G0(e){const t=e[Ea];return t?t.type_:Array.isArray(e)?1:su(e)?2:X0(e)?3:0}function wv(e,t){return G0(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function EE(e,t,r){const n=G0(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function mF(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function su(e){return e instanceof Map}function X0(e){return e instanceof Set}function Qi(e){return e.copy_||e.base_}function Nv(e,t){if(su(e))return new Map(e);if(X0(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=TE(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Ea];let i=Reflect.ownKeys(n);for(let o=0;o<i.length;o++){const c=i[o],u=n[c];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(n[c]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[c]})}return Object.create(_o(e),n)}else{const n=_o(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function cj(e,t=!1){return Z0(e)||vl(e)||!ks(e)||(G0(e)>1&&Object.defineProperties(e,{set:{value:Vm},add:{value:Vm},clear:{value:Vm},delete:{value:Vm}}),Object.freeze(e),t&&Object.values(e).forEach(r=>cj(r,!0))),e}function Vm(){mn(2)}function Z0(e){return Object.isFrozen(e)}var fF={};function bl(e){const t=fF[e];return t||mn(0,e),t}var Ud;function OE(){return Ud}function hF(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function O4(e,t){t&&(bl("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function kv(e){Sv(e),e.drafts_.forEach(gF),e.drafts_=null}function Sv(e){e===Ud&&(Ud=e.parent_)}function M4(e){return Ud=hF(Ud,e)}function gF(e){const t=e[Ea];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function P4(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Ea].modified_&&(kv(t),mn(4)),ks(e)&&(e=Lf(t,e),t.parent_||$f(t,e)),t.patches_&&bl("Patches").generateReplacementPatches_(r[Ea].base_,e,t.patches_,t.inversePatches_)):e=Lf(t,r,[]),kv(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==DE?e:void 0}function Lf(e,t,r){if(Z0(t))return t;const n=t[Ea];if(!n)return If(t,(i,o)=>R4(e,n,t,i,o,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return $f(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let o=i,c=!1;n.type_===3&&(o=new Set(i),i.clear(),c=!0),If(o,(u,m)=>R4(e,n,i,u,m,r,c)),$f(e,i,!1),r&&e.patches_&&bl("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function R4(e,t,r,n,i,o,c){if(vl(i)){const u=o&&t&&t.type_!==3&&!wv(t.assigned_,n)?o.concat(n):void 0,m=Lf(e,i,u);if(EE(r,n,m),vl(m))e.canAutoFreeze_=!1;else return}else c&&r.add(i);if(ks(i)&&!Z0(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Lf(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(su(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&$f(e,i)}}function $f(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&cj(t,r)}function pF(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:OE(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,o=dj;r&&(i=[n],o=Bd);const{revoke:c,proxy:u}=Proxy.revocable(i,o);return n.draft_=u,n.revoke_=c,u}var dj={get(e,t){if(t===Ea)return e;const r=Qi(e);if(!wv(r,t))return xF(e,r,t);const n=r[t];return e.finalized_||!ks(n)?n:n===cy(e.base_,t)?(dy(e),e.copy_[t]=Av(n,e)):n},has(e,t){return t in Qi(e)},ownKeys(e){return Reflect.ownKeys(Qi(e))},set(e,t,r){const n=ME(Qi(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=cy(Qi(e),t),o=i?.[Ea];if(o&&o.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(mF(r,i)&&(r!==void 0||wv(e.base_,t)))return!0;dy(e),Cv(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return cy(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,dy(e),Cv(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Qi(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){mn(11)},getPrototypeOf(e){return _o(e.base_)},setPrototypeOf(){mn(12)}},Bd={};If(dj,(e,t)=>{Bd[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Bd.deleteProperty=function(e,t){return Bd.set.call(this,e,t,void 0)};Bd.set=function(e,t,r){return dj.set.call(this,e[0],t,r,e[0])};function cy(e,t){const r=e[Ea];return(r?Qi(r):e)[t]}function xF(e,t,r){const n=ME(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function ME(e,t){if(!(t in e))return;let r=_o(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=_o(r)}}function Cv(e){e.modified_||(e.modified_=!0,e.parent_&&Cv(e.parent_))}function dy(e){e.copy_||(e.copy_=Nv(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var yF=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const o=r;r=t;const c=this;return function(m=o,...f){return c.produce(m,g=>r.call(this,g,...f))}}typeof r!="function"&&mn(6),n!==void 0&&typeof n!="function"&&mn(7);let i;if(ks(t)){const o=M4(this),c=Av(t,void 0);let u=!0;try{i=r(c),u=!1}finally{u?kv(o):Sv(o)}return O4(o,n),P4(i,o)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===DE&&(i=void 0),this.autoFreeze_&&cj(i,!0),n){const o=[],c=[];bl("Patches").generateReplacementPatches_(t,i,o,c),n(o,c)}return i}else mn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(c,...u)=>this.produceWithPatches(c,m=>t(m,...u));let n,i;return[this.produce(t,r,(c,u)=>{n=c,i=u}),n,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){ks(e)||mn(8),vl(e)&&(e=ys(e));const t=M4(this),r=Av(e,void 0);return r[Ea].isManual_=!0,Sv(t),r}finishDraft(e,t){const r=e&&e[Ea];(!r||!r.isManual_)&&mn(9);const{scope_:n}=r;return O4(n,t),P4(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=bl("Patches").applyPatches_;return vl(e)?n(e,t):this.produce(e,i=>n(i,t))}};function Av(e,t){const r=su(e)?bl("MapSet").proxyMap_(e,t):X0(e)?bl("MapSet").proxySet_(e,t):pF(e,t);return(t?t.scope_:OE()).drafts_.push(r),r}function ys(e){return vl(e)||mn(10,e),PE(e)}function PE(e){if(!ks(e)||Z0(e))return e;const t=e[Ea];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Nv(e,t.scope_.immer_.useStrictShallowCopy_)}else r=Nv(e,!0);return If(r,(n,i)=>{EE(r,n,PE(i))}),t&&(t.finalized_=!1),r}var vF=new yF,RE=vF.produce;function _E(e){return({dispatch:r,getState:n})=>i=>o=>typeof o=="function"?o(r,n,e):i(o)}var bF=_E(),jF=_E,wF=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?_f:_f.apply(null,arguments)};function Za(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(Da(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>AE(n)&&n.type===e,r}var IE=class bd extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,bd.prototype)}static get[Symbol.species](){return bd}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new bd(...t[0].concat(this)):new bd(...t.concat(this))}};function _4(e){return ks(e)?RE(e,()=>{}):e}function Ym(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function NF(e){return typeof e=="boolean"}var kF=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=t??{};let c=new IE;return r&&(NF(r)?c.push(bF):c.push(jF(r.extraArgument))),c},SF="RTK_autoBatch",I4=e=>t=>{setTimeout(t,e)},CF=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,o=!1,c=!1;const u=new Set,m=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:I4(10):e.type==="callback"?e.queueNotification:I4(e.timeout),f=()=>{c=!1,o&&(o=!1,u.forEach(g=>g()))};return Object.assign({},n,{subscribe(g){const p=()=>i&&g(),y=n.subscribe(p);return u.add(g),()=>{y(),u.delete(g)}},dispatch(g){try{return i=!g?.meta?.[SF],o=!i,o&&(c||(c=!0,m(f))),n.dispatch(g)}finally{i=!0}}})},AF=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new IE(e);return n&&i.push(CF(typeof n=="object"?n:void 0)),i};function DF(e){const t=kF(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:o=void 0,enhancers:c=void 0}=e||{};let u;if(typeof r=="function")u=r;else if(oj(r))u=CE(r);else throw new Error(Da(1));let m;typeof n=="function"?m=n(t):m=t();let f=_f;i&&(f=wF({trace:!1,...typeof i=="object"&&i}));const g=dF(...m),p=AF(g);let y=typeof c=="function"?c(p):p();const j=f(...y);return SE(u,o,j)}function LE(e){const t={},r=[];let n;const i={addCase(o,c){const u=typeof o=="string"?o:o.type;if(!u)throw new Error(Da(28));if(u in t)throw new Error(Da(29));return t[u]=c,i},addAsyncThunk(o,c){return c.pending&&(t[o.pending.type]=c.pending),c.rejected&&(t[o.rejected.type]=c.rejected),c.fulfilled&&(t[o.fulfilled.type]=c.fulfilled),c.settled&&r.push({matcher:o.settled,reducer:c.settled}),i},addMatcher(o,c){return r.push({matcher:o,reducer:c}),i},addDefaultCase(o){return n=o,i}};return e(i),[t,r,n]}function TF(e){return typeof e=="function"}function EF(e,t){let[r,n,i]=LE(t),o;if(TF(e))o=()=>_4(e());else{const u=_4(e);o=()=>u}function c(u=o(),m){let f=[r[m.type],...n.filter(({matcher:g})=>g(m)).map(({reducer:g})=>g)];return f.filter(g=>!!g).length===0&&(f=[i]),f.reduce((g,p)=>{if(p)if(vl(g)){const j=p(g,m);return j===void 0?g:j}else{if(ks(g))return RE(g,y=>p(y,m));{const y=p(g,m);if(y===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return g},u)}return c.getInitialState=o,c}var OF="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",MF=(e=21)=>{let t="",r=e;for(;r--;)t+=OF[Math.random()*64|0];return t},PF=Symbol.for("rtk-slice-createasyncthunk");function RF(e,t){return`${e}/${t}`}function _F({creators:e}={}){const t=e?.asyncThunk?.[PF];return function(n){const{name:i,reducerPath:o=i}=n;if(!i)throw new Error(Da(11));const c=(typeof n.reducers=="function"?n.reducers(LF()):n.reducers)||{},u=Object.keys(c),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(A,E){const T=typeof A=="string"?A:A.type;if(!T)throw new Error(Da(12));if(T in m.sliceCaseReducersByType)throw new Error(Da(13));return m.sliceCaseReducersByType[T]=E,f},addMatcher(A,E){return m.sliceMatchers.push({matcher:A,reducer:E}),f},exposeAction(A,E){return m.actionCreators[A]=E,f},exposeCaseReducer(A,E){return m.sliceCaseReducersByName[A]=E,f}};u.forEach(A=>{const E=c[A],T={reducerName:A,type:RF(i,A),createNotation:typeof n.reducers=="function"};zF(E)?BF(T,E,f,t):$F(T,E,f)});function g(){const[A={},E=[],T=void 0]=typeof n.extraReducers=="function"?LE(n.extraReducers):[n.extraReducers],P={...A,...m.sliceCaseReducersByType};return EF(n.initialState,O=>{for(let U in P)O.addCase(U,P[U]);for(let U of m.sliceMatchers)O.addMatcher(U.matcher,U.reducer);for(let U of E)O.addMatcher(U.matcher,U.reducer);T&&O.addDefaultCase(T)})}const p=A=>A,y=new Map,j=new WeakMap;let k;function b(A,E){return k||(k=g()),k(A,E)}function C(){return k||(k=g()),k.getInitialState()}function S(A,E=!1){function T(O){let U=O[A];return typeof U>"u"&&E&&(U=Ym(j,T,C)),U}function P(O=p){const U=Ym(y,E,()=>new WeakMap);return Ym(U,O,()=>{const X={};for(const[ie,W]of Object.entries(n.selectors??{}))X[ie]=IF(W,O,()=>Ym(j,O,C),E);return X})}return{reducerPath:A,getSelectors:P,get selectors(){return P(T)},selectSlice:T}}const N={name:i,reducer:b,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:C,...S(o),injectInto(A,{reducerPath:E,...T}={}){const P=E??o;return A.inject({reducerPath:P,reducer:b},T),{...N,...S(P,!0)}}};return N}}function IF(e,t,r,n){function i(o,...c){let u=t(o);return typeof u>"u"&&n&&(u=r()),e(u,...c)}return i.unwrapped=e,i}var Ma=_F();function LF(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function $F({type:e,reducerName:t,createNotation:r},n,i){let o,c;if("reducer"in n){if(r&&!UF(n))throw new Error(Da(17));o=n.reducer,c=n.prepare}else o=n;i.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,c?Za(e,c):Za(e))}function zF(e){return e._reducerDefinitionType==="asyncThunk"}function UF(e){return e._reducerDefinitionType==="reducerWithPrepare"}function BF({type:e,reducerName:t},r,n,i){if(!i)throw new Error(Da(18));const{payloadCreator:o,fulfilled:c,pending:u,rejected:m,settled:f,options:g}=r,p=i(e,o,g);n.exposeAction(t,p),c&&n.addCase(p.fulfilled,c),u&&n.addCase(p.pending,u),m&&n.addCase(p.rejected,m),f&&n.addMatcher(p.settled,f),n.exposeCaseReducer(t,{fulfilled:c||Km,pending:u||Km,rejected:m||Km,settled:f||Km})}function Km(){}var HF="task",$E="listener",zE="completed",uj="cancelled",FF=`task-${uj}`,qF=`task-${zE}`,Dv=`${$E}-${uj}`,WF=`${$E}-${zE}`,J0=class{constructor(e){this.code=e,this.message=`${HF} ${uj} (reason: ${e})`}name="TaskAbortError";message},mj=(e,t)=>{if(typeof e!="function")throw new TypeError(Da(32))},zf=()=>{},UE=(e,t=zf)=>(e.catch(t),e),BE=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),dl=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},ul=e=>{if(e.aborted){const{reason:t}=e;throw new J0(t)}};function HE(e,t){let r=zf;return new Promise((n,i)=>{const o=()=>i(new J0(e.reason));if(e.aborted){o();return}r=BE(e,o),t.finally(()=>r()).then(n,i)}).finally(()=>{r=zf})}var VF=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof J0?"cancelled":"rejected",error:r}}finally{t?.()}},Uf=e=>t=>UE(HE(e,t).then(r=>(ul(e),r))),FE=e=>{const t=Uf(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:To}=Object,L4={},Q0="listenerMiddleware",YF=(e,t)=>{const r=n=>BE(e,()=>dl(n,e.reason));return(n,i)=>{mj(n);const o=new AbortController;r(o);const c=VF(async()=>{ul(e),ul(o.signal);const u=await n({pause:Uf(o.signal),delay:FE(o.signal),signal:o.signal});return ul(o.signal),u},()=>dl(o,qF));return i?.autoJoin&&t.push(c.catch(zf)),{result:Uf(e)(c),cancel(){dl(o,FF)}}}},KF=(e,t)=>{const r=async(n,i)=>{ul(t);let o=()=>{};const u=[new Promise((m,f)=>{let g=e({predicate:n,effect:(p,y)=>{y.unsubscribe(),m([p,y.getState(),y.getOriginalState()])}});o=()=>{g(),f()}})];i!=null&&u.push(new Promise(m=>setTimeout(m,i,null)));try{const m=await HE(t,Promise.race(u));return ul(t),m}finally{o()}};return(n,i)=>UE(r(n,i))},qE=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:o}=e;if(t)i=Za(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(Da(21));return mj(o),{predicate:i,type:t,effect:o}},WE=To(e=>{const{type:t,predicate:r,effect:n}=qE(e);return{id:MF(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Da(22))}}},{withTypes:()=>WE}),$4=(e,t)=>{const{type:r,effect:n,predicate:i}=qE(t);return Array.from(e.values()).find(o=>(typeof r=="string"?o.type===r:o.predicate===i)&&o.effect===n)},Tv=e=>{e.pending.forEach(t=>{dl(t,Dv)})},GF=e=>()=>{e.forEach(Tv),e.clear()},z4=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},VE=To(Za(`${Q0}/add`),{withTypes:()=>VE}),XF=Za(`${Q0}/removeAll`),YE=To(Za(`${Q0}/remove`),{withTypes:()=>YE}),ZF=(...e)=>{console.error(`${Q0}/error`,...e)},iu=(e={})=>{const t=new Map,{extra:r,onError:n=ZF}=e;mj(n);const i=g=>(g.unsubscribe=()=>t.delete(g.id),t.set(g.id,g),p=>{g.unsubscribe(),p?.cancelActive&&Tv(g)}),o=g=>{const p=$4(t,g)??WE(g);return i(p)};To(o,{withTypes:()=>o});const c=g=>{const p=$4(t,g);return p&&(p.unsubscribe(),g.cancelActive&&Tv(p)),!!p};To(c,{withTypes:()=>c});const u=async(g,p,y,j)=>{const k=new AbortController,b=KF(o,k.signal),C=[];try{g.pending.add(k),await Promise.resolve(g.effect(p,To({},y,{getOriginalState:j,condition:(S,N)=>b(S,N).then(Boolean),take:b,delay:FE(k.signal),pause:Uf(k.signal),extra:r,signal:k.signal,fork:YF(k.signal,C),unsubscribe:g.unsubscribe,subscribe:()=>{t.set(g.id,g)},cancelActiveListeners:()=>{g.pending.forEach((S,N,A)=>{S!==k&&(dl(S,Dv),A.delete(S))})},cancel:()=>{dl(k,Dv),g.pending.delete(k)},throwIfCancelled:()=>{ul(k.signal)}})))}catch(S){S instanceof J0||z4(n,S,{raisedBy:"effect"})}finally{await Promise.all(C),dl(k,WF),g.pending.delete(k)}},m=GF(t);return{middleware:g=>p=>y=>{if(!AE(y))return p(y);if(VE.match(y))return o(y.payload);if(XF.match(y)){m();return}if(YE.match(y))return c(y.payload);let j=g.getState();const k=()=>{if(j===L4)throw new Error(Da(23));return j};let b;try{if(b=p(y),t.size>0){const C=g.getState(),S=Array.from(t.values());for(const N of S){let A=!1;try{A=N.predicate(y,C,j)}catch(E){A=!1,z4(n,E,{raisedBy:"predicate"})}A&&u(N,y,g,k)}}}finally{j=L4}return b},startListening:o,stopListening:c,clearListeners:m}};function Da(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var JF={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},KE=Ma({name:"chartLayout",initialState:JF,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,o;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(o=t.payload.left)!==null&&o!==void 0?o:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:QF,setLayout:eq,setChartSize:tq,setScale:rq}=KE.actions,aq=KE.reducer;function U4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function B4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U4(Object(r),!0).forEach(function(n){nq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nq(e,t,r){return(t=sq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sq(e){var t=iq(e,"string");return typeof t=="symbol"?t:t+""}function iq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bf=Math.PI/180,lq=e=>e*180/Math.PI,Lr=(e,t,r,n)=>({x:e+Math.cos(-Bf*n)*r,y:t+Math.sin(-Bf*n)*r}),oq=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},cq=(e,t)=>{var{x:r,y:n}=e,{x:i,y:o}=t;return Math.sqrt((r-i)**2+(n-o)**2)},dq=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:o}=t,c=cq({x:r,y:n},{x:i,y:o});if(c<=0)return{radius:c,angle:0};var u=(r-i)/c,m=Math.acos(u);return n>o&&(m=2*Math.PI-m),{radius:c,angle:lq(m),angleInRadian:m}},uq=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),o=Math.min(n,i);return{startAngle:t-o*360,endAngle:r-o*360}},mq=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),o=Math.floor(n/360),c=Math.min(i,o);return e+c*360},fq=(e,t)=>{var{x:r,y:n}=e,{radius:i,angle:o}=dq({x:r,y:n},t),{innerRadius:c,outerRadius:u}=t;if(i<c||i>u||i===0)return null;var{startAngle:m,endAngle:f}=uq(t),g=o,p;if(m<=f){for(;g>f;)g-=360;for(;g<m;)g+=360;p=g>=m&&g<=f}else{for(;g>m;)g-=360;for(;g<f;)g+=360;p=g>=f&&g<=m}return p?B4(B4({},t),{},{radius:i,angle:mq(g,t)}):null};function GE(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function H4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ka(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H4(Object(r),!0).forEach(function(n){hq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hq(e,t,r){return(t=gq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gq(e){var t=pq(e,"string");return typeof t=="symbol"?t:t+""}function pq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xr(e,t,r){return Cr(e)||Cr(t)?r:Hn(t)?Po(e,t,r):typeof t=="function"?t(e):r}var xq=(e,t,r,n,i)=>{var o,c=-1,u=(o=t?.length)!==null&&o!==void 0?o:0;if(u<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var m=0;m<u;m++){var f=m>0?r[m-1].coordinate:r[u-1].coordinate,g=r[m].coordinate,p=m>=u-1?r[0].coordinate:r[m+1].coordinate,y=void 0;if(oa(g-f)!==oa(p-g)){var j=[];if(oa(p-g)===oa(i[1]-i[0])){y=p;var k=g+i[1]-i[0];j[0]=Math.min(k,(k+f)/2),j[1]=Math.max(k,(k+f)/2)}else{y=f;var b=p+i[1]-i[0];j[0]=Math.min(g,(b+g)/2),j[1]=Math.max(g,(b+g)/2)}var C=[Math.min(g,(y+g)/2),Math.max(g,(y+g)/2)];if(e>C[0]&&e<=C[1]||e>=j[0]&&e<=j[1]){({index:c}=r[m]);break}}else{var S=Math.min(f,p),N=Math.max(f,p);if(e>(S+g)/2&&e<=(N+g)/2){({index:c}=r[m]);break}}}else if(t){for(var A=0;A<u;A++)if(A===0&&e<=(t[A].coordinate+t[A+1].coordinate)/2||A>0&&A<u-1&&e>(t[A].coordinate+t[A-1].coordinate)/2&&e<=(t[A].coordinate+t[A+1].coordinate)/2||A===u-1&&e>(t[A].coordinate+t[A-1].coordinate)/2){({index:c}=t[A]);break}}return c},yq=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:o,verticalAlign:c,layout:u}=t;if((u==="vertical"||u==="horizontal"&&c==="middle")&&o!=="center"&&Ze(e[o]))return Ka(Ka({},e),{},{[o]:e[o]+(n||0)});if((u==="horizontal"||u==="vertical"&&o==="center")&&c!=="middle"&&Ze(e[c]))return Ka(Ka({},e),{},{[c]:e[c]+(i||0)})}return e},Al=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",XE=(e,t,r,n)=>{if(n)return e.map(u=>u.coordinate);var i,o,c=e.map(u=>(u.coordinate===t&&(i=!0),u.coordinate===r&&(o=!0),u.coordinate));return i||c.push(t),o||c.push(r),c},ZE=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:o,scale:c,realScaleType:u,isCategorical:m,categoricalDomain:f,tickCount:g,ticks:p,niceTicks:y,axisType:j}=e;if(!c)return null;var k=u==="scaleBand"&&c.bandwidth?c.bandwidth()/2:2,b=i==="category"&&c.bandwidth?c.bandwidth()/k:0;if(b=j==="angleAxis"&&o&&o.length>=2?oa(o[0]-o[1])*2*b:b,p||y){var C=(p||y||[]).map((S,N)=>{var A=n?n.indexOf(S):S;return{coordinate:c(A)+b,value:S,offset:b,index:N}});return C.filter(S=>!Ta(S.coordinate))}return m&&f?f.map((S,N)=>({coordinate:c(S)+b,value:S,index:N,offset:b})):c.ticks&&g!=null?c.ticks(g).map((S,N)=>({coordinate:c(S)+b,value:S,offset:b,index:N})):c.domain().map((S,N)=>({coordinate:c(S)+b,value:n?n[S]:S,index:N,offset:b}))},F4=1e-4,vq=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-F4,o=Math.max(n[0],n[1])+F4,c=e(t[0]),u=e(t[r-1]);(c<i||c>o||u<i||u>o)&&e.domain([t[0],t[r-1]])}},bq=(e,t)=>{if(!t||t.length!==2||!Ze(t[0])||!Ze(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!Ze(e[0])||e[0]<r)&&(i[0]=r),(!Ze(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},jq=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,o=0,c=0;c<t;++c){var u=Ta(e[c][r][1])?e[c][r][0]:e[c][r][1];u>=0?(e[c][r][0]=i,e[c][r][1]=i+u,i=e[c][r][1]):(e[c][r][0]=o,e[c][r][1]=o+u,o=e[c][r][1])}},wq=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,o=0;o<t;++o){var c=Ta(e[o][r][1])?e[o][r][0]:e[o][r][1];c>=0?(e[o][r][0]=i,e[o][r][1]=i+c,i=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},Nq={sign:jq,expand:ZB,none:Ro,silhouette:JB,wiggle:QB,positive:wq},kq=(e,t,r)=>{var n=Nq[r],i=XB().keys(t).value((o,c)=>+Xr(o,c,0)).order(vv).offset(n);return i(e)};function Sq(e){return e==null?void 0:String(e)}var q4=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:o,index:c}=e;if(t.type==="category")return r[c]?r[c].coordinate+n:null;var u=Xr(o,t.dataKey,t.scale.domain()[c]);return Cr(u)?null:t.scale(u)-i/2+n},Cq=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},Aq=e=>{var t=e.flat(2).filter(Ze);return[Math.min(...t),Math.max(...t)]},Dq=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Tq=(e,t,r)=>{if(e!=null)return Dq(Object.keys(e).reduce((n,i)=>{var o=e[i],{stackedData:c}=o,u=c.reduce((m,f)=>{var g=GE(f,t,r),p=Aq(g);return[Math.min(m[0],p[0]),Math.max(m[1],p[1])]},[1/0,-1/0]);return[Math.min(u[0],n[0]),Math.max(u[1],n[1])]},[1/0,-1/0]))},W4=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,V4=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fj=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=K0(t,g=>g.coordinate),o=1/0,c=1,u=i.length;c<u;c++){var m=i[c],f=i[c-1];o=Math.min((m.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0};function Y4(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:o}=e;return Ka(Ka({},t),{},{dataKey:r,payload:n,value:i,name:o})}function JE(e,t){if(e)return String(e);if(typeof t=="string")return t}function Eq(e,t,r,n,i){if(r==="horizontal"||r==="vertical"){var o=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return o?{x:e,y:t}:null}return n?fq({x:e,y:t},n):null}var Oq=(e,t,r,n)=>{var i=t.find(f=>f&&f.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:i.coordinate};if(e==="centric"){var o=i.coordinate,{radius:c}=n;return Ka(Ka(Ka({},n),Lr(n.cx,n.cy,c,o)),{},{angle:o,radius:c})}var u=i.coordinate,{angle:m}=n;return Ka(Ka(Ka({},n),Lr(n.cx,n.cy,u,m)),{},{angle:m,radius:u})}return{x:0,y:0}},Mq=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Ts=e=>e.layout.width,Es=e=>e.layout.height,Pq=e=>e.layout.scale,QE=e=>e.layout.margin,eh=ge(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),th=ge(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),Rq="data-recharts-item-index",_q="data-recharts-item-data-key",lu=60;function K4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Gm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K4(Object(r),!0).forEach(function(n){Iq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Iq(e,t,r){return(t=Lq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lq(e){var t=$q(e,"string");return typeof t=="symbol"?t:t+""}function $q(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zq=e=>e.brush.height;function Uq(e){var t=th(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:lu;return r+i}return r},0)}function Bq(e){var t=th(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:lu;return r+i}return r},0)}function Hq(e){var t=eh(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function Fq(e){var t=eh(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Ar=ge([Ts,Es,QE,zq,Uq,Bq,Hq,Fq,NE,aF],(e,t,r,n,i,o,c,u,m,f)=>{var g={left:(r.left||0)+i,right:(r.right||0)+o},p={top:(r.top||0)+c,bottom:(r.bottom||0)+u},y=Gm(Gm({},p),g),j=y.bottom;y.bottom+=n,y=yq(y,m,f);var k=e-y.left-y.right,b=t-y.top-y.bottom;return Gm(Gm({brushBottom:j},y),{},{width:Math.max(k,0),height:Math.max(b,0)})}),qq=ge(Ar,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),hj=ge(Ts,Es,(e,t)=>({x:0,y:0,width:e,height:t})),Wq=x.createContext(null),tn=()=>x.useContext(Wq)!=null,rh=e=>e.brush,ah=ge([rh,Ar,QE],(e,t,r)=>({height:e.height,x:Ze(e.x)?e.x:t.left,y:Ze(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:Ze(e.width)?e.width:t.width})),gj=()=>{var e,t=tn(),r=Xe(qq),n=Xe(ah),i=(e=Xe(rh))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},Vq={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},e6=()=>{var e;return(e=Xe(Ar))!==null&&e!==void 0?e:Vq},pj=()=>Xe(Ts),xj=()=>Xe(Es),Yq=()=>Xe(e=>e.layout.margin),Ot=e=>e.layout.layoutType,yj=()=>Xe(Ot),Kq={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},t6=Ma({name:"legend",initialState:Kq,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=ys(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:G4,setLegendSettings:Gq,addLegendPayload:Xq,removeLegendPayload:Zq}=t6.actions,Jq=t6.reducer,Qq=["contextPayload"];function Ev(){return Ev=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ev.apply(null,arguments)}function X4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Io(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X4(Object(r),!0).forEach(function(n){vj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vj(e,t,r){return(t=eW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eW(e){var t=tW(e,"string");return typeof t=="symbol"?t:t+""}function tW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rW(e,t){if(e==null)return{};var r,n,i=aW(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function aW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function nW(e){return e.value}function sW(e){var{contextPayload:t}=e,r=rW(e,Qq),n=vE(t,e.payloadUniqBy,nW),i=Io(Io({},r),{},{payload:n});return x.isValidElement(e.content)?x.cloneElement(e.content,i):typeof e.content=="function"?x.createElement(e.content,i):x.createElement(nj,i)}function iW(e,t,r,n,i,o){var{layout:c,align:u,verticalAlign:m}=t,f,g;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(u==="center"&&c==="vertical"?f={left:((n||0)-o.width)/2}:f=u==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(m==="middle"?g={top:((i||0)-o.height)/2}:g=m==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Io(Io({},f),g)}function lW(e){var t=gr();return x.useEffect(()=>{t(Gq(e))},[t,e]),null}function oW(e){var t=gr();return x.useEffect(()=>(t(G4(e)),()=>{t(G4({width:0,height:0}))}),[t,e]),null}function cW(e){var t=iF(),r=bB(),n=Yq(),{width:i,height:o,wrapperStyle:c,portal:u}=e,[m,f]=kE([t]),g=pj(),p=xj();if(g==null||p==null)return null;var y=g-(n.left||0)-(n.right||0),j=Lo.getWidthOrHeight(e.layout,o,i,y),k=u?c:Io(Io({position:"absolute",width:j?.width||i||"auto",height:j?.height||o||"auto"},iW(c,e,n,g,p,m)),c),b=u??r;if(b==null)return null;var C=x.createElement("div",{className:"recharts-legend-wrapper",style:k,ref:f},x.createElement(lW,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),x.createElement(oW,{width:m.width,height:m.height}),x.createElement(sW,Ev({},e,j,{margin:n,chartWidth:g,chartHeight:p,contextPayload:t})));return Sl.createPortal(C,b)}class Lo extends x.PureComponent{static getWidthOrHeight(t,r,n,i){return t==="vertical"&&Ze(r)?{height:r}:t==="horizontal"?{width:n||i}:null}render(){return x.createElement(cW,this.props)}}vj(Lo,"displayName","Legend");vj(Lo,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function Ov(){return Ov=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ov.apply(null,arguments)}function Z4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function uy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z4(Object(r),!0).forEach(function(n){dW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dW(e,t,r){return(t=uW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uW(e){var t=mW(e,"string");return typeof t=="symbol"?t:t+""}function mW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fW(e){return Array.isArray(e)&&Hn(e[0])&&Hn(e[1])?e.join(" ~ "):e}var hW=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:o,formatter:c,itemSorter:u,wrapperClassName:m,labelClassName:f,label:g,labelFormatter:p,accessibilityLayer:y=!1}=e,j=()=>{if(o&&o.length){var T={padding:0,margin:0},P=(u?K0(o,u):o).map((O,U)=>{if(O.type==="none")return null;var X=O.formatter||c||fW,{value:ie,name:W}=O,G=ie,H=W;if(X){var Q=X(ie,W,O,U,o);if(Array.isArray(Q))[G,H]=Q;else if(Q!=null)G=Q;else return null}var te=uy({display:"block",paddingTop:4,paddingBottom:4,color:O.color||"#000"},n);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:te},Hn(H)?x.createElement("span",{className:"recharts-tooltip-item-name"},H):null,Hn(H)?x.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,x.createElement("span",{className:"recharts-tooltip-item-value"},G),x.createElement("span",{className:"recharts-tooltip-item-unit"},O.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:T},P)}return null},k=uy({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),b=uy({margin:0},i),C=!Cr(g),S=C?g:"",N=It("recharts-default-tooltip",m),A=It("recharts-tooltip-label",f);C&&p&&o!==void 0&&o!==null&&(S=p(g,o));var E=y?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",Ov({className:N,style:k},E),x.createElement("p",{className:A,style:b},x.isValidElement(S)?S:"".concat(S)),j())},cd="recharts-tooltip-wrapper",gW={visibility:"hidden"};function pW(e){var{coordinate:t,translateX:r,translateY:n}=e;return It(cd,{["".concat(cd,"-right")]:Ze(r)&&t&&Ze(t.x)&&r>=t.x,["".concat(cd,"-left")]:Ze(r)&&t&&Ze(t.x)&&r<t.x,["".concat(cd,"-bottom")]:Ze(n)&&t&&Ze(t.y)&&n>=t.y,["".concat(cd,"-top")]:Ze(n)&&t&&Ze(t.y)&&n<t.y})}function J4(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:o,reverseDirection:c,tooltipDimension:u,viewBox:m,viewBoxDimension:f}=e;if(o&&Ze(o[n]))return o[n];var g=r[n]-u-(i>0?i:0),p=r[n]+i;if(t[n])return c[n]?g:p;var y=m[n];if(y==null)return 0;if(c[n]){var j=g,k=y;return j<k?Math.max(p,y):Math.max(g,y)}if(f==null)return 0;var b=p+u,C=y+f;return b>C?Math.max(g,y):Math.max(p,y)}function xW(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function yW(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:o,tooltipBox:c,useTranslate3d:u,viewBox:m}=e,f,g,p;return c.height>0&&c.width>0&&r?(g=J4({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:c.width,viewBox:m,viewBoxDimension:m.width}),p=J4({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:c.height,viewBox:m,viewBoxDimension:m.height}),f=xW({translateX:g,translateY:p,useTranslate3d:u})):f=gW,{cssProperties:f,cssClasses:pW({translateX:g,translateY:p,coordinate:r})}}function Q4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q4(Object(r),!0).forEach(function(n){Mv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mv(e,t,r){return(t=vW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vW(e){var t=bW(e,"string");return typeof t=="symbol"?t:t+""}function bW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class jW extends x.PureComponent{constructor(){super(...arguments),Mv(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Mv(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:o,coordinate:c,hasPayload:u,isAnimationActive:m,offset:f,position:g,reverseDirection:p,useTranslate3d:y,viewBox:j,wrapperStyle:k,lastBoundingBox:b,innerRef:C,hasPortalFromProps:S}=this.props,{cssClasses:N,cssProperties:A}=yW({allowEscapeViewBox:r,coordinate:c,offsetTopLeft:f,position:g,reverseDirection:p,tooltipBox:{height:b.height,width:b.width},useTranslate3d:y,viewBox:j}),E=S?{}:Xm(Xm({transition:m&&t?"transform ".concat(n,"ms ").concat(i):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),T=Xm(Xm({},E),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},k);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:N,style:T,ref:C},o)}}var wW=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),ic={devToolsEnabled:!1,isSsr:wW()},r6=()=>Xe(e=>e.rootProps.accessibilityLayer);function Oa(e){return Number.isFinite(e)}function Hf(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Pv(){return Pv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pv.apply(null,arguments)}function eC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eC(Object(r),!0).forEach(function(n){NW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NW(e,t,r){return(t=kW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kW(e){var t=SW(e,"string");return typeof t=="symbol"?t:t+""}function SW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rC={curveBasisClosed:zB,curveBasisOpen:UB,curveBasis:$B,curveBumpX:kB,curveBumpY:SB,curveLinearClosed:BB,curveLinear:V0,curveMonotoneX:HB,curveMonotoneY:FB,curveNatural:qB,curveStep:WB,curveStepAfter:YB,curveStepBefore:VB},Zm=e=>Oa(e.x)&&Oa(e.y),dd=e=>e.x,ud=e=>e.y,CW=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(nu(e));return(r==="curveMonotone"||r==="curveBump")&&t?rC["".concat(r).concat(t==="vertical"?"Y":"X")]:rC[r]||V0},AW=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:o=!1}=e,c=CW(t,i),u=o?r.filter(Zm):r,m;if(Array.isArray(n)){var f=o?n.filter(p=>Zm(p)):n,g=u.map((p,y)=>tC(tC({},p),{},{base:f[y]}));return i==="vertical"?m=Fm().y(ud).x1(dd).x0(p=>p.base.x):m=Fm().x(dd).y1(ud).y0(p=>p.base.y),m.defined(Zm).curve(c),m(g)}return i==="vertical"&&Ze(n)?m=Fm().y(ud).x1(dd).x0(n):Ze(n)?m=Fm().x(dd).y1(ud).y0(n):m=Q3().x(dd).y(ud),m.defined(Zm).curve(c),m(u)},DW=e=>{var{className:t,points:r,path:n,pathRef:i}=e;if((!r||!r.length)&&!n)return null;var o=r&&r.length?AW(e):n;return x.createElement("path",Pv({},sc(e),cB(e),{className:It("recharts-curve",t),d:o===null?void 0:o,ref:i}))},TW=["x","y","top","left","width","height","className"];function Rv(){return Rv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rv.apply(null,arguments)}function aC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function EW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aC(Object(r),!0).forEach(function(n){OW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OW(e,t,r){return(t=MW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MW(e){var t=PW(e,"string");return typeof t=="symbol"?t:t+""}function PW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RW(e,t){if(e==null)return{};var r,n,i=_W(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function _W(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var IW=(e,t,r,n,i,o)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(o,",").concat(t,"h").concat(r),LW=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:o=0,height:c=0,className:u}=e,m=RW(e,TW),f=EW({x:t,y:r,top:n,left:i,width:o,height:c},m);return!Ze(t)||!Ze(r)||!Ze(o)||!Ze(c)||!Ze(n)||!Ze(i)?null:x.createElement("path",Rv({},zr(f,!0),{className:It("recharts-cross",u),d:IW(t,r,o,c,n,i)}))};function $W(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function nC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nC(Object(r),!0).forEach(function(n){UW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UW(e,t,r){return(t=BW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BW(e){var t=HW(e,"string");return typeof t=="symbol"?t:t+""}function HW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rn(e,t){var r=zW({},e),n=t,i=Object.keys(t),o=i.reduce((c,u)=>(c[u]===void 0&&n[u]!==void 0&&(c[u]=n[u]),c),r);return o}function FW(){}function sC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function iC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sC(Object(r),!0).forEach(function(n){qW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qW(e,t,r){return(t=WW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WW(e){var t=VW(e,"string");return typeof t=="symbol"?t:t+""}function VW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YW=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),a6=(e,t,r)=>e.map(n=>"".concat(YW(n)," ").concat(t,"ms ").concat(r)).join(","),KW=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),Hd=(e,t)=>Object.keys(t).reduce((r,n)=>iC(iC({},r),{},{[n]:e(n,t[n])}),{});function lC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lC(Object(r),!0).forEach(function(n){GW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GW(e,t,r){return(t=XW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XW(e){var t=ZW(e,"string");return typeof t=="symbol"?t:t+""}function ZW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ff=(e,t,r)=>e+(t-e)*r,_v=e=>{var{from:t,to:r}=e;return t!==r},n6=(e,t,r)=>{var n=Hd((i,o)=>{if(_v(o)){var[c,u]=e(o.from,o.to,o.velocity);return Ir(Ir({},o),{},{from:c,velocity:u})}return o},t);return r<1?Hd((i,o)=>_v(o)?Ir(Ir({},o),{},{velocity:Ff(o.velocity,n[i].velocity,r),from:Ff(o.from,n[i].from,r)}):o,t):n6(e,n,r-1)};function JW(e,t,r,n,i,o){var c,u=n.reduce((y,j)=>Ir(Ir({},y),{},{[j]:{from:e[j],velocity:0,to:t[j]}}),{}),m=()=>Hd((y,j)=>j.from,u),f=()=>!Object.values(u).filter(_v).length,g=null,p=y=>{c||(c=y);var j=y-c,k=j/r.dt;u=n6(r,u,k),i(Ir(Ir(Ir({},e),t),m())),c=y,f()||(g=o.setTimeout(p))};return()=>(g=o.setTimeout(p),()=>{g()})}function QW(e,t,r,n,i,o,c){var u=null,m=i.reduce((p,y)=>Ir(Ir({},p),{},{[y]:[e[y],t[y]]}),{}),f,g=p=>{f||(f=p);var y=(p-f)/n,j=Hd((b,C)=>Ff(...C,r(y)),m);if(o(Ir(Ir(Ir({},e),t),j)),y<1)u=c.setTimeout(g);else{var k=Hd((b,C)=>Ff(...C,r(1)),m);o(Ir(Ir(Ir({},e),t),k))}};return()=>(u=c.setTimeout(g),()=>{u()})}const eV=(e,t,r,n,i,o)=>{var c=KW(e,t);return r.isStepper===!0?JW(e,t,r,c,i,o):QW(e,t,r,n,c,i,o)};var qf=1e-4,s6=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],i6=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),oC=(e,t)=>r=>{var n=s6(e,t);return i6(n,r)},tV=(e,t)=>r=>{var n=s6(e,t),i=[...n.map((o,c)=>o*c).slice(1),0];return i6(i,r)},cC=function(){for(var t,r,n,i,o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];if(c.length===1)switch(c[0]){case"linear":[t,n,r,i]=[0,0,1,1];break;case"ease":[t,n,r,i]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,i]=[.42,0,1,1];break;case"ease-out":[t,n,r,i]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,i]=[0,0,.58,1];break;default:{var m=c[0].split("(");m[0]==="cubic-bezier"&&m[1].split(")")[0].split(",").length===4&&([t,n,r,i]=m[1].split(")")[0].split(",").map(k=>parseFloat(k)))}}else c.length===4&&([t,n,r,i]=c);var f=oC(t,r),g=oC(n,i),p=tV(t,r),y=k=>k>1?1:k<0?0:k,j=k=>{for(var b=k>1?1:k,C=b,S=0;S<8;++S){var N=f(C)-b,A=p(C);if(Math.abs(N-b)<qf||A<qf)return g(C);C=y(C-N/A)}return g(C)};return j.isStepper=!1,j},rV=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,o=(c,u,m)=>{var f=-(c-u)*r,g=m*n,p=m+(f-g)*i/1e3,y=m*i/1e3+c;return Math.abs(y-u)<qf&&Math.abs(p)<qf?[u,0]:[y,p]};return o.isStepper=!0,o.dt=i,o},aV=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return cC(e);case"spring":return rV();default:if(e.split("(")[0]==="cubic-bezier")return cC(e)}return typeof e=="function"?e:null};function nV(e){var t,r=()=>null,n=!1,i=null,o=c=>{if(!n){if(Array.isArray(c)){if(!c.length)return;var u=c,[m,...f]=u;if(typeof m=="number"){i=e.setTimeout(o.bind(null,f),m);return}o(m),i=e.setTimeout(o.bind(null,f));return}typeof c=="string"&&(t=c,r(t)),typeof c=="object"&&(t=c,r(t)),typeof c=="function"&&c()}};return{stop:()=>{n=!0},start:c=>{n=!1,i&&(i(),i=null),o(c)},subscribe:c=>(r=c,()=>{r=()=>null}),getTimeoutController:()=>e}}class sV{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,o=c=>{c-n>=r?t(c):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{cancelAnimationFrame(i)}}}function iV(){return nV(new sV)}var lV=x.createContext(iV);function oV(e,t){var r=x.useContext(lV);return x.useMemo(()=>t??r(e),[e,t,r])}var cV={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},dC={t:0},my={t:1};function bj(e){var t=rn(e,cV),{isActive:r,canBegin:n,duration:i,easing:o,begin:c,onAnimationEnd:u,onAnimationStart:m,children:f}=t,g=oV(t.animationId,t.animationManager),[p,y]=x.useState(r?dC:my),j=x.useRef(null);return x.useEffect(()=>{r||y(my)},[r]),x.useEffect(()=>{if(!r||!n)return FW;var k=eV(dC,my,aV(o),i,y,g.getTimeoutController()),b=()=>{j.current=k()};return g.start([m,c,b,i,u]),()=>{g.stop(),j.current&&j.current(),u()}},[r,n,i,o,c,m,u,g]),f(p.t)}function jj(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=x.useRef(zd(t)),n=x.useRef(e);return n.current!==e&&(r.current=zd(t),n.current=e),r.current}function uC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uC(Object(r),!0).forEach(function(n){dV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dV(e,t,r){return(t=uV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uV(e){var t=mV(e,"string");return typeof t=="symbol"?t:t+""}function mV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wf(){return Wf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wf.apply(null,arguments)}var fC=(e,t,r,n,i)=>{var o=Math.min(Math.abs(r)/2,Math.abs(n)/2),c=n>=0?1:-1,u=r>=0?1:-1,m=n>=0&&r>=0||n<0&&r<0?1:0,f;if(o>0&&i instanceof Array){for(var g=[0,0,0,0],p=0,y=4;p<y;p++)g[p]=i[p]>o?o:i[p];f="M".concat(e,",").concat(t+c*g[0]),g[0]>0&&(f+="A ".concat(g[0],",").concat(g[0],",0,0,").concat(m,",").concat(e+u*g[0],",").concat(t)),f+="L ".concat(e+r-u*g[1],",").concat(t),g[1]>0&&(f+="A ".concat(g[1],",").concat(g[1],",0,0,").concat(m,`,
        `).concat(e+r,",").concat(t+c*g[1])),f+="L ".concat(e+r,",").concat(t+n-c*g[2]),g[2]>0&&(f+="A ".concat(g[2],",").concat(g[2],",0,0,").concat(m,`,
        `).concat(e+r-u*g[2],",").concat(t+n)),f+="L ".concat(e+u*g[3],",").concat(t+n),g[3]>0&&(f+="A ".concat(g[3],",").concat(g[3],",0,0,").concat(m,`,
        `).concat(e,",").concat(t+n-c*g[3])),f+="Z"}else if(o>0&&i===+i&&i>0){var j=Math.min(o,i);f="M ".concat(e,",").concat(t+c*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(m,",").concat(e+u*j,",").concat(t,`
            L `).concat(e+r-u*j,",").concat(t,`
            A `).concat(j,",").concat(j,",0,0,").concat(m,",").concat(e+r,",").concat(t+c*j,`
            L `).concat(e+r,",").concat(t+n-c*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(m,",").concat(e+r-u*j,",").concat(t+n,`
            L `).concat(e+u*j,",").concat(t+n,`
            A `).concat(j,",").concat(j,",0,0,").concat(m,",").concat(e,",").concat(t+n-c*j," Z")}else f="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return f},fV={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},l6=e=>{var t=rn(e,fV),r=x.useRef(null),[n,i]=x.useState(-1);x.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var Q=r.current.getTotalLength();Q&&i(Q)}catch{}},[]);var{x:o,y:c,width:u,height:m,radius:f,className:g}=t,{animationEasing:p,animationDuration:y,animationBegin:j,isAnimationActive:k,isUpdateAnimationActive:b}=t,C=x.useRef(u),S=x.useRef(m),N=x.useRef(o),A=x.useRef(c),E=x.useMemo(()=>({x:o,y:c,width:u,height:m,radius:f}),[o,c,u,m,f]),T=jj(E,"rectangle-");if(o!==+o||c!==+c||u!==+u||m!==+m||u===0||m===0)return null;var P=It("recharts-rectangle",g);if(!b)return x.createElement("path",Wf({},zr(t,!0),{className:P,d:fC(o,c,u,m,f)}));var O=C.current,U=S.current,X=N.current,ie=A.current,W="0px ".concat(n===-1?1:n,"px"),G="".concat(n,"px 0px"),H=a6(["strokeDasharray"],y,typeof p=="string"?p:void 0);return x.createElement(bj,{animationId:T,key:T,canBegin:n>0,duration:y,easing:p,isActive:b,begin:j},Q=>{var te=Yr(O,u,Q),$=Yr(U,m,Q),V=Yr(X,o,Q),re=Yr(ie,c,Q);r.current&&(C.current=te,S.current=$,N.current=V,A.current=re);var K;return k?Q>0?K={transition:H,strokeDasharray:G}:K={strokeDasharray:W}:K={strokeDasharray:G},x.createElement("path",Wf({},zr(t,!0),{className:P,d:fC(V,re,te,$,f),ref:r,style:mC(mC({},K),t.style)}))})};function o6(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:o}=e,c=Lr(t,r,n,i),u=Lr(t,r,n,o);return{points:[c,u],cx:t,cy:r,radius:n,startAngle:i,endAngle:o}}function Iv(){return Iv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iv.apply(null,arguments)}var hV=(e,t)=>{var r=oa(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Jm=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:o,isExternal:c,cornerRadius:u,cornerIsExternal:m}=e,f=u*(c?1:-1)+n,g=Math.asin(u/f)/Bf,p=m?i:i+o*g,y=Lr(t,r,f,p),j=Lr(t,r,n,p),k=m?i-o*g:i,b=Lr(t,r,f*Math.cos(g*Bf),k);return{center:y,circleTangency:j,lineTangency:b,theta:g}},c6=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:o,endAngle:c}=e,u=hV(o,c),m=o+u,f=Lr(t,r,i,o),g=Lr(t,r,i,m),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(o>m),`,
    `).concat(g.x,",").concat(g.y,`
  `);if(n>0){var y=Lr(t,r,n,o),j=Lr(t,r,n,m);p+="L ".concat(j.x,",").concat(j.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(o<=m),`,
            `).concat(y.x,",").concat(y.y," Z")}else p+="L ".concat(t,",").concat(r," Z");return p},gV=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:o,forceCornerRadius:c,cornerIsExternal:u,startAngle:m,endAngle:f}=e,g=oa(f-m),{circleTangency:p,lineTangency:y,theta:j}=Jm({cx:t,cy:r,radius:i,angle:m,sign:g,cornerRadius:o,cornerIsExternal:u}),{circleTangency:k,lineTangency:b,theta:C}=Jm({cx:t,cy:r,radius:i,angle:f,sign:-g,cornerRadius:o,cornerIsExternal:u}),S=u?Math.abs(m-f):Math.abs(m-f)-j-C;if(S<0)return c?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):c6({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:m,endAngle:f});var N="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(g<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(S>180),",").concat(+(g<0),",").concat(k.x,",").concat(k.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(g<0),",").concat(b.x,",").concat(b.y,`
  `);if(n>0){var{circleTangency:A,lineTangency:E,theta:T}=Jm({cx:t,cy:r,radius:n,angle:m,sign:g,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),{circleTangency:P,lineTangency:O,theta:U}=Jm({cx:t,cy:r,radius:n,angle:f,sign:-g,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),X=u?Math.abs(m-f):Math.abs(m-f)-T-U;if(X<0&&o===0)return"".concat(N,"L").concat(t,",").concat(r,"Z");N+="L".concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(g<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(X>180),",").concat(+(g>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(g<0),",").concat(E.x,",").concat(E.y,"Z")}else N+="L".concat(t,",").concat(r,"Z");return N},pV={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},d6=e=>{var t=rn(e,pV),{cx:r,cy:n,innerRadius:i,outerRadius:o,cornerRadius:c,forceCornerRadius:u,cornerIsExternal:m,startAngle:f,endAngle:g,className:p}=t;if(o<i||f===g)return null;var y=It("recharts-sector",p),j=o-i,k=yn(c,j,0,!0),b;return k>0&&Math.abs(f-g)<360?b=gV({cx:r,cy:n,innerRadius:i,outerRadius:o,cornerRadius:Math.min(k,j/2),forceCornerRadius:u,cornerIsExternal:m,startAngle:f,endAngle:g}):b=c6({cx:r,cy:n,innerRadius:i,outerRadius:o,startAngle:f,endAngle:g}),x.createElement("path",Iv({},zr(t,!0),{className:y,d:b}))};function xV(e,t,r){var n,i,o,c;if(e==="horizontal")n=t.x,o=n,i=r.top,c=r.top+r.height;else if(e==="vertical")i=t.y,c=i,n=r.left,o=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:u,cy:m,innerRadius:f,outerRadius:g,angle:p}=t,y=Lr(u,m,f,p),j=Lr(u,m,g,p);n=y.x,i=y.y,o=j.x,c=j.y}else return o6(t);return[{x:n,y:i},{x:o,y:c}]}var fy={},hy={},gy={},hC;function yV(){return hC||(hC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jE();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(gy)),gy}var gC;function vV(){return gC||(gC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yV();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(hy)),hy}var pC;function bV(){return pC||(pC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wE(),r=vV();function n(i,o,c){c&&typeof c!="number"&&t.isIterateeCall(i,o,c)&&(o=c=void 0),i=r.toFinite(i),o===void 0?(o=i,i=0):o=r.toFinite(o),c=c===void 0?i<o?1:-1:r.toFinite(c);const u=Math.max(Math.ceil((o-i)/(c||1)),0),m=new Array(u);for(let f=0;f<u;f++)m[f]=i,i+=c;return m}e.range=n})(fy)),fy}var py,xC;function jV(){return xC||(xC=1,py=bV().range),py}var wV=jV();const u6=vn(wV);function bi(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function NV(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function wj(e){let t,r,n;e.length!==2?(t=bi,r=(u,m)=>bi(e(u),m),n=(u,m)=>e(u)-m):(t=e===bi||e===NV?e:kV,r=e,n=e);function i(u,m,f=0,g=u.length){if(f<g){if(t(m,m)!==0)return g;do{const p=f+g>>>1;r(u[p],m)<0?f=p+1:g=p}while(f<g)}return f}function o(u,m,f=0,g=u.length){if(f<g){if(t(m,m)!==0)return g;do{const p=f+g>>>1;r(u[p],m)<=0?f=p+1:g=p}while(f<g)}return f}function c(u,m,f=0,g=u.length){const p=i(u,m,f,g-1);return p>f&&n(u[p-1],m)>-n(u[p],m)?p-1:p}return{left:i,center:c,right:o}}function kV(){return 0}function m6(e){return e===null?NaN:+e}function*SV(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const CV=wj(bi),ou=CV.right;wj(m6).center;class yC extends Map{constructor(t,r=TV){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(vC(this,t))}has(t){return super.has(vC(this,t))}set(t,r){return super.set(AV(this,t),r)}delete(t){return super.delete(DV(this,t))}}function vC({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function AV({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function DV({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function TV(e){return e!==null&&typeof e=="object"?e.valueOf():e}function EV(e=bi){if(e===bi)return f6;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function f6(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const OV=Math.sqrt(50),MV=Math.sqrt(10),PV=Math.sqrt(2);function Vf(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),o=n/Math.pow(10,i),c=o>=OV?10:o>=MV?5:o>=PV?2:1;let u,m,f;return i<0?(f=Math.pow(10,-i)/c,u=Math.round(e*f),m=Math.round(t*f),u/f<e&&++u,m/f>t&&--m,f=-f):(f=Math.pow(10,i)*c,u=Math.round(e/f),m=Math.round(t/f),u*f<e&&++u,m*f>t&&--m),m<u&&.5<=r&&r<2?Vf(e,t,r*2):[u,m,f]}function Lv(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,o,c]=n?Vf(t,e,r):Vf(e,t,r);if(!(o>=i))return[];const u=o-i+1,m=new Array(u);if(n)if(c<0)for(let f=0;f<u;++f)m[f]=(o-f)/-c;else for(let f=0;f<u;++f)m[f]=(o-f)*c;else if(c<0)for(let f=0;f<u;++f)m[f]=(i+f)/-c;else for(let f=0;f<u;++f)m[f]=(i+f)*c;return m}function $v(e,t,r){return t=+t,e=+e,r=+r,Vf(e,t,r)[2]}function zv(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?$v(t,e,r):$v(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function bC(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function jC(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function h6(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?f6:EV(i);n>r;){if(n-r>600){const m=n-r+1,f=t-r+1,g=Math.log(m),p=.5*Math.exp(2*g/3),y=.5*Math.sqrt(g*p*(m-p)/m)*(f-m/2<0?-1:1),j=Math.max(r,Math.floor(t-f*p/m+y)),k=Math.min(n,Math.floor(t+(m-f)*p/m+y));h6(e,t,j,k,i)}const o=e[t];let c=r,u=n;for(md(e,r,t),i(e[n],o)>0&&md(e,r,n);c<u;){for(md(e,c,u),++c,--u;i(e[c],o)<0;)++c;for(;i(e[u],o)>0;)--u}i(e[r],o)===0?md(e,r,u):(++u,md(e,u,n)),u<=t&&(r=u+1),t<=u&&(n=u-1)}return e}function md(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function RV(e,t,r){if(e=Float64Array.from(SV(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return jC(e);if(t>=1)return bC(e);var n,i=(n-1)*t,o=Math.floor(i),c=bC(h6(e,o).subarray(0,o+1)),u=jC(e.subarray(o+1));return c+(u-c)*(i-o)}}function _V(e,t,r=m6){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,o=Math.floor(i),c=+r(e[o],o,e),u=+r(e[o+1],o+1,e);return c+(u-c)*(i-o)}}function IV(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(i);++n<i;)o[n]=e+n*r;return o}function an(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Os(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Uv=Symbol("implicit");function Nj(){var e=new yC,t=[],r=[],n=Uv;function i(o){let c=e.get(o);if(c===void 0){if(n!==Uv)return n;e.set(o,c=t.push(o)-1)}return r[c%r.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new yC;for(const c of o)e.has(c)||e.set(c,t.push(c)-1);return i},i.range=function(o){return arguments.length?(r=Array.from(o),i):r.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return Nj(t,r).unknown(n)},an.apply(i,arguments),i}function kj(){var e=Nj().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,o,c,u=!1,m=0,f=0,g=.5;delete e.unknown;function p(){var y=t().length,j=i<n,k=j?i:n,b=j?n:i;o=(b-k)/Math.max(1,y-m+f*2),u&&(o=Math.floor(o)),k+=(b-k-o*(y-m))*g,c=o*(1-m),u&&(k=Math.round(k),c=Math.round(c));var C=IV(y).map(function(S){return k+o*S});return r(j?C.reverse():C)}return e.domain=function(y){return arguments.length?(t(y),p()):t()},e.range=function(y){return arguments.length?([n,i]=y,n=+n,i=+i,p()):[n,i]},e.rangeRound=function(y){return[n,i]=y,n=+n,i=+i,u=!0,p()},e.bandwidth=function(){return c},e.step=function(){return o},e.round=function(y){return arguments.length?(u=!!y,p()):u},e.padding=function(y){return arguments.length?(m=Math.min(1,f=+y),p()):m},e.paddingInner=function(y){return arguments.length?(m=Math.min(1,y),p()):m},e.paddingOuter=function(y){return arguments.length?(f=+y,p()):f},e.align=function(y){return arguments.length?(g=Math.max(0,Math.min(1,y)),p()):g},e.copy=function(){return kj(t(),[n,i]).round(u).paddingInner(m).paddingOuter(f).align(g)},an.apply(p(),arguments)}function g6(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return g6(t())},e}function LV(){return g6(kj.apply(null,arguments).paddingInner(1))}function Sj(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function p6(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function cu(){}var Fd=.7,Yf=1/Fd,Eo="\\s*([+-]?\\d+)\\s*",qd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Un="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$V=/^#([0-9a-f]{3,8})$/,zV=new RegExp(`^rgb\\(${Eo},${Eo},${Eo}\\)$`),UV=new RegExp(`^rgb\\(${Un},${Un},${Un}\\)$`),BV=new RegExp(`^rgba\\(${Eo},${Eo},${Eo},${qd}\\)$`),HV=new RegExp(`^rgba\\(${Un},${Un},${Un},${qd}\\)$`),FV=new RegExp(`^hsl\\(${qd},${Un},${Un}\\)$`),qV=new RegExp(`^hsla\\(${qd},${Un},${Un},${qd}\\)$`),wC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Sj(cu,Wd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:NC,formatHex:NC,formatHex8:WV,formatHsl:VV,formatRgb:kC,toString:kC});function NC(){return this.rgb().formatHex()}function WV(){return this.rgb().formatHex8()}function VV(){return x6(this).formatHsl()}function kC(){return this.rgb().formatRgb()}function Wd(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=$V.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?SC(t):r===3?new ca(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Qm(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Qm(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=zV.exec(e))?new ca(t[1],t[2],t[3],1):(t=UV.exec(e))?new ca(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=BV.exec(e))?Qm(t[1],t[2],t[3],t[4]):(t=HV.exec(e))?Qm(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=FV.exec(e))?DC(t[1],t[2]/100,t[3]/100,1):(t=qV.exec(e))?DC(t[1],t[2]/100,t[3]/100,t[4]):wC.hasOwnProperty(e)?SC(wC[e]):e==="transparent"?new ca(NaN,NaN,NaN,0):null}function SC(e){return new ca(e>>16&255,e>>8&255,e&255,1)}function Qm(e,t,r,n){return n<=0&&(e=t=r=NaN),new ca(e,t,r,n)}function YV(e){return e instanceof cu||(e=Wd(e)),e?(e=e.rgb(),new ca(e.r,e.g,e.b,e.opacity)):new ca}function Bv(e,t,r,n){return arguments.length===1?YV(e):new ca(e,t,r,n??1)}function ca(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Sj(ca,Bv,p6(cu,{brighter(e){return e=e==null?Yf:Math.pow(Yf,e),new ca(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Fd:Math.pow(Fd,e),new ca(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ca(ml(this.r),ml(this.g),ml(this.b),Kf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:CC,formatHex:CC,formatHex8:KV,formatRgb:AC,toString:AC}));function CC(){return`#${il(this.r)}${il(this.g)}${il(this.b)}`}function KV(){return`#${il(this.r)}${il(this.g)}${il(this.b)}${il((isNaN(this.opacity)?1:this.opacity)*255)}`}function AC(){const e=Kf(this.opacity);return`${e===1?"rgb(":"rgba("}${ml(this.r)}, ${ml(this.g)}, ${ml(this.b)}${e===1?")":`, ${e})`}`}function Kf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ml(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function il(e){return e=ml(e),(e<16?"0":"")+e.toString(16)}function DC(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new fn(e,t,r,n)}function x6(e){if(e instanceof fn)return new fn(e.h,e.s,e.l,e.opacity);if(e instanceof cu||(e=Wd(e)),!e)return new fn;if(e instanceof fn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),o=Math.max(t,r,n),c=NaN,u=o-i,m=(o+i)/2;return u?(t===o?c=(r-n)/u+(r<n)*6:r===o?c=(n-t)/u+2:c=(t-r)/u+4,u/=m<.5?o+i:2-o-i,c*=60):u=m>0&&m<1?0:c,new fn(c,u,m,e.opacity)}function GV(e,t,r,n){return arguments.length===1?x6(e):new fn(e,t,r,n??1)}function fn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Sj(fn,GV,p6(cu,{brighter(e){return e=e==null?Yf:Math.pow(Yf,e),new fn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Fd:Math.pow(Fd,e),new fn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new ca(xy(e>=240?e-240:e+120,i,n),xy(e,i,n),xy(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new fn(TC(this.h),ef(this.s),ef(this.l),Kf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Kf(this.opacity);return`${e===1?"hsl(":"hsla("}${TC(this.h)}, ${ef(this.s)*100}%, ${ef(this.l)*100}%${e===1?")":`, ${e})`}`}}));function TC(e){return e=(e||0)%360,e<0?e+360:e}function ef(e){return Math.max(0,Math.min(1,e||0))}function xy(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Cj=e=>()=>e;function XV(e,t){return function(r){return e+r*t}}function ZV(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function JV(e){return(e=+e)==1?y6:function(t,r){return r-t?ZV(t,r,e):Cj(isNaN(t)?r:t)}}function y6(e,t){var r=t-e;return r?XV(e,r):Cj(isNaN(e)?t:e)}const EC=(function e(t){var r=JV(t);function n(i,o){var c=r((i=Bv(i)).r,(o=Bv(o)).r),u=r(i.g,o.g),m=r(i.b,o.b),f=y6(i.opacity,o.opacity);return function(g){return i.r=c(g),i.g=u(g),i.b=m(g),i.opacity=f(g),i+""}}return n.gamma=e,n})(1);function QV(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(o){for(i=0;i<r;++i)n[i]=e[i]*(1-o)+t[i]*o;return n}}function eY(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function tY(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),o=new Array(r),c;for(c=0;c<n;++c)i[c]=lc(e[c],t[c]);for(;c<r;++c)o[c]=t[c];return function(u){for(c=0;c<n;++c)o[c]=i[c](u);return o}}function rY(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Gf(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function aY(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=lc(e[i],t[i]):n[i]=t[i];return function(o){for(i in r)n[i]=r[i](o);return n}}var Hv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yy=new RegExp(Hv.source,"g");function nY(e){return function(){return e}}function sY(e){return function(t){return e(t)+""}}function iY(e,t){var r=Hv.lastIndex=yy.lastIndex=0,n,i,o,c=-1,u=[],m=[];for(e=e+"",t=t+"";(n=Hv.exec(e))&&(i=yy.exec(t));)(o=i.index)>r&&(o=t.slice(r,o),u[c]?u[c]+=o:u[++c]=o),(n=n[0])===(i=i[0])?u[c]?u[c]+=i:u[++c]=i:(u[++c]=null,m.push({i:c,x:Gf(n,i)})),r=yy.lastIndex;return r<t.length&&(o=t.slice(r),u[c]?u[c]+=o:u[++c]=o),u.length<2?m[0]?sY(m[0].x):nY(t):(t=m.length,function(f){for(var g=0,p;g<t;++g)u[(p=m[g]).i]=p.x(f);return u.join("")})}function lc(e,t){var r=typeof t,n;return t==null||r==="boolean"?Cj(t):(r==="number"?Gf:r==="string"?(n=Wd(t))?(t=n,EC):iY:t instanceof Wd?EC:t instanceof Date?rY:eY(t)?QV:Array.isArray(t)?tY:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?aY:Gf)(e,t)}function Aj(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function lY(e,t){t===void 0&&(t=e,e=lc);for(var r=0,n=t.length-1,i=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(i,i=t[++r]);return function(c){var u=Math.max(0,Math.min(n-1,Math.floor(c*=n)));return o[u](c-u)}}function oY(e){return function(){return e}}function Xf(e){return+e}var OC=[0,1];function Gr(e){return e}function Fv(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:oY(isNaN(t)?NaN:.5)}function cY(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function dY(e,t,r){var n=e[0],i=e[1],o=t[0],c=t[1];return i<n?(n=Fv(i,n),o=r(c,o)):(n=Fv(n,i),o=r(o,c)),function(u){return o(n(u))}}function uY(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),o=new Array(n),c=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<n;)i[c]=Fv(e[c],e[c+1]),o[c]=r(t[c],t[c+1]);return function(u){var m=ou(e,u,1,n)-1;return o[m](i[m](u))}}function du(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function nh(){var e=OC,t=OC,r=lc,n,i,o,c=Gr,u,m,f;function g(){var y=Math.min(e.length,t.length);return c!==Gr&&(c=cY(e[0],e[y-1])),u=y>2?uY:dY,m=f=null,p}function p(y){return y==null||isNaN(y=+y)?o:(m||(m=u(e.map(n),t,r)))(n(c(y)))}return p.invert=function(y){return c(i((f||(f=u(t,e.map(n),Gf)))(y)))},p.domain=function(y){return arguments.length?(e=Array.from(y,Xf),g()):e.slice()},p.range=function(y){return arguments.length?(t=Array.from(y),g()):t.slice()},p.rangeRound=function(y){return t=Array.from(y),r=Aj,g()},p.clamp=function(y){return arguments.length?(c=y?!0:Gr,g()):c!==Gr},p.interpolate=function(y){return arguments.length?(r=y,g()):r},p.unknown=function(y){return arguments.length?(o=y,p):o},function(y,j){return n=y,i=j,g()}}function Dj(){return nh()(Gr,Gr)}function mY(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Zf(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function $o(e){return e=Zf(Math.abs(e)),e?e[1]:NaN}function fY(e,t){return function(r,n){for(var i=r.length,o=[],c=0,u=e[0],m=0;i>0&&u>0&&(m+u+1>n&&(u=Math.max(1,n-m)),o.push(r.substring(i-=u,i+u)),!((m+=u+1)>n));)u=e[c=(c+1)%e.length];return o.reverse().join(t)}}function hY(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var gY=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Vd(e){if(!(t=gY.exec(e)))throw new Error("invalid format: "+e);var t;return new Tj({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Vd.prototype=Tj.prototype;function Tj(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Tj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function pY(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var v6;function xY(e,t){var r=Zf(e,t);if(!r)return e+"";var n=r[0],i=r[1],o=i-(v6=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,c=n.length;return o===c?n:o>c?n+new Array(o-c+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+Zf(e,Math.max(0,t+o-1))[0]}function MC(e,t){var r=Zf(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const PC={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:mY,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>MC(e*100,t),r:MC,s:xY,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function RC(e){return e}var _C=Array.prototype.map,IC=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function yY(e){var t=e.grouping===void 0||e.thousands===void 0?RC:fY(_C.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?RC:hY(_C.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",m=e.nan===void 0?"NaN":e.nan+"";function f(p){p=Vd(p);var y=p.fill,j=p.align,k=p.sign,b=p.symbol,C=p.zero,S=p.width,N=p.comma,A=p.precision,E=p.trim,T=p.type;T==="n"?(N=!0,T="g"):PC[T]||(A===void 0&&(A=12),E=!0,T="g"),(C||y==="0"&&j==="=")&&(C=!0,y="0",j="=");var P=b==="$"?r:b==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",O=b==="$"?n:/[%p]/.test(T)?c:"",U=PC[T],X=/[defgprs%]/.test(T);A=A===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function ie(W){var G=P,H=O,Q,te,$;if(T==="c")H=U(W)+H,W="";else{W=+W;var V=W<0||1/W<0;if(W=isNaN(W)?m:U(Math.abs(W),A),E&&(W=pY(W)),V&&+W==0&&k!=="+"&&(V=!1),G=(V?k==="("?k:u:k==="-"||k==="("?"":k)+G,H=(T==="s"?IC[8+v6/3]:"")+H+(V&&k==="("?")":""),X){for(Q=-1,te=W.length;++Q<te;)if($=W.charCodeAt(Q),48>$||$>57){H=($===46?i+W.slice(Q+1):W.slice(Q))+H,W=W.slice(0,Q);break}}}N&&!C&&(W=t(W,1/0));var re=G.length+W.length+H.length,K=re<S?new Array(S-re+1).join(y):"";switch(N&&C&&(W=t(K+W,K.length?S-H.length:1/0),K=""),j){case"<":W=G+W+H+K;break;case"=":W=G+K+W+H;break;case"^":W=K.slice(0,re=K.length>>1)+G+W+H+K.slice(re);break;default:W=K+G+W+H;break}return o(W)}return ie.toString=function(){return p+""},ie}function g(p,y){var j=f((p=Vd(p),p.type="f",p)),k=Math.max(-8,Math.min(8,Math.floor($o(y)/3)))*3,b=Math.pow(10,-k),C=IC[8+k/3];return function(S){return j(b*S)+C}}return{format:f,formatPrefix:g}}var tf,Ej,b6;vY({thousands:",",grouping:[3],currency:["$",""]});function vY(e){return tf=yY(e),Ej=tf.format,b6=tf.formatPrefix,tf}function bY(e){return Math.max(0,-$o(Math.abs(e)))}function jY(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor($o(t)/3)))*3-$o(Math.abs(e)))}function wY(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,$o(t)-$o(e))+1}function j6(e,t,r,n){var i=zv(e,t,r),o;switch(n=Vd(n??",f"),n.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=jY(i,c))&&(n.precision=o),b6(n,c)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=wY(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=bY(i))&&(n.precision=o-(n.type==="%")*2);break}}return Ej(n)}function Ai(e){var t=e.domain;return e.ticks=function(r){var n=t();return Lv(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return j6(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,o=n.length-1,c=n[i],u=n[o],m,f,g=10;for(u<c&&(f=c,c=u,u=f,f=i,i=o,o=f);g-- >0;){if(f=$v(c,u,r),f===m)return n[i]=c,n[o]=u,t(n);if(f>0)c=Math.floor(c/f)*f,u=Math.ceil(u/f)*f;else if(f<0)c=Math.ceil(c*f)/f,u=Math.floor(u*f)/f;else break;m=f}return e},e}function w6(){var e=Dj();return e.copy=function(){return du(e,w6())},an.apply(e,arguments),Ai(e)}function N6(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Xf),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return N6(e).unknown(t)},e=arguments.length?Array.from(e,Xf):[0,1],Ai(r)}function k6(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],o=e[n],c;return o<i&&(c=r,r=n,n=c,c=i,i=o,o=c),e[r]=t.floor(i),e[n]=t.ceil(o),e}function LC(e){return Math.log(e)}function $C(e){return Math.exp(e)}function NY(e){return-Math.log(-e)}function kY(e){return-Math.exp(-e)}function SY(e){return isFinite(e)?+("1e"+e):e<0?0:e}function CY(e){return e===10?SY:e===Math.E?Math.exp:t=>Math.pow(e,t)}function AY(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function zC(e){return(t,r)=>-e(-t,r)}function Oj(e){const t=e(LC,$C),r=t.domain;let n=10,i,o;function c(){return i=AY(n),o=CY(n),r()[0]<0?(i=zC(i),o=zC(o),e(NY,kY)):e(LC,$C),t}return t.base=function(u){return arguments.length?(n=+u,c()):n},t.domain=function(u){return arguments.length?(r(u),c()):r()},t.ticks=u=>{const m=r();let f=m[0],g=m[m.length-1];const p=g<f;p&&([f,g]=[g,f]);let y=i(f),j=i(g),k,b;const C=u==null?10:+u;let S=[];if(!(n%1)&&j-y<C){if(y=Math.floor(y),j=Math.ceil(j),f>0){for(;y<=j;++y)for(k=1;k<n;++k)if(b=y<0?k/o(-y):k*o(y),!(b<f)){if(b>g)break;S.push(b)}}else for(;y<=j;++y)for(k=n-1;k>=1;--k)if(b=y>0?k/o(-y):k*o(y),!(b<f)){if(b>g)break;S.push(b)}S.length*2<C&&(S=Lv(f,g,C))}else S=Lv(y,j,Math.min(j-y,C)).map(o);return p?S.reverse():S},t.tickFormat=(u,m)=>{if(u==null&&(u=10),m==null&&(m=n===10?"s":","),typeof m!="function"&&(!(n%1)&&(m=Vd(m)).precision==null&&(m.trim=!0),m=Ej(m)),u===1/0)return m;const f=Math.max(1,n*u/t.ticks().length);return g=>{let p=g/o(Math.round(i(g)));return p*n<n-.5&&(p*=n),p<=f?m(g):""}},t.nice=()=>r(k6(r(),{floor:u=>o(Math.floor(i(u))),ceil:u=>o(Math.ceil(i(u)))})),t}function S6(){const e=Oj(nh()).domain([1,10]);return e.copy=()=>du(e,S6()).base(e.base()),an.apply(e,arguments),e}function UC(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function BC(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Mj(e){var t=1,r=e(UC(t),BC(t));return r.constant=function(n){return arguments.length?e(UC(t=+n),BC(t)):t},Ai(r)}function C6(){var e=Mj(nh());return e.copy=function(){return du(e,C6()).constant(e.constant())},an.apply(e,arguments)}function HC(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function DY(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function TY(e){return e<0?-e*e:e*e}function Pj(e){var t=e(Gr,Gr),r=1;function n(){return r===1?e(Gr,Gr):r===.5?e(DY,TY):e(HC(r),HC(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Ai(t)}function Rj(){var e=Pj(nh());return e.copy=function(){return du(e,Rj()).exponent(e.exponent())},an.apply(e,arguments),e}function EY(){return Rj.apply(null,arguments).exponent(.5)}function FC(e){return Math.sign(e)*e*e}function OY(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function A6(){var e=Dj(),t=[0,1],r=!1,n;function i(o){var c=OY(e(o));return isNaN(c)?n:r?Math.round(c):c}return i.invert=function(o){return e.invert(FC(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,Xf)).map(FC)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(r=!!o,i):r},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return A6(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},an.apply(i,arguments),Ai(i)}function D6(){var e=[],t=[],r=[],n;function i(){var c=0,u=Math.max(1,t.length);for(r=new Array(u-1);++c<u;)r[c-1]=_V(e,c/u);return o}function o(c){return c==null||isNaN(c=+c)?n:t[ou(r,c)]}return o.invertExtent=function(c){var u=t.indexOf(c);return u<0?[NaN,NaN]:[u>0?r[u-1]:e[0],u<r.length?r[u]:e[e.length-1]]},o.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let u of c)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(bi),i()},o.range=function(c){return arguments.length?(t=Array.from(c),i()):t.slice()},o.unknown=function(c){return arguments.length?(n=c,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return D6().domain(e).range(t).unknown(n)},an.apply(o,arguments)}function T6(){var e=0,t=1,r=1,n=[.5],i=[0,1],o;function c(m){return m!=null&&m<=m?i[ou(n,m,0,r)]:o}function u(){var m=-1;for(n=new Array(r);++m<r;)n[m]=((m+1)*t-(m-r)*e)/(r+1);return c}return c.domain=function(m){return arguments.length?([e,t]=m,e=+e,t=+t,u()):[e,t]},c.range=function(m){return arguments.length?(r=(i=Array.from(m)).length-1,u()):i.slice()},c.invertExtent=function(m){var f=i.indexOf(m);return f<0?[NaN,NaN]:f<1?[e,n[0]]:f>=r?[n[r-1],t]:[n[f-1],n[f]]},c.unknown=function(m){return arguments.length&&(o=m),c},c.thresholds=function(){return n.slice()},c.copy=function(){return T6().domain([e,t]).range(i).unknown(o)},an.apply(Ai(c),arguments)}function E6(){var e=[.5],t=[0,1],r,n=1;function i(o){return o!=null&&o<=o?t[ou(e,o,0,n)]:r}return i.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var c=t.indexOf(o);return[e[c-1],e[c]]},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return E6().domain(e).range(t).unknown(r)},an.apply(i,arguments)}const vy=new Date,by=new Date;function jr(e,t,r,n){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const c=i(o),u=i.ceil(o);return o-c<u-o?c:u},i.offset=(o,c)=>(t(o=new Date(+o),c==null?1:Math.floor(c)),o),i.range=(o,c,u)=>{const m=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<c)||!(u>0))return m;let f;do m.push(f=new Date(+o)),t(o,u),e(o);while(f<o&&o<c);return m},i.filter=o=>jr(c=>{if(c>=c)for(;e(c),!o(c);)c.setTime(c-1)},(c,u)=>{if(c>=c)if(u<0)for(;++u<=0;)for(;t(c,-1),!o(c););else for(;--u>=0;)for(;t(c,1),!o(c););}),r&&(i.count=(o,c)=>(vy.setTime(+o),by.setTime(+c),e(vy),e(by),Math.floor(r(vy,by))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(n?c=>n(c)%o===0:c=>i.count(0,c)%o===0):i)),i}const Jf=jr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Jf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?jr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Jf);Jf.range;const gs=1e3,Ga=gs*60,ps=Ga*60,Ss=ps*24,_j=Ss*7,qC=Ss*30,jy=Ss*365,ll=jr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*gs)},(e,t)=>(t-e)/gs,e=>e.getUTCSeconds());ll.range;const Ij=jr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*gs)},(e,t)=>{e.setTime(+e+t*Ga)},(e,t)=>(t-e)/Ga,e=>e.getMinutes());Ij.range;const Lj=jr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ga)},(e,t)=>(t-e)/Ga,e=>e.getUTCMinutes());Lj.range;const $j=jr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*gs-e.getMinutes()*Ga)},(e,t)=>{e.setTime(+e+t*ps)},(e,t)=>(t-e)/ps,e=>e.getHours());$j.range;const zj=jr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ps)},(e,t)=>(t-e)/ps,e=>e.getUTCHours());zj.range;const uu=jr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ga)/Ss,e=>e.getDate()-1);uu.range;const sh=jr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ss,e=>e.getUTCDate()-1);sh.range;const O6=jr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ss,e=>Math.floor(e/Ss));O6.range;function Dl(e){return jr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ga)/_j)}const ih=Dl(0),Qf=Dl(1),MY=Dl(2),PY=Dl(3),zo=Dl(4),RY=Dl(5),_Y=Dl(6);ih.range;Qf.range;MY.range;PY.range;zo.range;RY.range;_Y.range;function Tl(e){return jr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/_j)}const lh=Tl(0),e0=Tl(1),IY=Tl(2),LY=Tl(3),Uo=Tl(4),$Y=Tl(5),zY=Tl(6);lh.range;e0.range;IY.range;LY.range;Uo.range;$Y.range;zY.range;const Uj=jr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Uj.range;const Bj=jr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Bj.range;const Cs=jr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Cs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:jr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Cs.range;const As=jr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());As.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:jr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});As.range;function M6(e,t,r,n,i,o){const c=[[ll,1,gs],[ll,5,5*gs],[ll,15,15*gs],[ll,30,30*gs],[o,1,Ga],[o,5,5*Ga],[o,15,15*Ga],[o,30,30*Ga],[i,1,ps],[i,3,3*ps],[i,6,6*ps],[i,12,12*ps],[n,1,Ss],[n,2,2*Ss],[r,1,_j],[t,1,qC],[t,3,3*qC],[e,1,jy]];function u(f,g,p){const y=g<f;y&&([f,g]=[g,f]);const j=p&&typeof p.range=="function"?p:m(f,g,p),k=j?j.range(f,+g+1):[];return y?k.reverse():k}function m(f,g,p){const y=Math.abs(g-f)/p,j=wj(([,,C])=>C).right(c,y);if(j===c.length)return e.every(zv(f/jy,g/jy,p));if(j===0)return Jf.every(Math.max(zv(f,g,p),1));const[k,b]=c[y/c[j-1][2]<c[j][2]/y?j-1:j];return k.every(b)}return[u,m]}const[UY,BY]=M6(As,Bj,lh,O6,zj,Lj),[HY,FY]=M6(Cs,Uj,ih,uu,$j,Ij);function wy(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ny(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function fd(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function qY(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,o=e.days,c=e.shortDays,u=e.months,m=e.shortMonths,f=hd(i),g=gd(i),p=hd(o),y=gd(o),j=hd(c),k=gd(c),b=hd(u),C=gd(u),S=hd(m),N=gd(m),A={a:V,A:re,b:K,B:J,c:null,d:XC,e:XC,f:fK,g:NK,G:SK,H:dK,I:uK,j:mK,L:P6,m:hK,M:gK,p:I,q:L,Q:QC,s:eA,S:pK,u:xK,U:yK,V:vK,w:bK,W:jK,x:null,X:null,y:wK,Y:kK,Z:CK,"%":JC},E={a:me,A:Z,b:ye,B:Me,c:null,d:ZC,e:ZC,f:EK,g:UK,G:HK,H:AK,I:DK,j:TK,L:_6,m:OK,M:MK,p:ve,q:_e,Q:QC,s:eA,S:PK,u:RK,U:_K,V:IK,w:LK,W:$K,x:null,X:null,y:zK,Y:BK,Z:FK,"%":JC},T={a:ie,A:W,b:G,B:H,c:Q,d:KC,e:KC,f:iK,g:YC,G:VC,H:GC,I:GC,j:rK,L:sK,m:tK,M:aK,p:X,q:eK,Q:oK,s:cK,S:nK,u:GY,U:XY,V:ZY,w:KY,W:JY,x:te,X:$,y:YC,Y:VC,Z:QY,"%":lK};A.x=P(r,A),A.X=P(n,A),A.c=P(t,A),E.x=P(r,E),E.X=P(n,E),E.c=P(t,E);function P(we,F){return function(ue){var R=[],be=-1,Ee=0,Ve=we.length,qe,dt,Ut;for(ue instanceof Date||(ue=new Date(+ue));++be<Ve;)we.charCodeAt(be)===37&&(R.push(we.slice(Ee,be)),(dt=WC[qe=we.charAt(++be)])!=null?qe=we.charAt(++be):dt=qe==="e"?" ":"0",(Ut=F[qe])&&(qe=Ut(ue,dt)),R.push(qe),Ee=be+1);return R.push(we.slice(Ee,be)),R.join("")}}function O(we,F){return function(ue){var R=fd(1900,void 0,1),be=U(R,we,ue+="",0),Ee,Ve;if(be!=ue.length)return null;if("Q"in R)return new Date(R.Q);if("s"in R)return new Date(R.s*1e3+("L"in R?R.L:0));if(F&&!("Z"in R)&&(R.Z=0),"p"in R&&(R.H=R.H%12+R.p*12),R.m===void 0&&(R.m="q"in R?R.q:0),"V"in R){if(R.V<1||R.V>53)return null;"w"in R||(R.w=1),"Z"in R?(Ee=Ny(fd(R.y,0,1)),Ve=Ee.getUTCDay(),Ee=Ve>4||Ve===0?e0.ceil(Ee):e0(Ee),Ee=sh.offset(Ee,(R.V-1)*7),R.y=Ee.getUTCFullYear(),R.m=Ee.getUTCMonth(),R.d=Ee.getUTCDate()+(R.w+6)%7):(Ee=wy(fd(R.y,0,1)),Ve=Ee.getDay(),Ee=Ve>4||Ve===0?Qf.ceil(Ee):Qf(Ee),Ee=uu.offset(Ee,(R.V-1)*7),R.y=Ee.getFullYear(),R.m=Ee.getMonth(),R.d=Ee.getDate()+(R.w+6)%7)}else("W"in R||"U"in R)&&("w"in R||(R.w="u"in R?R.u%7:"W"in R?1:0),Ve="Z"in R?Ny(fd(R.y,0,1)).getUTCDay():wy(fd(R.y,0,1)).getDay(),R.m=0,R.d="W"in R?(R.w+6)%7+R.W*7-(Ve+5)%7:R.w+R.U*7-(Ve+6)%7);return"Z"in R?(R.H+=R.Z/100|0,R.M+=R.Z%100,Ny(R)):wy(R)}}function U(we,F,ue,R){for(var be=0,Ee=F.length,Ve=ue.length,qe,dt;be<Ee;){if(R>=Ve)return-1;if(qe=F.charCodeAt(be++),qe===37){if(qe=F.charAt(be++),dt=T[qe in WC?F.charAt(be++):qe],!dt||(R=dt(we,ue,R))<0)return-1}else if(qe!=ue.charCodeAt(R++))return-1}return R}function X(we,F,ue){var R=f.exec(F.slice(ue));return R?(we.p=g.get(R[0].toLowerCase()),ue+R[0].length):-1}function ie(we,F,ue){var R=j.exec(F.slice(ue));return R?(we.w=k.get(R[0].toLowerCase()),ue+R[0].length):-1}function W(we,F,ue){var R=p.exec(F.slice(ue));return R?(we.w=y.get(R[0].toLowerCase()),ue+R[0].length):-1}function G(we,F,ue){var R=S.exec(F.slice(ue));return R?(we.m=N.get(R[0].toLowerCase()),ue+R[0].length):-1}function H(we,F,ue){var R=b.exec(F.slice(ue));return R?(we.m=C.get(R[0].toLowerCase()),ue+R[0].length):-1}function Q(we,F,ue){return U(we,t,F,ue)}function te(we,F,ue){return U(we,r,F,ue)}function $(we,F,ue){return U(we,n,F,ue)}function V(we){return c[we.getDay()]}function re(we){return o[we.getDay()]}function K(we){return m[we.getMonth()]}function J(we){return u[we.getMonth()]}function I(we){return i[+(we.getHours()>=12)]}function L(we){return 1+~~(we.getMonth()/3)}function me(we){return c[we.getUTCDay()]}function Z(we){return o[we.getUTCDay()]}function ye(we){return m[we.getUTCMonth()]}function Me(we){return u[we.getUTCMonth()]}function ve(we){return i[+(we.getUTCHours()>=12)]}function _e(we){return 1+~~(we.getUTCMonth()/3)}return{format:function(we){var F=P(we+="",A);return F.toString=function(){return we},F},parse:function(we){var F=O(we+="",!1);return F.toString=function(){return we},F},utcFormat:function(we){var F=P(we+="",E);return F.toString=function(){return we},F},utcParse:function(we){var F=O(we+="",!0);return F.toString=function(){return we},F}}}var WC={"-":"",_:" ",0:"0"},Dr=/^\s*\d+/,WY=/^%/,VY=/[\\^$*+?|[\]().{}]/g;function wt(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",o=i.length;return n+(o<r?new Array(r-o+1).join(t)+i:i)}function YY(e){return e.replace(VY,"\\$&")}function hd(e){return new RegExp("^(?:"+e.map(YY).join("|")+")","i")}function gd(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function KY(e,t,r){var n=Dr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function GY(e,t,r){var n=Dr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function XY(e,t,r){var n=Dr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function ZY(e,t,r){var n=Dr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function JY(e,t,r){var n=Dr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function VC(e,t,r){var n=Dr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function YC(e,t,r){var n=Dr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function QY(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function eK(e,t,r){var n=Dr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function tK(e,t,r){var n=Dr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function KC(e,t,r){var n=Dr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function rK(e,t,r){var n=Dr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function GC(e,t,r){var n=Dr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function aK(e,t,r){var n=Dr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function nK(e,t,r){var n=Dr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function sK(e,t,r){var n=Dr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function iK(e,t,r){var n=Dr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function lK(e,t,r){var n=WY.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function oK(e,t,r){var n=Dr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function cK(e,t,r){var n=Dr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function XC(e,t){return wt(e.getDate(),t,2)}function dK(e,t){return wt(e.getHours(),t,2)}function uK(e,t){return wt(e.getHours()%12||12,t,2)}function mK(e,t){return wt(1+uu.count(Cs(e),e),t,3)}function P6(e,t){return wt(e.getMilliseconds(),t,3)}function fK(e,t){return P6(e,t)+"000"}function hK(e,t){return wt(e.getMonth()+1,t,2)}function gK(e,t){return wt(e.getMinutes(),t,2)}function pK(e,t){return wt(e.getSeconds(),t,2)}function xK(e){var t=e.getDay();return t===0?7:t}function yK(e,t){return wt(ih.count(Cs(e)-1,e),t,2)}function R6(e){var t=e.getDay();return t>=4||t===0?zo(e):zo.ceil(e)}function vK(e,t){return e=R6(e),wt(zo.count(Cs(e),e)+(Cs(e).getDay()===4),t,2)}function bK(e){return e.getDay()}function jK(e,t){return wt(Qf.count(Cs(e)-1,e),t,2)}function wK(e,t){return wt(e.getFullYear()%100,t,2)}function NK(e,t){return e=R6(e),wt(e.getFullYear()%100,t,2)}function kK(e,t){return wt(e.getFullYear()%1e4,t,4)}function SK(e,t){var r=e.getDay();return e=r>=4||r===0?zo(e):zo.ceil(e),wt(e.getFullYear()%1e4,t,4)}function CK(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+wt(t/60|0,"0",2)+wt(t%60,"0",2)}function ZC(e,t){return wt(e.getUTCDate(),t,2)}function AK(e,t){return wt(e.getUTCHours(),t,2)}function DK(e,t){return wt(e.getUTCHours()%12||12,t,2)}function TK(e,t){return wt(1+sh.count(As(e),e),t,3)}function _6(e,t){return wt(e.getUTCMilliseconds(),t,3)}function EK(e,t){return _6(e,t)+"000"}function OK(e,t){return wt(e.getUTCMonth()+1,t,2)}function MK(e,t){return wt(e.getUTCMinutes(),t,2)}function PK(e,t){return wt(e.getUTCSeconds(),t,2)}function RK(e){var t=e.getUTCDay();return t===0?7:t}function _K(e,t){return wt(lh.count(As(e)-1,e),t,2)}function I6(e){var t=e.getUTCDay();return t>=4||t===0?Uo(e):Uo.ceil(e)}function IK(e,t){return e=I6(e),wt(Uo.count(As(e),e)+(As(e).getUTCDay()===4),t,2)}function LK(e){return e.getUTCDay()}function $K(e,t){return wt(e0.count(As(e)-1,e),t,2)}function zK(e,t){return wt(e.getUTCFullYear()%100,t,2)}function UK(e,t){return e=I6(e),wt(e.getUTCFullYear()%100,t,2)}function BK(e,t){return wt(e.getUTCFullYear()%1e4,t,4)}function HK(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Uo(e):Uo.ceil(e),wt(e.getUTCFullYear()%1e4,t,4)}function FK(){return"+0000"}function JC(){return"%"}function QC(e){return+e}function eA(e){return Math.floor(+e/1e3)}var bo,L6,$6;qK({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function qK(e){return bo=qY(e),L6=bo.format,bo.parse,$6=bo.utcFormat,bo.utcParse,bo}function WK(e){return new Date(e)}function VK(e){return e instanceof Date?+e:+new Date(+e)}function Hj(e,t,r,n,i,o,c,u,m,f){var g=Dj(),p=g.invert,y=g.domain,j=f(".%L"),k=f(":%S"),b=f("%I:%M"),C=f("%I %p"),S=f("%a %d"),N=f("%b %d"),A=f("%B"),E=f("%Y");function T(P){return(m(P)<P?j:u(P)<P?k:c(P)<P?b:o(P)<P?C:n(P)<P?i(P)<P?S:N:r(P)<P?A:E)(P)}return g.invert=function(P){return new Date(p(P))},g.domain=function(P){return arguments.length?y(Array.from(P,VK)):y().map(WK)},g.ticks=function(P){var O=y();return e(O[0],O[O.length-1],P??10)},g.tickFormat=function(P,O){return O==null?T:f(O)},g.nice=function(P){var O=y();return(!P||typeof P.range!="function")&&(P=t(O[0],O[O.length-1],P??10)),P?y(k6(O,P)):g},g.copy=function(){return du(g,Hj(e,t,r,n,i,o,c,u,m,f))},g}function YK(){return an.apply(Hj(HY,FY,Cs,Uj,ih,uu,$j,Ij,ll,L6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function KK(){return an.apply(Hj(UY,BY,As,Bj,lh,sh,zj,Lj,ll,$6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function oh(){var e=0,t=1,r,n,i,o,c=Gr,u=!1,m;function f(p){return p==null||isNaN(p=+p)?m:c(i===0?.5:(p=(o(p)-r)*i,u?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([e,t]=p,r=o(e=+e),n=o(t=+t),i=r===n?0:1/(n-r),f):[e,t]},f.clamp=function(p){return arguments.length?(u=!!p,f):u},f.interpolator=function(p){return arguments.length?(c=p,f):c};function g(p){return function(y){var j,k;return arguments.length?([j,k]=y,c=p(j,k),f):[c(0),c(1)]}}return f.range=g(lc),f.rangeRound=g(Aj),f.unknown=function(p){return arguments.length?(m=p,f):m},function(p){return o=p,r=p(e),n=p(t),i=r===n?0:1/(n-r),f}}function Di(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function z6(){var e=Ai(oh()(Gr));return e.copy=function(){return Di(e,z6())},Os.apply(e,arguments)}function U6(){var e=Oj(oh()).domain([1,10]);return e.copy=function(){return Di(e,U6()).base(e.base())},Os.apply(e,arguments)}function B6(){var e=Mj(oh());return e.copy=function(){return Di(e,B6()).constant(e.constant())},Os.apply(e,arguments)}function Fj(){var e=Pj(oh());return e.copy=function(){return Di(e,Fj()).exponent(e.exponent())},Os.apply(e,arguments)}function GK(){return Fj.apply(null,arguments).exponent(.5)}function H6(){var e=[],t=Gr;function r(n){if(n!=null&&!isNaN(n=+n))return t((ou(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(bi),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,o)=>RV(e,o/n))},r.copy=function(){return H6(t).domain(e)},Os.apply(r,arguments)}function ch(){var e=0,t=.5,r=1,n=1,i,o,c,u,m,f=Gr,g,p=!1,y;function j(b){return isNaN(b=+b)?y:(b=.5+((b=+g(b))-o)*(n*b<n*o?u:m),f(p?Math.max(0,Math.min(1,b)):b))}j.domain=function(b){return arguments.length?([e,t,r]=b,i=g(e=+e),o=g(t=+t),c=g(r=+r),u=i===o?0:.5/(o-i),m=o===c?0:.5/(c-o),n=o<i?-1:1,j):[e,t,r]},j.clamp=function(b){return arguments.length?(p=!!b,j):p},j.interpolator=function(b){return arguments.length?(f=b,j):f};function k(b){return function(C){var S,N,A;return arguments.length?([S,N,A]=C,f=lY(b,[S,N,A]),j):[f(0),f(.5),f(1)]}}return j.range=k(lc),j.rangeRound=k(Aj),j.unknown=function(b){return arguments.length?(y=b,j):y},function(b){return g=b,i=b(e),o=b(t),c=b(r),u=i===o?0:.5/(o-i),m=o===c?0:.5/(c-o),n=o<i?-1:1,j}}function F6(){var e=Ai(ch()(Gr));return e.copy=function(){return Di(e,F6())},Os.apply(e,arguments)}function q6(){var e=Oj(ch()).domain([.1,1,10]);return e.copy=function(){return Di(e,q6()).base(e.base())},Os.apply(e,arguments)}function W6(){var e=Mj(ch());return e.copy=function(){return Di(e,W6()).constant(e.constant())},Os.apply(e,arguments)}function qj(){var e=Pj(ch());return e.copy=function(){return Di(e,qj()).exponent(e.exponent())},Os.apply(e,arguments)}function XK(){return qj.apply(null,arguments).exponent(.5)}const jd=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:kj,scaleDiverging:F6,scaleDivergingLog:q6,scaleDivergingPow:qj,scaleDivergingSqrt:XK,scaleDivergingSymlog:W6,scaleIdentity:N6,scaleImplicit:Uv,scaleLinear:w6,scaleLog:S6,scaleOrdinal:Nj,scalePoint:LV,scalePow:Rj,scaleQuantile:D6,scaleQuantize:T6,scaleRadial:A6,scaleSequential:z6,scaleSequentialLog:U6,scaleSequentialPow:Fj,scaleSequentialQuantile:H6,scaleSequentialSqrt:GK,scaleSequentialSymlog:B6,scaleSqrt:EY,scaleSymlog:C6,scaleThreshold:E6,scaleTime:YK,scaleUtc:KK,tickFormat:j6},Symbol.toStringTag,{value:"Module"}));var Ti=e=>e.chartData,ZK=ge([Ti],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Wj=(e,t,r,n)=>n?ZK(e):Ti(e);function Bo(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Oa(t)&&Oa(r))return!0}return!1}function tA(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function JK(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,o;if(Oa(r))i=r;else if(typeof r=="function")return;if(Oa(n))o=n;else if(typeof n=="function")return;var c=[i,o];if(Bo(c))return c}}function QK(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Bo(n))return tA(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,o]=e,c,u;if(i==="auto")t!=null&&(c=Math.min(...t));else if(Ze(i))c=i;else if(typeof i=="function")try{t!=null&&(c=i(t?.[0]))}catch{}else if(typeof i=="string"&&W4.test(i)){var m=W4.exec(i);if(m==null||t==null)c=void 0;else{var f=+m[1];c=t[0]-f}}else c=t?.[0];if(o==="auto")t!=null&&(u=Math.max(...t));else if(Ze(o))u=o;else if(typeof o=="function")try{t!=null&&(u=o(t?.[1]))}catch{}else if(typeof o=="string"&&V4.test(o)){var g=V4.exec(o);if(g==null||t==null)u=void 0;else{var p=+g[1];u=t[1]+p}}else u=t?.[1];var y=[c,u];if(Bo(y))return t==null?y:tA(y,t,r)}}}var oc=1e9,eG={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Yj,Kt=!0,Ja="[DecimalError] ",fl=Ja+"Invalid argument: ",Vj=Ja+"Exponent out of range: ",cc=Math.floor,el=Math.pow,tG=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Sa,kr=1e7,Vt=7,V6=9007199254740991,t0=cc(V6/Vt),ze={};ze.absoluteValue=ze.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ze.comparedTo=ze.cmp=function(e){var t,r,n,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(n=o.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===i?0:n>i^o.s<0?1:-1};ze.decimalPlaces=ze.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Vt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ze.dividedBy=ze.div=function(e){return vs(this,new this.constructor(e))};ze.dividedToIntegerBy=ze.idiv=function(e){var t=this,r=t.constructor;return $t(vs(t,new r(e),0,1),r.precision)};ze.equals=ze.eq=function(e){return!this.cmp(e)};ze.exponent=function(){return hr(this)};ze.greaterThan=ze.gt=function(e){return this.cmp(e)>0};ze.greaterThanOrEqualTo=ze.gte=function(e){return this.cmp(e)>=0};ze.isInteger=ze.isint=function(){return this.e>this.d.length-2};ze.isNegative=ze.isneg=function(){return this.s<0};ze.isPositive=ze.ispos=function(){return this.s>0};ze.isZero=function(){return this.s===0};ze.lessThan=ze.lt=function(e){return this.cmp(e)<0};ze.lessThanOrEqualTo=ze.lte=function(e){return this.cmp(e)<1};ze.logarithm=ze.log=function(e){var t,r=this,n=r.constructor,i=n.precision,o=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Sa))throw Error(Ja+"NaN");if(r.s<1)throw Error(Ja+(r.s?"NaN":"-Infinity"));return r.eq(Sa)?new n(0):(Kt=!1,t=vs(Yd(r,o),Yd(e,o),o),Kt=!0,$t(t,i))};ze.minus=ze.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?G6(t,e):Y6(t,(e.s=-e.s,e))};ze.modulo=ze.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Ja+"NaN");return r.s?(Kt=!1,t=vs(r,e,0,1).times(e),Kt=!0,r.minus(t)):$t(new n(r),i)};ze.naturalExponential=ze.exp=function(){return K6(this)};ze.naturalLogarithm=ze.ln=function(){return Yd(this)};ze.negated=ze.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ze.plus=ze.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Y6(t,e):G6(t,(e.s=-e.s,e))};ze.precision=ze.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(fl+e);if(t=hr(i)+1,n=i.d.length-1,r=n*Vt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ze.squareRoot=ze.sqrt=function(){var e,t,r,n,i,o,c,u=this,m=u.constructor;if(u.s<1){if(!u.s)return new m(0);throw Error(Ja+"NaN")}for(e=hr(u),Kt=!1,i=Math.sqrt(+u),i==0||i==1/0?(t=$n(u.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=cc((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new m(t)):n=new m(i.toString()),r=m.precision,i=c=r+3;;)if(o=n,n=o.plus(vs(u,o,c+2)).times(.5),$n(o.d).slice(0,c)===(t=$n(n.d)).slice(0,c)){if(t=t.slice(c-3,c+1),i==c&&t=="4999"){if($t(o,r+1,0),o.times(o).eq(u)){n=o;break}}else if(t!="9999")break;c+=4}return Kt=!0,$t(n,r)};ze.times=ze.mul=function(e){var t,r,n,i,o,c,u,m,f,g=this,p=g.constructor,y=g.d,j=(e=new p(e)).d;if(!g.s||!e.s)return new p(0);for(e.s*=g.s,r=g.e+e.e,m=y.length,f=j.length,m<f&&(o=y,y=j,j=o,c=m,m=f,f=c),o=[],c=m+f,n=c;n--;)o.push(0);for(n=f;--n>=0;){for(t=0,i=m+n;i>n;)u=o[i]+j[n]*y[i-n-1]+t,o[i--]=u%kr|0,t=u/kr|0;o[i]=(o[i]+t)%kr|0}for(;!o[--c];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,Kt?$t(e,p.precision):e};ze.toDecimalPlaces=ze.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Fn(e,0,oc),t===void 0?t=n.rounding:Fn(t,0,8),$t(r,e+hr(r)+1,t))};ze.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=jl(n,!0):(Fn(e,0,oc),t===void 0?t=i.rounding:Fn(t,0,8),n=$t(new i(n),e+1,t),r=jl(n,!0,e+1)),r};ze.toFixed=function(e,t){var r,n,i=this,o=i.constructor;return e===void 0?jl(i):(Fn(e,0,oc),t===void 0?t=o.rounding:Fn(t,0,8),n=$t(new o(i),e+hr(i)+1,t),r=jl(n.abs(),!1,e+hr(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ze.toInteger=ze.toint=function(){var e=this,t=e.constructor;return $t(new t(e),hr(e)+1,t.rounding)};ze.toNumber=function(){return+this};ze.toPower=ze.pow=function(e){var t,r,n,i,o,c,u=this,m=u.constructor,f=12,g=+(e=new m(e));if(!e.s)return new m(Sa);if(u=new m(u),!u.s){if(e.s<1)throw Error(Ja+"Infinity");return u}if(u.eq(Sa))return u;if(n=m.precision,e.eq(Sa))return $t(u,n);if(t=e.e,r=e.d.length-1,c=t>=r,o=u.s,c){if((r=g<0?-g:g)<=V6){for(i=new m(Sa),t=Math.ceil(n/Vt+4),Kt=!1;r%2&&(i=i.times(u),aA(i.d,t)),r=cc(r/2),r!==0;)u=u.times(u),aA(u.d,t);return Kt=!0,e.s<0?new m(Sa).div(i):$t(i,n)}}else if(o<0)throw Error(Ja+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,u.s=1,Kt=!1,i=e.times(Yd(u,n+f)),Kt=!0,i=K6(i),i.s=o,i};ze.toPrecision=function(e,t){var r,n,i=this,o=i.constructor;return e===void 0?(r=hr(i),n=jl(i,r<=o.toExpNeg||r>=o.toExpPos)):(Fn(e,1,oc),t===void 0?t=o.rounding:Fn(t,0,8),i=$t(new o(i),e,t),r=hr(i),n=jl(i,e<=r||r<=o.toExpNeg,e)),n};ze.toSignificantDigits=ze.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Fn(e,1,oc),t===void 0?t=n.rounding:Fn(t,0,8)),$t(new n(r),e,t)};ze.toString=ze.valueOf=ze.val=ze.toJSON=ze[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=hr(e),r=e.constructor;return jl(e,t<=r.toExpNeg||t>=r.toExpPos)};function Y6(e,t){var r,n,i,o,c,u,m,f,g=e.constructor,p=g.precision;if(!e.s||!t.s)return t.s||(t=new g(e)),Kt?$t(t,p):t;if(m=e.d,f=t.d,c=e.e,i=t.e,m=m.slice(),o=c-i,o){for(o<0?(n=m,o=-o,u=f.length):(n=f,i=c,u=m.length),c=Math.ceil(p/Vt),u=c>u?c+1:u+1,o>u&&(o=u,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(u=m.length,o=f.length,u-o<0&&(o=u,n=f,f=m,m=n),r=0;o;)r=(m[--o]=m[o]+f[o]+r)/kr|0,m[o]%=kr;for(r&&(m.unshift(r),++i),u=m.length;m[--u]==0;)m.pop();return t.d=m,t.e=i,Kt?$t(t,p):t}function Fn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(fl+e)}function $n(e){var t,r,n,i=e.length-1,o="",c=e[0];if(i>0){for(o+=c,t=1;t<i;t++)n=e[t]+"",r=Vt-n.length,r&&(o+=mi(r)),o+=n;c=e[t],n=c+"",r=Vt-n.length,r&&(o+=mi(r))}else if(c===0)return"0";for(;c%10===0;)c/=10;return o+c}var vs=(function(){function e(n,i){var o,c=0,u=n.length;for(n=n.slice();u--;)o=n[u]*i+c,n[u]=o%kr|0,c=o/kr|0;return c&&n.unshift(c),n}function t(n,i,o,c){var u,m;if(o!=c)m=o>c?1:-1;else for(u=m=0;u<o;u++)if(n[u]!=i[u]){m=n[u]>i[u]?1:-1;break}return m}function r(n,i,o){for(var c=0;o--;)n[o]-=c,c=n[o]<i[o]?1:0,n[o]=c*kr+n[o]-i[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,o,c){var u,m,f,g,p,y,j,k,b,C,S,N,A,E,T,P,O,U,X=n.constructor,ie=n.s==i.s?1:-1,W=n.d,G=i.d;if(!n.s)return new X(n);if(!i.s)throw Error(Ja+"Division by zero");for(m=n.e-i.e,O=G.length,T=W.length,j=new X(ie),k=j.d=[],f=0;G[f]==(W[f]||0);)++f;if(G[f]>(W[f]||0)&&--m,o==null?N=o=X.precision:c?N=o+(hr(n)-hr(i))+1:N=o,N<0)return new X(0);if(N=N/Vt+2|0,f=0,O==1)for(g=0,G=G[0],N++;(f<T||g)&&N--;f++)A=g*kr+(W[f]||0),k[f]=A/G|0,g=A%G|0;else{for(g=kr/(G[0]+1)|0,g>1&&(G=e(G,g),W=e(W,g),O=G.length,T=W.length),E=O,b=W.slice(0,O),C=b.length;C<O;)b[C++]=0;U=G.slice(),U.unshift(0),P=G[0],G[1]>=kr/2&&++P;do g=0,u=t(G,b,O,C),u<0?(S=b[0],O!=C&&(S=S*kr+(b[1]||0)),g=S/P|0,g>1?(g>=kr&&(g=kr-1),p=e(G,g),y=p.length,C=b.length,u=t(p,b,y,C),u==1&&(g--,r(p,O<y?U:G,y))):(g==0&&(u=g=1),p=G.slice()),y=p.length,y<C&&p.unshift(0),r(b,p,C),u==-1&&(C=b.length,u=t(G,b,O,C),u<1&&(g++,r(b,O<C?U:G,C))),C=b.length):u===0&&(g++,b=[0]),k[f++]=g,u&&b[0]?b[C++]=W[E]||0:(b=[W[E]],C=1);while((E++<T||b[0]!==void 0)&&N--)}return k[0]||k.shift(),j.e=m,$t(j,c?o+hr(j)+1:o)}})();function K6(e,t){var r,n,i,o,c,u,m=0,f=0,g=e.constructor,p=g.precision;if(hr(e)>16)throw Error(Vj+hr(e));if(!e.s)return new g(Sa);for(Kt=!1,u=p,c=new g(.03125);e.abs().gte(.1);)e=e.times(c),f+=5;for(n=Math.log(el(2,f))/Math.LN10*2+5|0,u+=n,r=i=o=new g(Sa),g.precision=u;;){if(i=$t(i.times(e),u),r=r.times(++m),c=o.plus(vs(i,r,u)),$n(c.d).slice(0,u)===$n(o.d).slice(0,u)){for(;f--;)o=$t(o.times(o),u);return g.precision=p,t==null?(Kt=!0,$t(o,p)):o}o=c}}function hr(e){for(var t=e.e*Vt,r=e.d[0];r>=10;r/=10)t++;return t}function ky(e,t,r){if(t>e.LN10.sd())throw Kt=!0,r&&(e.precision=r),Error(Ja+"LN10 precision limit exceeded");return $t(new e(e.LN10),t)}function mi(e){for(var t="";e--;)t+="0";return t}function Yd(e,t){var r,n,i,o,c,u,m,f,g,p=1,y=10,j=e,k=j.d,b=j.constructor,C=b.precision;if(j.s<1)throw Error(Ja+(j.s?"NaN":"-Infinity"));if(j.eq(Sa))return new b(0);if(t==null?(Kt=!1,f=C):f=t,j.eq(10))return t==null&&(Kt=!0),ky(b,f);if(f+=y,b.precision=f,r=$n(k),n=r.charAt(0),o=hr(j),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)j=j.times(e),r=$n(j.d),n=r.charAt(0),p++;o=hr(j),n>1?(j=new b("0."+r),o++):j=new b(n+"."+r.slice(1))}else return m=ky(b,f+2,C).times(o+""),j=Yd(new b(n+"."+r.slice(1)),f-y).plus(m),b.precision=C,t==null?(Kt=!0,$t(j,C)):j;for(u=c=j=vs(j.minus(Sa),j.plus(Sa),f),g=$t(j.times(j),f),i=3;;){if(c=$t(c.times(g),f),m=u.plus(vs(c,new b(i),f)),$n(m.d).slice(0,f)===$n(u.d).slice(0,f))return u=u.times(2),o!==0&&(u=u.plus(ky(b,f+2,C).times(o+""))),u=vs(u,new b(p),f),b.precision=C,t==null?(Kt=!0,$t(u,C)):u;u=m,i+=2}}function rA(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=cc(r/Vt),e.d=[],n=(r+1)%Vt,r<0&&(n+=Vt),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Vt;n<i;)e.d.push(+t.slice(n,n+=Vt));t=t.slice(n),n=Vt-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Kt&&(e.e>t0||e.e<-t0))throw Error(Vj+r)}else e.s=0,e.e=0,e.d=[0];return e}function $t(e,t,r){var n,i,o,c,u,m,f,g,p=e.d;for(c=1,o=p[0];o>=10;o/=10)c++;if(n=t-c,n<0)n+=Vt,i=t,f=p[g=0];else{if(g=Math.ceil((n+1)/Vt),o=p.length,g>=o)return e;for(f=o=p[g],c=1;o>=10;o/=10)c++;n%=Vt,i=n-Vt+c}if(r!==void 0&&(o=el(10,c-i-1),u=f/o%10|0,m=t<0||p[g+1]!==void 0||f%o,m=r<4?(u||m)&&(r==0||r==(e.s<0?3:2)):u>5||u==5&&(r==4||m||r==6&&(n>0?i>0?f/el(10,c-i):0:p[g-1])%10&1||r==(e.s<0?8:7))),t<1||!p[0])return m?(o=hr(e),p.length=1,t=t-o-1,p[0]=el(10,(Vt-t%Vt)%Vt),e.e=cc(-t/Vt)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(n==0?(p.length=g,o=1,g--):(p.length=g+1,o=el(10,Vt-n),p[g]=i>0?(f/el(10,c-i)%el(10,i)|0)*o:0),m)for(;;)if(g==0){(p[0]+=o)==kr&&(p[0]=1,++e.e);break}else{if(p[g]+=o,p[g]!=kr)break;p[g--]=0,o=1}for(n=p.length;p[--n]===0;)p.pop();if(Kt&&(e.e>t0||e.e<-t0))throw Error(Vj+hr(e));return e}function G6(e,t){var r,n,i,o,c,u,m,f,g,p,y=e.constructor,j=y.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new y(e),Kt?$t(t,j):t;if(m=e.d,p=t.d,n=t.e,f=e.e,m=m.slice(),c=f-n,c){for(g=c<0,g?(r=m,c=-c,u=p.length):(r=p,n=f,u=m.length),i=Math.max(Math.ceil(j/Vt),u)+2,c>i&&(c=i,r.length=1),r.reverse(),i=c;i--;)r.push(0);r.reverse()}else{for(i=m.length,u=p.length,g=i<u,g&&(u=i),i=0;i<u;i++)if(m[i]!=p[i]){g=m[i]<p[i];break}c=0}for(g&&(r=m,m=p,p=r,t.s=-t.s),u=m.length,i=p.length-u;i>0;--i)m[u++]=0;for(i=p.length;i>c;){if(m[--i]<p[i]){for(o=i;o&&m[--o]===0;)m[o]=kr-1;--m[o],m[i]+=kr}m[i]-=p[i]}for(;m[--u]===0;)m.pop();for(;m[0]===0;m.shift())--n;return m[0]?(t.d=m,t.e=n,Kt?$t(t,j):t):new y(0)}function jl(e,t,r){var n,i=hr(e),o=$n(e.d),c=o.length;return t?(r&&(n=r-c)>0?o=o.charAt(0)+"."+o.slice(1)+mi(n):c>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+mi(-i-1)+o,r&&(n=r-c)>0&&(o+=mi(n))):i>=c?(o+=mi(i+1-c),r&&(n=r-i-1)>0&&(o=o+"."+mi(n))):((n=i+1)<c&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-c)>0&&(i+1===c&&(o+="."),o+=mi(n))),e.s<0?"-"+o:o}function aA(e,t){if(e.length>t)return e.length=t,!0}function X6(e){var t,r,n;function i(o){var c=this;if(!(c instanceof i))return new i(o);if(c.constructor=i,o instanceof i){c.s=o.s,c.e=o.e,c.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(fl+o);if(o>0)c.s=1;else if(o<0)o=-o,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(o===~~o&&o<1e7){c.e=0,c.d=[o];return}return rA(c,o.toString())}else if(typeof o!="string")throw Error(fl+o);if(o.charCodeAt(0)===45?(o=o.slice(1),c.s=-1):c.s=1,tG.test(o))rA(c,o);else throw Error(fl+o)}if(i.prototype=ze,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=X6,i.config=i.set=rG,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function rG(e){if(!e||typeof e!="object")throw Error(Ja+"Object expected");var t,r,n,i=["precision",1,oc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(cc(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(fl+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(fl+r+": "+n);return this}var Yj=X6(eG);Sa=new Yj(1);const Et=Yj;var aG=e=>e,Z6={},J6=e=>e===Z6,nA=e=>function t(){return arguments.length===0||arguments.length===1&&J6(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},Q6=(e,t)=>e===1?t:nA(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var o=n.filter(c=>c!==Z6).length;return o>=e?t(...n):Q6(e-o,nA(function(){for(var c=arguments.length,u=new Array(c),m=0;m<c;m++)u[m]=arguments[m];var f=n.map(g=>J6(g)?u.shift():g);return t(...f,...u)}))}),dh=e=>Q6(e.length,e),qv=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},nG=dh((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),sG=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return aG;var i=r.reverse(),o=i[0],c=i.slice(1);return function(){return c.reduce((u,m)=>m(u),o(...arguments))}},Wv=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),eO=e=>{var t=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t&&i.every((c,u)=>{var m;return c===((m=t)===null||m===void 0?void 0:m[u])})||(t=i,r=e(...i)),r}};function tO(e){var t;return e===0?t=1:t=Math.floor(new Et(e).abs().log(10).toNumber())+1,t}function rO(e,t,r){for(var n=new Et(e),i=0,o=[];n.lt(t)&&i<1e5;)o.push(n.toNumber()),n=n.add(r),i++;return o}dh((e,t,r)=>{var n=+e,i=+t;return n+r*(i-n)});dh((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});dh((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var aO=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},nO=(e,t,r)=>{if(e.lte(0))return new Et(0);var n=tO(e.toNumber()),i=new Et(10).pow(n),o=e.div(i),c=n!==1?.05:.1,u=new Et(Math.ceil(o.div(c).toNumber())).add(r).mul(c),m=u.mul(i);return t?new Et(m.toNumber()):new Et(Math.ceil(m.toNumber()))},iG=(e,t,r)=>{var n=new Et(1),i=new Et(e);if(!i.isint()&&r){var o=Math.abs(e);o<1?(n=new Et(10).pow(tO(e)-1),i=new Et(Math.floor(i.div(n).toNumber())).mul(n)):o>1&&(i=new Et(Math.floor(e)))}else e===0?i=new Et(Math.floor((t-1)/2)):r||(i=new Et(Math.floor(e)));var c=Math.floor((t-1)/2),u=sG(nG(m=>i.add(new Et(m-c).mul(n)).toNumber()),qv);return u(0,t)},sO=function(t,r,n,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Et(0),tickMin:new Et(0),tickMax:new Et(0)};var c=nO(new Et(r).sub(t).div(n-1),i,o),u;t<=0&&r>=0?u=new Et(0):(u=new Et(t).add(r).div(2),u=u.sub(new Et(u).mod(c)));var m=Math.ceil(u.sub(t).div(c).toNumber()),f=Math.ceil(new Et(r).sub(u).div(c).toNumber()),g=m+f+1;return g>n?sO(t,r,n,i,o+1):(g<n&&(f=r>0?f+(n-g):f,m=r>0?m:m+(n-g)),{step:c,tickMin:u.sub(new Et(m).mul(c)),tickMax:u.add(new Et(f).mul(c))})};function lG(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(n,2),[c,u]=aO([t,r]);if(c===-1/0||u===1/0){var m=u===1/0?[c,...qv(0,n-1).map(()=>1/0)]:[...qv(0,n-1).map(()=>-1/0),u];return t>r?Wv(m):m}if(c===u)return iG(c,n,i);var{step:f,tickMin:g,tickMax:p}=sO(c,u,o,i,0),y=rO(g,p.add(new Et(.1).mul(f)),f);return t>r?Wv(y):y}function oG(e,t){var[r,n]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,c]=aO([r,n]);if(o===-1/0||c===1/0)return[r,n];if(o===c)return[o];var u=Math.max(t,2),m=nO(new Et(c).sub(o).div(u-1),i,0),f=[...rO(new Et(o),new Et(c),m),c];return i===!1&&(f=f.map(g=>Math.round(g))),r>n?Wv(f):f}var cG=eO(lG),dG=eO(oG),iO=e=>e.rootProps.maxBarSize,uG=e=>e.rootProps.barGap,lO=e=>e.rootProps.barCategoryGap,mG=e=>e.rootProps.barSize,uh=e=>e.rootProps.stackOffset,Kj=e=>e.options.chartName,Gj=e=>e.rootProps.syncId,oO=e=>e.rootProps.syncMethod,Xj=e=>e.options.eventEmitter,fs={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Na={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},mh=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},fG={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:fs.angleAxisId,includeHidden:!1,name:void 0,reversed:fs.reversed,scale:fs.scale,tick:fs.tick,tickCount:void 0,ticks:void 0,type:fs.type,unit:void 0},hG={allowDataOverflow:Na.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Na.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Na.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Na.scale,tick:Na.tick,tickCount:Na.tickCount,ticks:void 0,type:Na.type,unit:void 0},gG={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:fs.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:fs.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:fs.scale,tick:fs.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},pG={allowDataOverflow:Na.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Na.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Na.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Na.scale,tick:Na.tick,tickCount:Na.tickCount,ticks:void 0,type:"category",unit:void 0},Zj=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?gG:fG,Jj=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?pG:hG,fh=e=>e.polarOptions,Qj=ge([Ts,Es,Ar],oq),cO=ge([fh,Qj],(e,t)=>{if(e!=null)return yn(e.innerRadius,t,0)}),dO=ge([fh,Qj],(e,t)=>{if(e!=null)return yn(e.outerRadius,t,t*.8)}),xG=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},uO=ge([fh],xG);ge([Zj,uO],mh);var mO=ge([Qj,cO,dO],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});ge([Jj,mO],mh);var fO=ge([Ot,fh,cO,dO,Ts,Es],(e,t,r,n,i,o)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:c,cy:u,startAngle:m,endAngle:f}=t;return{cx:yn(c,i,i/2),cy:yn(u,o,o/2),innerRadius:r,outerRadius:n,startAngle:m,endAngle:f,clockWise:!1}}}),pr=(e,t)=>t,hh=(e,t,r)=>r;function e1(e){return e?.id}var wr=e=>{var t=Ot(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},dc=e=>e.tooltip.settings.axisId,Tr=e=>{var t=wr(e),r=dc(e);return mu(e,t,r)},hO=ge([Tr],e=>e?.dataKey);function gO(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:o}=r,c=new Map;return e.forEach(u=>{var m,f=(m=u.data)!==null&&m!==void 0?m:n;if(!(f==null||f.length===0)){var g=e1(u);f.forEach((p,y)=>{var j=o==null||i?y:String(Xr(p,o,null)),k=Xr(p,u.dataKey,0),b;c.has(j)?b=c.get(j):b={},Object.assign(b,{[g]:k}),c.set(j,b)})}}),Array.from(c.values())}function gh(e){return e.stackId!=null&&e.dataKey!=null}function sA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function r0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sA(Object(r),!0).forEach(function(n){yG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yG(e,t,r){return(t=vG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vG(e){var t=bG(e,"string");return typeof t=="symbol"?t:t+""}function bG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vv=[0,"auto"],ja={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},pO=(e,t)=>e.cartesianAxis.xAxis[t],Ms=(e,t)=>{var r=pO(e,t);return r??ja},wa={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Vv,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:lu},xO=(e,t)=>e.cartesianAxis.yAxis[t],Ps=(e,t)=>{var r=xO(e,t);return r??wa},jG={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},t1=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??jG},ua=(e,t,r)=>{switch(t){case"xAxis":return Ms(e,r);case"yAxis":return Ps(e,r);case"zAxis":return t1(e,r);case"angleAxis":return Zj(e,r);case"radiusAxis":return Jj(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},wG=(e,t,r)=>{switch(t){case"xAxis":return Ms(e,r);case"yAxis":return Ps(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},mu=(e,t,r)=>{switch(t){case"xAxis":return Ms(e,r);case"yAxis":return Ps(e,r);case"angleAxis":return Zj(e,r);case"radiusAxis":return Jj(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},yO=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function vO(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var r1=e=>e.graphicalItems.cartesianItems,NG=ge([pr,hh],vO),bO=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),fu=ge([r1,ua,NG],bO),jO=ge([fu],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(gh)),wO=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),NO=ge([fu],wO),kO=e=>e.map(t=>t.data).filter(Boolean).flat(1),kG=ge([fu],kO),SO=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},a1=ge([kG,Wj],SO),CO=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:Xr(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:Xr(i,n)}))):e.map(n=>({value:n})),ph=ge([a1,ua,fu],CO);function AO(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function El(e){return e.filter(t=>Hn(t)||t instanceof Date).map(Number).filter(t=>Ta(t)===!1)}function SG(e,t,r){return!r||typeof t!="number"||Ta(t)?[]:r.length?El(r.flatMap(n=>{var i=Xr(e,n.dataKey),o,c;if(Array.isArray(i)?[o,c]=i:o=c=i,!(!Oa(o)||!Oa(c)))return[t-o,t+c]})):[]}var CG=ge([jO,Wj,Tr],gO),DO=(e,t,r)=>{var n={},i=t.reduce((o,c)=>(c.stackId==null||(o[c.stackId]==null&&(o[c.stackId]=[]),o[c.stackId].push(c)),o),n);return Object.fromEntries(Object.entries(i).map(o=>{var[c,u]=o,m=u.map(e1);return[c,{stackedData:kq(e,m,r),graphicalItems:u}]}))},Yv=ge([CG,jO,uh],DO),TO=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:i}=t;if(r!=="zAxis"){var o=Tq(e,n,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},AG=ge([Yv,Ti,pr],TO),EO=(e,t,r,n,i)=>r.length>0?e.flatMap(o=>r.flatMap(c=>{var u,m,f=(u=n[c.id])===null||u===void 0?void 0:u.filter(p=>AO(i,p)),g=Xr(o,(m=t.dataKey)!==null&&m!==void 0?m:c.dataKey);return{value:g,errorDomain:SG(o,g,f)}})).filter(Boolean):t?.dataKey!=null?e.map(o=>({value:Xr(o,t.dataKey),errorDomain:[]})):e.map(o=>({value:o,errorDomain:[]})),xh=e=>e.errorBars,OO=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>AO(r,n));ge([NO,xh,pr],OO);var DG=ge([a1,ua,NO,xh,pr],EO);function TG(e){var{value:t}=e;if(Hn(t)||t instanceof Date)return t}var iA=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=El(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},EG=(e,t,r)=>{var n=e.map(TG).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&q3(n))?u6(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},n1=e=>{var t;if(e==null||!("domain"in e))return Vv;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=El(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:Vv},a0=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var o=i.flat(),c=Math.min(...o),u=Math.max(...o);return[c,u]}},MO=e=>e.referenceElements.dots,uc=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),OG=ge([MO,pr,hh],uc),PO=e=>e.referenceElements.areas,MG=ge([PO,pr,hh],uc),RO=e=>e.referenceElements.lines,PG=ge([RO,pr,hh],uc),_O=(e,t)=>{var r=El(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},RG=ge(OG,pr,_O),IO=(e,t)=>{var r=El(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},_G=ge([MG,pr],IO),LO=(e,t)=>{var r=El(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},IG=ge(PG,pr,LO),LG=ge(RG,IG,_G,(e,t,r)=>a0(e,r,t)),$G=ge([ua],n1),$O=(e,t,r,n,i,o,c)=>{var u=JK(t,e.allowDataOverflow);if(u!=null)return u;var m=o==="vertical"&&c==="xAxis"||o==="horizontal"&&c==="yAxis",f=m?a0(r,i,iA(n)):a0(i,iA(n));return QK(t,f,e.allowDataOverflow)},zG=ge([ua,$G,AG,DG,LG,Ot,pr],$O),UG=[0,1],zO=(e,t,r,n,i,o,c)=>{if(!((e==null||r==null||r.length===0)&&c===void 0)){var{dataKey:u,type:m}=e,f=Al(t,o);return f&&u==null?u6(0,r.length):m==="category"?EG(n,e,f):i==="expand"?UG:c}},s1=ge([ua,Ot,a1,ph,uh,pr,zG],zO),UO=(e,t,r,n,i)=>{if(e!=null){var{scale:o,type:c}=e;if(o==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":c==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":c==="category"?"band":"linear";if(typeof o=="string"){var u="scale".concat(nu(o));return u in jd?u:"point"}}},hu=ge([ua,Ot,yO,Kj,pr],UO);function BG(e){if(e!=null){if(e in jd)return jd[e]();var t="scale".concat(nu(e));if(t in jd)return jd[t]()}}function i1(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=BG(t);if(i!=null){var o=i.domain(r).range(n);return vq(o),o}}}var BO=(e,t,r)=>{var n=n1(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Bo(e))return cG(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Bo(e))return dG(e,t.tickCount,t.allowDecimals)}},l1=ge([s1,mu,hu],BO),HO=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&Bo(t)&&Array.isArray(r)&&r.length>0){var i=t[0],o=r[0],c=t[1],u=r[r.length-1];return[Math.min(i,o),Math.max(c,u)]}return t},HG=ge([ua,s1,l1,pr],HO),FG=ge(ph,ua,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(El(e.map(u=>u.value))).sort((u,m)=>u-m);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var o=0;o<n.length-1;o++){var c=n[o+1]-n[o];r=Math.min(r,c)}return r/i}}),FO=ge(FG,Ot,lO,Ar,(e,t,r,n)=>n,(e,t,r,n,i)=>{if(!Oa(e))return 0;var o=t==="vertical"?n.height:n.width;if(i==="gap")return e*o/2;if(i==="no-gap"){var c=yn(r,e*o),u=e*o/2;return u-c-(u-c)/o*c}return 0}),qG=(e,t)=>{var r=Ms(e,t);return r==null||typeof r.padding!="string"?0:FO(e,"xAxis",t,r.padding)},WG=(e,t)=>{var r=Ps(e,t);return r==null||typeof r.padding!="string"?0:FO(e,"yAxis",t,r.padding)},VG=ge(Ms,qG,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),YG=ge(Ps,WG,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),KG=ge([Ar,VG,ah,rh,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:o}=n;return i?[o.left,r.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),GG=ge([Ar,Ot,YG,ah,rh,(e,t,r)=>r],(e,t,r,n,i,o)=>{var{padding:c}=i;return o?[n.height-c.bottom,c.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),gu=(e,t,r,n)=>{var i;switch(t){case"xAxis":return KG(e,r,n);case"yAxis":return GG(e,r,n);case"zAxis":return(i=t1(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return uO(e);case"radiusAxis":return mO(e,r);default:return}},qO=ge([ua,gu],mh),mc=ge([ua,hu,HG,qO],i1);ge([fu,xh,pr],OO);function WO(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var yh=(e,t)=>t,vh=(e,t,r)=>r,XG=ge(eh,yh,vh,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(WO)),ZG=ge(th,yh,vh,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(WO)),VO=(e,t)=>({width:e.width,height:t.height}),JG=(e,t)=>{var r=typeof t.width=="number"?t.width:lu;return{width:r,height:e.height}},YO=ge(Ar,Ms,VO),QG=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},eX=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},tX=ge(Es,Ar,XG,yh,vh,(e,t,r,n,i)=>{var o={},c;return r.forEach(u=>{var m=VO(t,u);c==null&&(c=QG(t,n,e));var f=n==="top"&&!i||n==="bottom"&&i;o[u.id]=c-Number(f)*m.height,c+=(f?-1:1)*m.height}),o}),rX=ge(Ts,Ar,ZG,yh,vh,(e,t,r,n,i)=>{var o={},c;return r.forEach(u=>{var m=JG(t,u);c==null&&(c=eX(t,n,e));var f=n==="left"&&!i||n==="right"&&i;o[u.id]=c-Number(f)*m.width,c+=(f?-1:1)*m.width}),o}),aX=(e,t)=>{var r=Ms(e,t);if(r!=null)return tX(e,r.orientation,r.mirror)},nX=ge([Ar,Ms,aX,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r?.[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),sX=(e,t)=>{var r=Ps(e,t);if(r!=null)return rX(e,r.orientation,r.mirror)},iX=ge([Ar,Ps,sX,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r?.[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),KO=ge(Ar,Ps,(e,t)=>{var r=typeof t.width=="number"?t.width:lu;return{width:r,height:e.height}}),lA=(e,t,r)=>{switch(t){case"xAxis":return YO(e,r).width;case"yAxis":return KO(e,r).height;default:return}},GO=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:o,dataKey:c}=r,u=Al(e,n),m=t.map(f=>f.value);if(c&&u&&o==="category"&&i&&q3(m))return m}},o1=ge([Ot,ph,ua,pr],GO),XO=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:o}=r,c=Al(e,n);if(c&&(i==="number"||o!=="auto"))return t.map(u=>u.value)}},c1=ge([Ot,ph,mu,pr],XO),oA=ge([Ot,wG,hu,mc,o1,c1,gu,l1,pr],(e,t,r,n,i,o,c,u,m)=>{if(t==null)return null;var f=Al(e,m);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:m,categoricalDomain:o,duplicateDomain:i,isCategorical:f,niceTicks:u,range:c,realScaleType:r,scale:n}}),lX=(e,t,r,n,i,o,c,u,m)=>{if(!(t==null||n==null)){var f=Al(e,m),{type:g,ticks:p,tickCount:y}=t,j=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,k=g==="category"&&n.bandwidth?n.bandwidth()/j:0;k=m==="angleAxis"&&o!=null&&o.length>=2?oa(o[0]-o[1])*2*k:k;var b=p||i;if(b){var C=b.map((S,N)=>{var A=c?c.indexOf(S):S;return{index:N,coordinate:n(A)+k,value:S,offset:k}});return C.filter(S=>!Ta(S.coordinate))}return f&&u?u.map((S,N)=>({coordinate:n(S)+k,value:S,index:N,offset:k})):n.ticks?n.ticks(y).map(S=>({coordinate:n(S)+k,value:S,offset:k})):n.domain().map((S,N)=>({coordinate:n(S)+k,value:c?c[S]:S,index:N,offset:k}))}},ZO=ge([Ot,mu,hu,mc,l1,gu,o1,c1,pr],lX),oX=(e,t,r,n,i,o,c)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var u=Al(e,c),{tickCount:m}=t,f=0;return f=c==="angleAxis"&&n?.length>=2?oa(n[0]-n[1])*2*f:f,u&&o?o.map((g,p)=>({coordinate:r(g)+f,value:g,index:p,offset:f})):r.ticks?r.ticks(m).map(g=>({coordinate:r(g)+f,value:g,offset:f})):r.domain().map((g,p)=>({coordinate:r(g)+f,value:i?i[g]:g,index:p,offset:f}))}},Ho=ge([Ot,mu,mc,gu,o1,c1,pr],oX),Fo=ge(ua,mc,(e,t)=>{if(!(e==null||t==null))return r0(r0({},e),{},{scale:t})}),cX=ge([ua,hu,s1,qO],i1);ge((e,t,r)=>t1(e,r),cX,(e,t)=>{if(!(e==null||t==null))return r0(r0({},e),{},{scale:t})});var dX=ge([Ot,eh,th],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),JO=e=>e.options.defaultTooltipEventType,QO=e=>e.options.validateTooltipEventTypes;function e5(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function d1(e,t){var r=JO(e),n=QO(e);return e5(t,r,n)}function uX(e){return Xe(t=>d1(t,e))}var t5=(e,t)=>{var r,n=Number(t);if(!(Ta(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},mX=e=>e.tooltip.settings,gi={active:!1,index:null,dataKey:void 0,coordinate:void 0},fX={itemInteraction:{click:gi,hover:gi},axisInteraction:{click:gi,hover:gi},keyboardInteraction:gi,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},r5=Ma({name:"tooltip",initialState:fX,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=ys(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:hX,removeTooltipEntrySettings:gX,setTooltipSettingsState:pX,setActiveMouseOverItemIndex:a5,mouseLeaveItem:xX,mouseLeaveChart:n5,setActiveClickItemIndex:yX,setMouseOverAxisIndex:s5,setMouseClickAxisIndex:vX,setSyncInteraction:Kv,setKeyboardInteraction:Gv}=r5.actions,bX=r5.reducer;function cA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cA(Object(r),!0).forEach(function(n){jX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jX(e,t,r){return(t=wX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wX(e){var t=NX(e,"string");return typeof t=="symbol"?t:t+""}function NX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kX(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function SX(e){return e.index!=null}var i5=(e,t,r,n)=>{if(t==null)return gi;var i=kX(e,t,r);if(i==null)return gi;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var o=e.settings.active===!0;if(SX(i)){if(o)return rf(rf({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return rf(rf({},gi),{},{coordinate:i.coordinate})},u1=(e,t)=>{var r=e?.index;if(r==null)return null;var n=Number(r);if(!Oa(n))return r;var i=0,o=1/0;return t.length>0&&(o=t.length-1),String(Math.max(i,Math.min(n,o)))},l5=(e,t,r,n,i,o,c,u)=>{if(!(o==null||u==null)){var m=c[0],f=m==null?void 0:u(m.positions,o);if(f!=null)return f;var g=i?.[Number(o)];if(g)switch(r){case"horizontal":return{x:g.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:g.coordinate}}}},o5=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(o=>{var c;return((c=o.settings)===null||c===void 0?void 0:c.dataKey)===i})},pu=e=>e.options.tooltipPayloadSearcher,fc=e=>e.tooltip;function dA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function uA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dA(Object(r),!0).forEach(function(n){CX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CX(e,t,r){return(t=AX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AX(e){var t=DX(e,"string");return typeof t=="symbol"?t:t+""}function DX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TX(e,t){return e??t}var c5=(e,t,r,n,i,o,c)=>{if(!(t==null||o==null)){var{chartData:u,computedData:m,dataStartIndex:f,dataEndIndex:g}=r,p=[];return e.reduce((y,j)=>{var k,{dataDefinedOnItem:b,settings:C}=j,S=TX(b,u),N=Array.isArray(S)?GE(S,f,g):S,A=(k=C?.dataKey)!==null&&k!==void 0?k:n,E=C?.nameKey,T;if(n&&Array.isArray(N)&&!Array.isArray(N[0])&&c==="axis"?T=iB(N,n,i):T=o(N,t,m,E),Array.isArray(T))T.forEach(O=>{var U=uA(uA({},C),{},{name:O.name,unit:O.unit,color:void 0,fill:void 0});y.push(Y4({tooltipEntrySettings:U,dataKey:O.dataKey,payload:O.payload,value:Xr(O.payload,O.dataKey),name:O.name}))});else{var P;y.push(Y4({tooltipEntrySettings:C,dataKey:A,payload:T,value:Xr(T,A),name:(P=Xr(T,E))!==null&&P!==void 0?P:C?.name}))}return y},p)}},m1=ge([Tr,Ot,yO,Kj,wr],UO),EX=ge([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),OX=ge([wr,dc],vO),xu=ge([EX,Tr,OX],bO),MX=ge([xu],e=>e.filter(gh)),PX=ge([xu],kO),hc=ge([PX,Ti],SO),RX=ge([MX,Ti,Tr],gO),f1=ge([hc,Tr,xu],CO),_X=ge([Tr],n1),IX=ge([xu],e=>e.filter(gh)),LX=ge([RX,IX,uh],DO),$X=ge([LX,Ti,wr],TO),zX=ge([xu],wO),UX=ge([hc,Tr,zX,xh,wr],EO),BX=ge([MO,wr,dc],uc),HX=ge([BX,wr],_O),FX=ge([PO,wr,dc],uc),qX=ge([FX,wr],IO),WX=ge([RO,wr,dc],uc),VX=ge([WX,wr],LO),YX=ge([HX,VX,qX],a0),KX=ge([Tr,_X,$X,UX,YX,Ot,wr],$O),d5=ge([Tr,Ot,hc,f1,uh,wr,KX],zO),GX=ge([d5,Tr,m1],BO),XX=ge([Tr,d5,GX,wr],HO),u5=e=>{var t=wr(e),r=dc(e),n=!1;return gu(e,t,r,n)},m5=ge([Tr,u5],mh),f5=ge([Tr,m1,XX,m5],i1),ZX=ge([Ot,f1,Tr,wr],GO),JX=ge([Ot,f1,Tr,wr],XO),QX=(e,t,r,n,i,o,c,u)=>{if(t){var{type:m}=t,f=Al(e,u);if(n){var g=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,p=m==="category"&&n.bandwidth?n.bandwidth()/g:0;return p=u==="angleAxis"&&i!=null&&i?.length>=2?oa(i[0]-i[1])*2*p:p,f&&c?c.map((y,j)=>({coordinate:n(y)+p,value:y,index:j,offset:p})):n.domain().map((y,j)=>({coordinate:n(y)+p,value:o?o[y]:y,index:j,offset:p}))}}},Rs=ge([Ot,Tr,m1,f5,u5,ZX,JX,wr],QX),h1=ge([JO,QO,mX],(e,t,r)=>e5(r.shared,e,t)),h5=e=>e.tooltip.settings.trigger,g1=e=>e.tooltip.settings.defaultIndex,bh=ge([fc,h1,h5,g1],i5),qo=ge([bh,hc],u1),g5=ge([Rs,qo],t5),p5=ge([bh],e=>{if(e)return e.dataKey}),x5=ge([fc,h1,h5,g1],o5),eZ=ge([Ts,Es,Ot,Ar,Rs,g1,x5,pu],l5),tZ=ge([bh,eZ],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),rZ=ge([bh],e=>e.active),aZ=ge([x5,qo,Ti,hO,g5,pu,h1],c5);ge([aZ],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function mA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mA(Object(r),!0).forEach(function(n){nZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nZ(e,t,r){return(t=sZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sZ(e){var t=iZ(e,"string");return typeof t=="symbol"?t:t+""}function iZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lZ=()=>Xe(Tr),oZ=()=>{var e=lZ(),t=Xe(Rs),r=Xe(f5);return fj(fA(fA({},e),{},{scale:r}),t)},cZ=()=>Xe(Kj),p1=(e,t)=>t,y5=(e,t,r)=>r,x1=(e,t,r,n)=>n,dZ=ge(Rs,e=>K0(e,t=>t.coordinate)),y1=ge([fc,p1,y5,x1],i5),v5=ge([y1,hc],u1),uZ=(e,t,r)=>{if(t!=null){var n=fc(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},b5=ge([fc,p1,y5,x1],o5),n0=ge([Ts,Es,Ot,Ar,Rs,x1,b5,pu],l5),mZ=ge([y1,n0],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),j5=ge(Rs,v5,t5),fZ=ge([b5,v5,Ti,hO,j5,pu,p1],c5),hZ=ge([y1],e=>({isActive:e.active,activeIndex:e.index})),gZ=(e,t,r,n,i,o,c,u)=>{if(!(!e||!t||!n||!i||!o)){var m=Eq(e.chartX,e.chartY,t,r,u);if(m){var f=Mq(m,t),g=xq(f,c,o,n,i),p=Oq(t,o,g,m);return{activeIndex:String(g),activeCoordinate:p}}}};function Xv(){return Xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xv.apply(null,arguments)}function hA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function af(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hA(Object(r),!0).forEach(function(n){pZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pZ(e,t,r){return(t=xZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xZ(e){var t=yZ(e,"string");return typeof t=="symbol"?t:t+""}function yZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vZ(e){var{coordinate:t,payload:r,index:n,offset:i,tooltipAxisBandSize:o,layout:c,cursor:u,tooltipEventType:m,chartName:f}=e,g=t,p=r,y=n;if(!u||!g||f!=="ScatterChart"&&m!=="axis")return null;var j,k;if(f==="ScatterChart")j=g,k=LW;else if(f==="BarChart")j=$W(c,g,i,o),k=l6;else if(c==="radial"){var{cx:b,cy:C,radius:S,startAngle:N,endAngle:A}=o6(g);j={cx:b,cy:C,startAngle:N,endAngle:A,innerRadius:S,outerRadius:S},k=d6}else j={points:xV(c,g,i)},k=DW;var E=typeof u=="object"&&"className"in u?u.className:void 0,T=af(af(af(af({stroke:"#ccc",pointerEvents:"none"},i),j),zr(u,!1)),{},{payload:p,payloadIndex:y,className:It("recharts-tooltip-cursor",E)});return x.isValidElement(u)?x.cloneElement(u,T):x.createElement(k,T)}function bZ(e){var t=oZ(),r=e6(),n=yj(),i=cZ();return x.createElement(vZ,Xv({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var w5=x.createContext(null),jZ=()=>x.useContext(w5),Sy={exports:{}},gA;function wZ(){return gA||(gA=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(m,f,g){this.fn=m,this.context=f,this.once=g||!1}function o(m,f,g,p,y){if(typeof g!="function")throw new TypeError("The listener must be a function");var j=new i(g,p||m,y),k=r?r+f:f;return m._events[k]?m._events[k].fn?m._events[k]=[m._events[k],j]:m._events[k].push(j):(m._events[k]=j,m._eventsCount++),m}function c(m,f){--m._eventsCount===0?m._events=new n:delete m._events[f]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],g,p;if(this._eventsCount===0)return f;for(p in g=this._events)t.call(g,p)&&f.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(g)):f},u.prototype.listeners=function(f){var g=r?r+f:f,p=this._events[g];if(!p)return[];if(p.fn)return[p.fn];for(var y=0,j=p.length,k=new Array(j);y<j;y++)k[y]=p[y].fn;return k},u.prototype.listenerCount=function(f){var g=r?r+f:f,p=this._events[g];return p?p.fn?1:p.length:0},u.prototype.emit=function(f,g,p,y,j,k){var b=r?r+f:f;if(!this._events[b])return!1;var C=this._events[b],S=arguments.length,N,A;if(C.fn){switch(C.once&&this.removeListener(f,C.fn,void 0,!0),S){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,g),!0;case 3:return C.fn.call(C.context,g,p),!0;case 4:return C.fn.call(C.context,g,p,y),!0;case 5:return C.fn.call(C.context,g,p,y,j),!0;case 6:return C.fn.call(C.context,g,p,y,j,k),!0}for(A=1,N=new Array(S-1);A<S;A++)N[A-1]=arguments[A];C.fn.apply(C.context,N)}else{var E=C.length,T;for(A=0;A<E;A++)switch(C[A].once&&this.removeListener(f,C[A].fn,void 0,!0),S){case 1:C[A].fn.call(C[A].context);break;case 2:C[A].fn.call(C[A].context,g);break;case 3:C[A].fn.call(C[A].context,g,p);break;case 4:C[A].fn.call(C[A].context,g,p,y);break;default:if(!N)for(T=1,N=new Array(S-1);T<S;T++)N[T-1]=arguments[T];C[A].fn.apply(C[A].context,N)}}return!0},u.prototype.on=function(f,g,p){return o(this,f,g,p,!1)},u.prototype.once=function(f,g,p){return o(this,f,g,p,!0)},u.prototype.removeListener=function(f,g,p,y){var j=r?r+f:f;if(!this._events[j])return this;if(!g)return c(this,j),this;var k=this._events[j];if(k.fn)k.fn===g&&(!y||k.once)&&(!p||k.context===p)&&c(this,j);else{for(var b=0,C=[],S=k.length;b<S;b++)(k[b].fn!==g||y&&!k[b].once||p&&k[b].context!==p)&&C.push(k[b]);C.length?this._events[j]=C.length===1?C[0]:C:c(this,j)}return this},u.prototype.removeAllListeners=function(f){var g;return f?(g=r?r+f:f,this._events[g]&&c(this,g)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u})(Sy)),Sy.exports}var NZ=wZ();const kZ=vn(NZ);var Kd=new kZ,Zv="recharts.syncEvent.tooltip",pA="recharts.syncEvent.brush";function SZ(e,t){if(t){var r=Number.parseInt(t,10);if(!Ta(r))return e?.[r]}}var CZ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},N5=Ma({name:"options",initialState:CZ,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),AZ=N5.reducer,{createEventEmitter:DZ}=N5.actions;function TZ(e){return e.tooltip.syncInteraction}var EZ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},k5=Ma({name:"chartData",initialState:EZ,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:xA,setDataStartEndIndexes:OZ,setComputedData:Hie}=k5.actions,MZ=k5.reducer,PZ=["x","y"];function yA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yA(Object(r),!0).forEach(function(n){RZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RZ(e,t,r){return(t=_Z(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Z(e){var t=IZ(e,"string");return typeof t=="symbol"?t:t+""}function IZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LZ(e,t){if(e==null)return{};var r,n,i=$Z(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function $Z(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var S5=()=>{};function zZ(){var e=Xe(Gj),t=Xe(Xj),r=gr(),n=Xe(oO),i=Xe(Rs),o=yj(),c=gj(),u=Xe(m=>m.rootProps.className);x.useEffect(()=>{if(e==null)return S5;var m=(f,g,p)=>{if(t!==p&&e===f){if(n==="index"){var y;if(c&&g!==null&&g!==void 0&&(y=g.payload)!==null&&y!==void 0&&y.coordinate){var j=g.payload.coordinate,{x:k,y:b}=j,C=LZ(j,PZ),S=Zi(Zi(Zi({},C),typeof k=="number"&&{x:Math.max(c.x,Math.min(k,c.x+c.width))}),typeof b=="number"&&{y:Math.max(c.y,Math.min(b,c.y+c.height))}),N=Zi(Zi({},g),{},{payload:Zi(Zi({},g.payload),{},{coordinate:S})});r(N)}else r(g);return}if(i!=null){var A;if(typeof n=="function"){var E={activeTooltipIndex:g.payload.index==null?void 0:Number(g.payload.index),isTooltipActive:g.payload.active,activeIndex:g.payload.index==null?void 0:Number(g.payload.index),activeLabel:g.payload.label,activeDataKey:g.payload.dataKey,activeCoordinate:g.payload.coordinate},T=n(i,E);A=i[T]}else n==="value"&&(A=i.find(H=>String(H.value)===g.payload.label));var{coordinate:P}=g.payload;if(A==null||g.payload.active===!1||P==null||c==null){r(Kv({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:O,y:U}=P,X=Math.min(O,c.x+c.width),ie=Math.min(U,c.y+c.height),W={x:o==="horizontal"?A.coordinate:X,y:o==="horizontal"?ie:A.coordinate},G=Kv({active:g.payload.active,coordinate:W,dataKey:g.payload.dataKey,index:String(A.index),label:g.payload.label});r(G)}}};return Kd.on(Zv,m),()=>{Kd.off(Zv,m)}},[u,r,t,e,n,i,o,c])}function UZ(){var e=Xe(Gj),t=Xe(Xj),r=gr();x.useEffect(()=>{if(e==null)return S5;var n=(i,o,c)=>{t!==c&&e===i&&r(OZ(o))};return Kd.on(pA,n),()=>{Kd.off(pA,n)}},[r,t,e])}function BZ(){var e=gr();x.useEffect(()=>{e(DZ())},[e]),zZ(),UZ()}function HZ(e,t,r,n,i,o){var c=Xe(y=>uZ(y,e,t)),u=Xe(Xj),m=Xe(Gj),f=Xe(oO),g=Xe(TZ),p=g?.active;x.useEffect(()=>{if(!p&&m!=null&&u!=null){var y=Kv({active:o,coordinate:r,dataKey:c,index:i,label:typeof n=="number"?String(n):n});Kd.emit(Zv,m,y,u)}},[p,r,c,i,n,u,m,f,o])}function vA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vA(Object(r),!0).forEach(function(n){FZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FZ(e,t,r){return(t=qZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qZ(e){var t=WZ(e,"string");return typeof t=="symbol"?t:t+""}function WZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VZ(e){return e.dataKey}function YZ(e,t){return x.isValidElement(e)?x.cloneElement(e,t):typeof e=="function"?x.createElement(e,t):x.createElement(hW,t)}var jA=[],KZ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!ic.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Jv(e){var t=rn(e,KZ),{active:r,allowEscapeViewBox:n,animationDuration:i,animationEasing:o,content:c,filterNull:u,isAnimationActive:m,offset:f,payloadUniqBy:g,position:p,reverseDirection:y,useTranslate3d:j,wrapperStyle:k,cursor:b,shared:C,trigger:S,defaultIndex:N,portal:A,axisId:E}=t,T=gr(),P=typeof N=="number"?String(N):N;x.useEffect(()=>{T(pX({shared:C,trigger:S,axisId:E,active:r,defaultIndex:P}))},[T,C,S,E,r,P]);var O=gj(),U=r6(),X=uX(C),{activeIndex:ie,isActive:W}=Xe(ye=>hZ(ye,X,S,P)),G=Xe(ye=>fZ(ye,X,S,P)),H=Xe(ye=>j5(ye,X,S,P)),Q=Xe(ye=>mZ(ye,X,S,P)),te=G,$=jZ(),V=r??W,[re,K]=kE([te,V]),J=X==="axis"?H:void 0;HZ(X,S,Q,J,ie,V);var I=A??$;if(I==null)return null;var L=te??jA;V||(L=jA),u&&L.length&&(L=vE(te.filter(ye=>ye.value!=null&&(ye.hide!==!0||t.includeHidden)),g,VZ));var me=L.length>0,Z=x.createElement(jW,{allowEscapeViewBox:n,animationDuration:i,animationEasing:o,isAnimationActive:m,active:V,coordinate:Q,hasPayload:me,offset:f,position:p,reverseDirection:y,useTranslate3d:j,viewBox:O,wrapperStyle:k,lastBoundingBox:re,innerRef:K,hasPortalFromProps:!!A},YZ(c,bA(bA({},t),{},{payload:L,label:J,active:V,coordinate:Q,accessibilityLayer:U})));return x.createElement(x.Fragment,null,Sl.createPortal(Z,I),V&&x.createElement(bZ,{cursor:b,tooltipEventType:X,coordinate:Q,payload:te,index:ie}))}var Cy={},Ay={},Dy={},wA;function GZ(){return wA||(wA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:o}={}){let c,u=null;const m=o!=null&&o.includes("leading"),f=o==null||o.includes("trailing"),g=()=>{u!==null&&(r.apply(c,u),c=void 0,u=null)},p=()=>{f&&g(),b()};let y=null;const j=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,p()},n)},k=()=>{y!==null&&(clearTimeout(y),y=null)},b=()=>{k(),c=void 0,u=null},C=()=>{g()},S=function(...N){if(i?.aborted)return;c=this,u=N;const A=y==null;j(),m&&A&&g()};return S.schedule=j,S.cancel=b,S.flush=C,i?.addEventListener("abort",b,{once:!0}),S}e.debounce=t})(Dy)),Dy}var NA;function XZ(){return NA||(NA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GZ();function r(n,i=0,o={}){typeof o!="object"&&(o={});const{leading:c=!1,trailing:u=!0,maxWait:m}=o,f=Array(2);c&&(f[0]="leading"),u&&(f[1]="trailing");let g,p=null;const y=t.debounce(function(...b){g=n.apply(this,b),p=null},i,{edges:f}),j=function(...b){return m!=null&&(p===null&&(p=Date.now()),Date.now()-p>=m)?(g=n.apply(this,b),p=Date.now(),y.cancel(),y.schedule(),g):(y.apply(this,b),g)},k=()=>(y.flush(),g);return j.cancel=y.cancel,j.flush=k,j}e.debounce=r})(Ay)),Ay}var kA;function ZZ(){return kA||(kA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XZ();function r(n,i=0,o={}){const{leading:c=!0,trailing:u=!0}=o;return t.debounce(n,i,{leading:c,maxWait:i,trailing:u})}e.throttle=r})(Cy)),Cy}var Ty,SA;function JZ(){return SA||(SA=1,Ty=ZZ().throttle),Ty}var QZ=JZ();const eJ=vn(QZ);var Sd=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o]};function CA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ey(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CA(Object(r),!0).forEach(function(n){tJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tJ(e,t,r){return(t=rJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rJ(e){var t=aJ(e,"string");return typeof t=="symbol"?t:t+""}function aJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qv=x.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i="100%",height:o="100%",minWidth:c=0,minHeight:u,maxHeight:m,children:f,debounce:g=0,id:p,className:y,onResize:j,style:k={}}=e,b=x.useRef(null),C=x.useRef();C.current=j,x.useImperativeHandle(t,()=>b.current);var[S,N]=x.useState({containerWidth:n.width,containerHeight:n.height}),A=x.useCallback((T,P)=>{N(O=>{var U=Math.round(T),X=Math.round(P);return O.containerWidth===U&&O.containerHeight===X?O:{containerWidth:U,containerHeight:X}})},[]);x.useEffect(()=>{var T=X=>{var ie,{width:W,height:G}=X[0].contentRect;A(W,G),(ie=C.current)===null||ie===void 0||ie.call(C,W,G)};g>0&&(T=eJ(T,g,{trailing:!0,leading:!1}));var P=new ResizeObserver(T),{width:O,height:U}=b.current.getBoundingClientRect();return A(O,U),P.observe(b.current),()=>{P.disconnect()}},[A,g]);var E=x.useMemo(()=>{var{containerWidth:T,containerHeight:P}=S;if(T<0||P<0)return null;Sd(sl(i)||sl(o),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,o),Sd(!r||r>0,"The aspect(%s) must be greater than zero.",r);var O=sl(i)?T:i,U=sl(o)?P:o;return r&&r>0&&(O?U=O/r:U&&(O=U*r),m&&U>m&&(U=m)),Sd(O>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,U,i,o,c,u,r),x.Children.map(f,X=>x.cloneElement(X,{width:O,height:U,style:Ey({width:O,height:U},X.props.style)}))},[r,f,o,m,u,c,S,i]);return x.createElement("div",{id:p?"".concat(p):void 0,className:It("recharts-responsive-container",y),style:Ey(Ey({},k),{},{width:i,height:o,minWidth:c,minHeight:u,maxHeight:m}),ref:b},x.createElement("div",{style:{width:0,height:0,overflow:"visible"}},E))}),C5=e=>null;C5.displayName="Cell";function nJ(e,t,r){return(t=sJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sJ(e){var t=iJ(e,"string");return typeof t=="symbol"?t:t+""}function iJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class lJ{constructor(t){nJ(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function AA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function oJ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AA(Object(r),!0).forEach(function(n){cJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cJ(e,t,r){return(t=dJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dJ(e){var t=uJ(e,"string");return typeof t=="symbol"?t:t+""}function uJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mJ={cacheSize:2e3,enableCache:!0},A5=oJ({},mJ),DA=new lJ(A5.cacheSize),fJ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},TA="recharts_measurement_span";function hJ(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",o=t.fontStyle||"",c=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(o,"|").concat(c,"|").concat(u)}var EA=(e,t)=>{try{var r=document.getElementById(TA);r||(r=document.createElement("span"),r.setAttribute("id",TA),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,fJ,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Cd=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ic.isSsr)return{width:0,height:0};if(!A5.enableCache)return EA(t,r);var n=hJ(t,r),i=DA.get(n);if(i)return i;var o=EA(t,r);return DA.set(n,o),o},OA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,MA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,gJ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,pJ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,D5={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},xJ=Object.keys(D5),No="NaN";function yJ(e,t){return e*D5[t]}class na{static parse(t){var r,[,n,i]=(r=pJ.exec(t))!==null&&r!==void 0?r:[];return new na(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Ta(t)&&(this.unit=""),r!==""&&!gJ.test(r)&&(this.num=NaN,this.unit=""),xJ.includes(r)&&(this.num=yJ(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new na(NaN,""):new na(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new na(NaN,""):new na(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new na(NaN,""):new na(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new na(NaN,""):new na(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ta(this.num)}}function T5(e){if(e.includes(No))return No;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,o]=(r=OA.exec(t))!==null&&r!==void 0?r:[],c=na.parse(n??""),u=na.parse(o??""),m=i==="*"?c.multiply(u):c.divide(u);if(m.isNaN())return No;t=t.replace(OA,m.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,g,p,y]=(f=MA.exec(t))!==null&&f!==void 0?f:[],j=na.parse(g??""),k=na.parse(y??""),b=p==="+"?j.add(k):j.subtract(k);if(b.isNaN())return No;t=t.replace(MA,b.toString())}return t}var PA=/\(([^()]*)\)/;function vJ(e){for(var t=e,r;(r=PA.exec(t))!=null;){var[,n]=r;t=t.replace(PA,T5(n))}return t}function bJ(e){var t=e.replace(/\s+/g,"");return t=vJ(t),t=T5(t),t}function jJ(e){try{return bJ(e)}catch{return No}}function Oy(e){var t=jJ(e.slice(5,-1));return t===No?"":t}var wJ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],NJ=["dx","dy","angle","className","breakAll"];function eb(){return eb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eb.apply(null,arguments)}function RA(e,t){if(e==null)return{};var r,n,i=kJ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function kJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var E5=/[ \f\n\r\t\v\u2028\u2029]+/,O5=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];Cr(t)||(r?i=t.toString().split(""):i=t.toString().split(E5));var o=i.map(u=>({word:u,width:Cd(u,n).width})),c=r?0:Cd("",n).width;return{wordsWithComputedWidth:o,spaceWidth:c}}catch{return null}},SJ=(e,t,r,n,i)=>{var{maxLines:o,children:c,style:u,breakAll:m}=e,f=Ze(o),g=c,p=function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return W.reduce((G,H)=>{var{word:Q,width:te}=H,$=G[G.length-1];if($&&(n==null||i||$.width+te+r<Number(n)))$.words.push(Q),$.width+=te+r;else{var V={words:[Q],width:te};G.push(V)}return G},[])},y=p(t),j=ie=>ie.reduce((W,G)=>W.width>G.width?W:G);if(!f||i)return y;var k=y.length>o||j(y).width>Number(n);if(!k)return y;for(var b="",C=ie=>{var W=g.slice(0,ie),G=O5({breakAll:m,style:u,children:W+b}).wordsWithComputedWidth,H=p(G),Q=H.length>o||j(H).width>Number(n);return[Q,H]},S=0,N=g.length-1,A=0,E;S<=N&&A<=g.length-1;){var T=Math.floor((S+N)/2),P=T-1,[O,U]=C(P),[X]=C(T);if(!O&&!X&&(S=T+1),O&&X&&(N=T-1),!O&&X){E=U;break}A++}return E||y},_A=e=>{var t=Cr(e)?[]:e.toString().split(E5);return[{words:t}]},CJ=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:o,maxLines:c}=e;if((t||r)&&!ic.isSsr){var u,m,f=O5({breakAll:o,children:n,style:i});if(f){var{wordsWithComputedWidth:g,spaceWidth:p}=f;u=g,m=p}else return _A(n);return SJ({breakAll:o,children:n,maxLines:c,style:i},u,m,t,r)}return _A(n)},IA="#808080",v1=x.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:i="1em",capHeight:o="0.71em",scaleToFit:c=!1,textAnchor:u="start",verticalAnchor:m="end",fill:f=IA}=e,g=RA(e,wJ),p=x.useMemo(()=>CJ({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:c,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,c,g.style,g.width]),{dx:y,dy:j,angle:k,className:b,breakAll:C}=g,S=RA(g,NJ);if(!Hn(r)||!Hn(n)||p.length===0)return null;var N=r+(Ze(y)?y:0),A=n+(Ze(j)?j:0),E;switch(m){case"start":E=Oy("calc(".concat(o,")"));break;case"middle":E=Oy("calc(".concat((p.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:E=Oy("calc(".concat(p.length-1," * -").concat(i,")"));break}var T=[];if(c){var P=p[0].width,{width:O}=g;T.push("scale(".concat(Ze(O)?O/P:1,")"))}return k&&T.push("rotate(".concat(k,", ").concat(N,", ").concat(A,")")),T.length&&(S.transform=T.join(" ")),x.createElement("text",eb({},zr(S,!0),{ref:t,x:N,y:A,className:It("recharts-text",b),textAnchor:u,fill:f.includes("url")?IA:f}),p.map((U,X)=>{var ie=U.words.join(C?"":" ");return x.createElement("tspan",{x:N,dy:X===0?E:i,key:"".concat(ie,"-").concat(X)},ie)}))});v1.displayName="Text";var AJ=["labelRef"];function DJ(e,t){if(e==null)return{};var r,n,i=TJ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function TJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function LA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LA(Object(r),!0).forEach(function(n){EJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EJ(e,t,r){return(t=OJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OJ(e){var t=MJ(e,"string");return typeof t=="symbol"?t:t+""}function MJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hs(){return hs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hs.apply(null,arguments)}var M5=x.createContext(null),PJ=e=>{var{x:t,y:r,width:n,height:i,children:o}=e,c=x.useMemo(()=>({x:t,y:r,width:n,height:i}),[t,r,n,i]);return x.createElement(M5.Provider,{value:c},o)},P5=()=>{var e=x.useContext(M5),t=gj();return e||t},RJ=x.createContext(null),_J=()=>{var e=x.useContext(RJ),t=Xe(fO);return e||t},IJ=e=>{var{value:t,formatter:r}=e,n=Cr(e.children)?t:e.children;return typeof r=="function"?r(n):n},b1=e=>e!=null&&typeof e=="function",LJ=(e,t)=>{var r=oa(t-e),n=Math.min(Math.abs(t-e),360);return r*n},$J=(e,t,r,n,i)=>{var{offset:o,className:c}=e,{cx:u,cy:m,innerRadius:f,outerRadius:g,startAngle:p,endAngle:y,clockWise:j}=i,k=(f+g)/2,b=LJ(p,y),C=b>=0?1:-1,S,N;switch(t){case"insideStart":S=p+C*o,N=j;break;case"insideEnd":S=y-C*o,N=!j;break;case"end":S=y+C*o,N=j;break;default:throw new Error("Unsupported position ".concat(t))}N=b<=0?N:!N;var A=Lr(u,m,k,S),E=Lr(u,m,k,S+(N?1:-1)*359),T="M".concat(A.x,",").concat(A.y,`
    A`).concat(k,",").concat(k,",0,1,").concat(N?0:1,`,
    `).concat(E.x,",").concat(E.y),P=Cr(e.id)?zd("recharts-radial-line-"):e.id;return x.createElement("text",hs({},n,{dominantBaseline:"central",className:It("recharts-radial-bar-label",c)}),x.createElement("defs",null,x.createElement("path",{id:P,d:T})),x.createElement("textPath",{xlinkHref:"#".concat(P)},r))},zJ=(e,t,r)=>{var{cx:n,cy:i,innerRadius:o,outerRadius:c,startAngle:u,endAngle:m}=e,f=(u+m)/2;if(r==="outside"){var{x:g,y:p}=Lr(n,i,c+t,f);return{x:g,y:p,textAnchor:g>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var y=(o+c)/2,{x:j,y:k}=Lr(n,i,y,f);return{x:j,y:k,textAnchor:"middle",verticalAnchor:"middle"}},R5=e=>"cx"in e&&Ze(e.cx),UJ=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,o;r!=null&&!R5(r)&&(o=r);var{x:c,y:u,width:m,height:f}=t,g=f>=0?1:-1,p=g*n,y=g>0?"end":"start",j=g>0?"start":"end",k=m>=0?1:-1,b=k*n,C=k>0?"end":"start",S=k>0?"start":"end";if(i==="top"){var N={x:c+m/2,y:u-g*n,textAnchor:"middle",verticalAnchor:y};return ir(ir({},N),o?{height:Math.max(u-o.y,0),width:m}:{})}if(i==="bottom"){var A={x:c+m/2,y:u+f+p,textAnchor:"middle",verticalAnchor:j};return ir(ir({},A),o?{height:Math.max(o.y+o.height-(u+f),0),width:m}:{})}if(i==="left"){var E={x:c-b,y:u+f/2,textAnchor:C,verticalAnchor:"middle"};return ir(ir({},E),o?{width:Math.max(E.x-o.x,0),height:f}:{})}if(i==="right"){var T={x:c+m+b,y:u+f/2,textAnchor:S,verticalAnchor:"middle"};return ir(ir({},T),o?{width:Math.max(o.x+o.width-T.x,0),height:f}:{})}var P=o?{width:m,height:f}:{};return i==="insideLeft"?ir({x:c+b,y:u+f/2,textAnchor:S,verticalAnchor:"middle"},P):i==="insideRight"?ir({x:c+m-b,y:u+f/2,textAnchor:C,verticalAnchor:"middle"},P):i==="insideTop"?ir({x:c+m/2,y:u+p,textAnchor:"middle",verticalAnchor:j},P):i==="insideBottom"?ir({x:c+m/2,y:u+f-p,textAnchor:"middle",verticalAnchor:y},P):i==="insideTopLeft"?ir({x:c+b,y:u+p,textAnchor:S,verticalAnchor:j},P):i==="insideTopRight"?ir({x:c+m-b,y:u+p,textAnchor:C,verticalAnchor:j},P):i==="insideBottomLeft"?ir({x:c+b,y:u+f-p,textAnchor:S,verticalAnchor:y},P):i==="insideBottomRight"?ir({x:c+m-b,y:u+f-p,textAnchor:C,verticalAnchor:y},P):i&&typeof i=="object"&&(Ze(i.x)||sl(i.x))&&(Ze(i.y)||sl(i.y))?ir({x:c+yn(i.x,m),y:u+yn(i.y,f),textAnchor:"end",verticalAnchor:"end"},P):ir({x:c+m/2,y:u+f/2,textAnchor:"middle",verticalAnchor:"middle"},P)},BJ={offset:5};function fi(e){var t=rn(e,BJ),{viewBox:r,position:n,value:i,children:o,content:c,className:u="",textBreakAll:m,labelRef:f}=t,g=_J(),p=P5(),y=n==="center"?p:g??p,j=r||y;if(!j||Cr(i)&&Cr(o)&&!x.isValidElement(c)&&typeof c!="function")return null;var k=ir(ir({},t),{},{viewBox:j});if(x.isValidElement(c)){var{labelRef:b}=k,C=DJ(k,AJ);return x.cloneElement(c,C)}var S;if(typeof c=="function"){if(S=x.createElement(c,k),x.isValidElement(S))return S}else S=IJ(t);var N=R5(j),A=zr(t,!0);if(N&&(n==="insideStart"||n==="insideEnd"||n==="end"))return $J(t,n,S,A,j);var E=N?zJ(j,t.offset,t.position):UJ(t,j);return x.createElement(v1,hs({ref:f,className:It("recharts-label",u)},A,E,{breakAll:m}),S)}fi.displayName="Label";var HJ=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?x.createElement(fi,hs({key:"label-implicit"},n)):Hn(e)?x.createElement(fi,hs({key:"label-implicit",value:e},n)):x.isValidElement(e)?e.type===fi?x.cloneElement(e,ir({key:"label-implicit"},n)):x.createElement(fi,hs({key:"label-implicit",content:e},n)):b1(e)?x.createElement(fi,hs({key:"label-implicit",content:e},n)):e&&typeof e=="object"?x.createElement(fi,hs({},e,{key:"label-implicit"},n)):null};function FJ(e){var{label:t}=e,r=P5();return HJ(t,r)||null}var My={},Py={},$A;function qJ(){return $A||($A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(Py)),Py}var Ry={},zA;function WJ(){return zA||(zA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(Ry)),Ry}var UA;function VJ(){return UA||(UA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qJ(),r=WJ(),n=sj();function i(o){if(n.isArrayLike(o))return t.last(r.toArray(o))}e.last=i})(My)),My}var _y,BA;function YJ(){return BA||(BA=1,_y=VJ().last),_y}var KJ=YJ();const GJ=vn(KJ);var XJ=["valueAccessor"],ZJ=["dataKey","clockWise","id","textBreakAll"];function s0(){return s0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s0.apply(null,arguments)}function HA(e,t){if(e==null)return{};var r,n,i=JJ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function JJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var QJ=e=>Array.isArray(e.value)?GJ(e.value):e.value,_5=x.createContext(void 0),eQ=_5.Provider,I5=x.createContext(void 0);I5.Provider;function tQ(){return x.useContext(_5)}function rQ(){return x.useContext(I5)}function ff(e){var{valueAccessor:t=QJ}=e,r=HA(e,XJ),{dataKey:n,clockWise:i,id:o,textBreakAll:c}=r,u=HA(r,ZJ),m=tQ(),f=rQ(),g=m||f;return!g||!g.length?null:x.createElement(Ni,{className:"recharts-label-list"},g.map((p,y)=>{var j,k=Cr(n)?t(p,y):Xr(p&&p.payload,n),b=Cr(o)?{}:{id:"".concat(o,"-").concat(y)};return x.createElement(fi,s0({},zr(p,!0),u,b,{fill:(j=r.fill)!==null&&j!==void 0?j:p.fill,parentViewBox:p.parentViewBox,value:k,textBreakAll:c,viewBox:p.viewBox,key:"label-".concat(y),index:y}))}))}ff.displayName="LabelList";function aQ(e){var{label:t}=e;return t?t===!0?x.createElement(ff,{key:"labelList-implicit"}):x.isValidElement(t)||b1(t)?x.createElement(ff,{key:"labelList-implicit",content:t}):typeof t=="object"?x.createElement(ff,s0({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var nQ={radiusAxis:{},angleAxis:{}},L5=Ma({name:"polarAxis",initialState:nQ,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Fie,removeRadiusAxis:qie,addAngleAxis:Wie,removeAngleAxis:Vie}=L5.actions,sQ=L5.reducer,Iy={},FA;function iQ(){return FA||(FA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(Iy)),Iy}var Ly,qA;function lQ(){return qA||(qA=1,Ly=iQ().isPlainObject),Ly}var oQ=lQ();const cQ=vn(oQ);function WA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function VA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WA(Object(r),!0).forEach(function(n){dQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dQ(e,t,r){return(t=uQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uQ(e){var t=mQ(e,"string");return typeof t=="symbol"?t:t+""}function mQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function i0(){return i0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i0.apply(null,arguments)}var YA=(e,t,r,n,i)=>{var o=r-n,c;return c="M ".concat(e,",").concat(t),c+="L ".concat(e+r,",").concat(t),c+="L ".concat(e+r-o/2,",").concat(t+i),c+="L ".concat(e+r-o/2-n,",").concat(t+i),c+="L ".concat(e,",").concat(t," Z"),c},fQ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},hQ=e=>{var t=rn(e,fQ),{x:r,y:n,upperWidth:i,lowerWidth:o,height:c,className:u}=t,{animationEasing:m,animationDuration:f,animationBegin:g,isUpdateAnimationActive:p}=t,y=x.useRef(),[j,k]=x.useState(-1),b=x.useRef(i),C=x.useRef(o),S=x.useRef(c),N=x.useRef(r),A=x.useRef(n),E=jj(e,"trapezoid-");if(x.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var Q=y.current.getTotalLength();Q&&k(Q)}catch{}},[]),r!==+r||n!==+n||i!==+i||o!==+o||c!==+c||i===0&&o===0||c===0)return null;var T=It("recharts-trapezoid",u);if(!p)return x.createElement("g",null,x.createElement("path",i0({},zr(t,!0),{className:T,d:YA(r,n,i,o,c)})));var P=b.current,O=C.current,U=S.current,X=N.current,ie=A.current,W="0px ".concat(j===-1?1:j,"px"),G="".concat(j,"px 0px"),H=a6(["strokeDasharray"],f,m);return x.createElement(bj,{animationId:E,key:E,canBegin:j>0,duration:f,easing:m,isActive:p,begin:g},Q=>{var te=Yr(P,i,Q),$=Yr(O,o,Q),V=Yr(U,c,Q),re=Yr(X,r,Q),K=Yr(ie,n,Q);y.current&&(b.current=te,C.current=$,S.current=V,N.current=re,A.current=K);var J=Q>0?{transition:H,strokeDasharray:G}:{strokeDasharray:W};return x.createElement("path",i0({},zr(t,!0),{className:T,d:YA(re,K,te,$,V),ref:y,style:VA(VA({},J),t.style)}))})},gQ=["option","shapeType","propTransformer","activeClassName","isActive"];function pQ(e,t){if(e==null)return{};var r,n,i=xQ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function xQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function KA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function l0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KA(Object(r),!0).forEach(function(n){yQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yQ(e,t,r){return(t=vQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vQ(e){var t=bQ(e,"string");return typeof t=="symbol"?t:t+""}function bQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jQ(e,t){return l0(l0({},t),e)}function wQ(e,t){return e==="symbols"}function GA(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return x.createElement(l6,r);case"trapezoid":return x.createElement(hQ,r);case"sector":return x.createElement(d6,r);case"symbols":if(wQ(t))return x.createElement(rj,r);break;default:return null}}function NQ(e){return x.isValidElement(e)?e.props:e}function kQ(e){var{option:t,shapeType:r,propTransformer:n=jQ,activeClassName:i="recharts-active-shape",isActive:o}=e,c=pQ(e,gQ),u;if(x.isValidElement(t))u=x.cloneElement(t,l0(l0({},c),NQ(t)));else if(typeof t=="function")u=t(c);else if(cQ(t)&&typeof t!="boolean"){var m=n(t,c);u=x.createElement(GA,{shapeType:r,elementProps:m})}else{var f=c;u=x.createElement(GA,{shapeType:r,elementProps:f})}return o?x.createElement(Ni,{className:i},u):u}var $5=(e,t)=>{var r=gr();return(n,i)=>o=>{e?.(n,i,o),r(a5({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},z5=e=>{var t=gr();return(r,n)=>i=>{e?.(r,n,i),t(xX())}},U5=(e,t)=>{var r=gr();return(n,i)=>o=>{e?.(n,i,o),r(yX({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function SQ(e){var{fn:t,args:r}=e,n=gr(),i=tn();return x.useEffect(()=>{if(!i){var o=t(r);return n(hX(o)),()=>{n(gX(o))}}},[t,r,n,i]),null}var CQ=()=>{};function AQ(e){var{legendPayload:t}=e,r=gr(),n=tn();return x.useEffect(()=>n?CQ:(r(Xq(t)),()=>{r(Zq(t))}),[r,n,t]),null}var $y,DQ=()=>{var[e]=x.useState(()=>zd("uid-"));return e},TQ=($y=hb.useId)!==null&&$y!==void 0?$y:DQ;function EQ(e,t){var r=TQ();return t||(e?"".concat(e,"-").concat(r):r)}var OQ=x.createContext(void 0),MQ=e=>{var{id:t,type:r,children:n}=e,i=EQ("recharts-".concat(r),t);return x.createElement(OQ.Provider,{value:i},n(i))},PQ={cartesianItems:[],polarItems:[]},B5=Ma({name:"graphicalItems",initialState:PQ,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,i=ys(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},removeCartesianGraphicalItem(e,t){var r=ys(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=ys(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:RQ,replaceCartesianGraphicalItem:_Q,removeCartesianGraphicalItem:IQ,addPolarGraphicalItem:Yie,removePolarGraphicalItem:Kie}=B5.actions,LQ=B5.reducer;function $Q(e){var t=gr(),r=x.useRef(null);return x.useEffect(()=>{r.current===null?t(RQ(e)):r.current!==e&&t(_Q({prev:r.current,next:e})),r.current=e},[t,e]),x.useEffect(()=>()=>{r.current&&(t(IQ(r.current)),r.current=null)},[t]),null}function XA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ZA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XA(Object(r),!0).forEach(function(n){zQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zQ(e,t,r){return(t=UQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UQ(e){var t=BQ(e,"string");return typeof t=="symbol"?t:t+""}function BQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HQ={xAxis:{},yAxis:{},zAxis:{}},H5=Ma({name:"cartesianAxis",initialState:HQ,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=ZA(ZA({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:FQ,removeXAxis:qQ,addYAxis:WQ,removeYAxis:VQ,addZAxis:Gie,removeZAxis:Xie,updateYAxisWidth:YQ}=H5.actions,KQ=H5.reducer,GQ=ge([Ar],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),XQ=ge([GQ,Ts,Es],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),F5=()=>Xe(XQ),ZQ="Invariant failed";function JQ(e,t){throw new Error(ZQ)}var QQ=["x","y"];function tb(){return tb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tb.apply(null,arguments)}function JA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JA(Object(r),!0).forEach(function(n){eee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eee(e,t,r){return(t=tee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tee(e){var t=ree(e,"string");return typeof t=="symbol"?t:t+""}function ree(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aee(e,t){if(e==null)return{};var r,n,i=nee(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function nee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function see(e,t){var{x:r,y:n}=e,i=aee(e,QQ),o="".concat(r),c=parseInt(o,10),u="".concat(n),m=parseInt(u,10),f="".concat(t.height||i.height),g=parseInt(f,10),p="".concat(t.width||i.width),y=parseInt(p,10);return pd(pd(pd(pd(pd({},t),i),c?{x:c}:{}),m?{y:m}:{}),{},{height:g,width:y,name:t.name,radius:t.radius})}function j1(e){return x.createElement(kQ,tb({shapeType:"rectangle",propTransformer:see,activeClassName:"recharts-active-bar"},e))}var iee=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(Ze(t))return t;var o=Ze(n)||Cr(n);return o?t(n,i):(o||JQ(),r)}},lee={},q5=Ma({name:"errorBars",initialState:lee,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(o=>o.dataKey===n.dataKey&&o.direction===n.direction?i:o))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:Zie,replaceErrorBar:Jie,removeErrorBar:Qie}=q5.actions,oee=q5.reducer,cee=["children"];function dee(e,t){if(e==null)return{};var r,n,i=uee(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function uee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var mee={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},fee=x.createContext(mee);function hee(e){var{children:t}=e,r=dee(e,cee);return x.createElement(fee.Provider,{value:r},t)}function W5(e,t){var r,n,i=Xe(f=>Ms(f,e)),o=Xe(f=>Ps(f,t)),c=(r=i?.allowDataOverflow)!==null&&r!==void 0?r:ja.allowDataOverflow,u=(n=o?.allowDataOverflow)!==null&&n!==void 0?n:wa.allowDataOverflow,m=c||u;return{needClip:m,needClipX:c,needClipY:u}}function gee(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=F5(),{needClipX:o,needClipY:c,needClip:u}=W5(t,r);if(!u)return null;var{x:m,y:f,width:g,height:p}=i;return x.createElement("clipPath",{id:"clipPath-".concat(n)},x.createElement("rect",{x:o?m:m-g/2,y:c?f:f-p/2,width:o?g:g*2,height:c?p:p*2}))}var pee=["onMouseEnter","onMouseLeave","onClick"],xee=["value","background","tooltipPosition"],yee=["id"],vee=["onMouseEnter","onClick","onMouseLeave"];function ki(){return ki=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ki.apply(null,arguments)}function QA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QA(Object(r),!0).forEach(function(n){bee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bee(e,t,r){return(t=jee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jee(e){var t=wee(e,"string");return typeof t=="symbol"?t:t+""}function wee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function o0(e,t){if(e==null)return{};var r,n,i=Nee(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Nee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var kee=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:n,value:JE(r,t),payload:e}]};function See(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:o,hide:c,unit:u}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:JE(o,t),hide:c,type:e.tooltipType,color:e.fill,unit:u}}}function Cee(e){var t=Xe(qo),{data:r,dataKey:n,background:i,allOtherBarProps:o}=e,{onMouseEnter:c,onMouseLeave:u,onClick:m}=o,f=o0(o,pee),g=$5(c,n),p=z5(u),y=U5(m,n);if(!i||r==null)return null;var j=zr(i,!1);return x.createElement(x.Fragment,null,r.map((k,b)=>{var{value:C,background:S,tooltipPosition:N}=k,A=o0(k,xee);if(!S)return null;var E=g(k,b),T=p(k,b),P=y(k,b),O=Kr(Kr(Kr(Kr(Kr({option:i,isActive:String(b)===t},A),{},{fill:"#eee"},S),j),q0(f,k,b)),{},{onMouseEnter:E,onMouseLeave:T,onClick:P,dataKey:n,index:b,className:"recharts-bar-background-rectangle"});return x.createElement(j1,ki({key:"background-bar-".concat(O.index)},O))}))}function Aee(e){var{showLabels:t,children:r,rects:n}=e,i=n?.map(o=>{var c={x:o.x,y:o.y,width:o.width,height:o.height};return Kr(Kr({},c),{},{value:o.value,payload:o.payload,parentViewBox:o.parentViewBox,viewBox:c,fill:o.fill})});return x.createElement(eQ,{value:t?i:void 0},r)}function Dee(e){var{shape:t,activeBar:r,baseProps:n,entry:i,index:o,dataKey:c}=e,u=Xe(qo),m=Xe(p5),f=r&&String(o)===u&&(m==null||c===m),g=f?r:t;return x.createElement(j1,ki({},n,i,{isActive:f,option:g,index:o,dataKey:c}))}function Tee(e){var{shape:t,baseProps:r,entry:n,index:i,dataKey:o}=e;return x.createElement(j1,ki({},r,n,{isActive:!1,option:t,index:i,dataKey:o}))}function Eee(e){var{data:t,props:r}=e,n=sc(r),{id:i}=n,o=o0(n,yee),{shape:c,dataKey:u,activeBar:m}=r,{onMouseEnter:f,onClick:g,onMouseLeave:p}=r,y=o0(r,vee),j=$5(f,u),k=z5(p),b=U5(g,u);return t?x.createElement(x.Fragment,null,t.map((C,S)=>x.createElement(Ni,ki({className:"recharts-bar-rectangle"},q0(y,C,S),{onMouseEnter:j(C,S),onMouseLeave:k(C,S),onClick:b(C,S),key:"rectangle-".concat(C?.x,"-").concat(C?.y,"-").concat(C?.value,"-").concat(S)}),m?x.createElement(Dee,{shape:c,activeBar:m,baseProps:o,entry:C,index:S,dataKey:u}):x.createElement(Tee,{shape:c,baseProps:o,entry:C,index:S,dataKey:u})))):null}function Oee(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:o,animationBegin:c,animationDuration:u,animationEasing:m,onAnimationEnd:f,onAnimationStart:g}=t,p=r.current,y=jj(t,"recharts-bar-"),[j,k]=x.useState(!1),b=!j,C=x.useCallback(()=>{typeof f=="function"&&f(),k(!1)},[f]),S=x.useCallback(()=>{typeof g=="function"&&g(),k(!0)},[g]);return x.createElement(Aee,{showLabels:b,rects:n},x.createElement(bj,{animationId:y,begin:c,duration:u,isActive:o,easing:m,onAnimationEnd:C,onAnimationStart:S,key:y},N=>{var A=N===1?n:n?.map((E,T)=>{var P=p&&p[T];if(P)return Kr(Kr({},E),{},{x:Yr(P.x,E.x,N),y:Yr(P.y,E.y,N),width:Yr(P.width,E.width,N),height:Yr(P.height,E.height,N)});if(i==="horizontal"){var O=Yr(0,E.height,N);return Kr(Kr({},E),{},{y:E.y+E.height-O,height:O})}var U=Yr(0,E.width,N);return Kr(Kr({},E),{},{width:U})});return N>0&&(r.current=A??null),A==null?null:x.createElement(Ni,null,x.createElement(Eee,{props:t,data:A}))}),x.createElement(aQ,{label:t.label}),t.children)}function Mee(e){var t=x.useRef(null);return x.createElement(Oee,{previousRectanglesRef:t,props:e})}var V5=0,Pee=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Xr(e,t)}};class Ree extends x.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:o,yAxisId:c,needClip:u,background:m,id:f}=this.props;if(t||r==null)return null;var g=It("recharts-bar",i),p=f;return x.createElement(Ni,{className:g,id:f},u&&x.createElement("defs",null,x.createElement(gee,{clipPathId:p,xAxisId:o,yAxisId:c})),x.createElement(Ni,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(p,")"):void 0},x.createElement(Cee,{data:r,dataKey:n,background:m,allOtherBarProps:this.props}),x.createElement(Mee,this.props)))}}var _ee={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!ic.isSsr,legendType:"rect",minPointSize:V5,xAxisId:0,yAxisId:0};function Iee(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:o,activeBar:c,animationBegin:u,animationDuration:m,animationEasing:f,isAnimationActive:g}=e,{needClip:p}=W5(t,r),y=yj(),j=tn(),k=mB(e.children,C5),b=Xe(N=>dte(N,t,r,j,e.id,k));if(y!=="vertical"&&y!=="horizontal")return null;var C,S=b?.[0];return S==null||S.height==null||S.width==null?C=0:C=y==="vertical"?S.height/2:S.width/2,x.createElement(hee,{xAxisId:t,yAxisId:r,data:b,dataPointFormatter:Pee,errorBarOffset:C},x.createElement(Ree,ki({},e,{layout:y,needClip:p,data:b,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:o,activeBar:c,animationBegin:u,animationDuration:m,animationEasing:f,isAnimationActive:g})))}function Lee(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:o,xAxis:c,yAxis:u,xAxisTicks:m,yAxisTicks:f,stackedData:g,displayedData:p,offset:y,cells:j,parentViewBox:k}=e,b=t==="horizontal"?u:c,C=g?b.scale.domain():null,S=Cq({numericAxis:b});return p.map((N,A)=>{var E,T,P,O,U,X;g?E=bq(g[A],C):(E=Xr(N,r),Array.isArray(E)||(E=[S,E]));var ie=iee(n,V5)(E[1],A);if(t==="horizontal"){var W,[G,H]=[u.scale(E[0]),u.scale(E[1])];T=q4({axis:c,ticks:m,bandSize:o,offset:i.offset,entry:N,index:A}),P=(W=H??G)!==null&&W!==void 0?W:void 0,O=i.size;var Q=G-H;if(U=Ta(Q)?0:Q,X={x:T,y:y.top,width:O,height:y.height},Math.abs(ie)>0&&Math.abs(U)<Math.abs(ie)){var te=oa(U||ie)*(Math.abs(ie)-Math.abs(U));P-=te,U+=te}}else{var[$,V]=[c.scale(E[0]),c.scale(E[1])];if(T=$,P=q4({axis:u,ticks:f,bandSize:o,offset:i.offset,entry:N,index:A}),O=V-$,U=i.size,X={x:y.left,y:P,width:y.width,height:U},Math.abs(ie)>0&&Math.abs(O)<Math.abs(ie)){var re=oa(O||ie)*(Math.abs(ie)-Math.abs(O));O+=re}}if(T==null||P==null||O==null||U==null)return null;var K=Kr(Kr({},N),{},{x:T,y:P,width:O,height:U,value:g?E:E[1],payload:N,background:X,tooltipPosition:{x:T+O/2,y:P+U/2},parentViewBox:k},j&&j[A]&&j[A].props);return K}).filter(Boolean)}function $ee(e){var t=rn(e,_ee),r=tn();return x.createElement(MQ,{id:t.id,type:"bar"},n=>x.createElement(x.Fragment,null,x.createElement(AQ,{legendPayload:kee(t)}),x.createElement(SQ,{fn:See,args:t}),x.createElement($Q,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:Sq(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),x.createElement(Iee,ki({},t,{id:n}))))}var Rn=x.memo($ee);Rn.displayName="Bar";function eD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eD(Object(r),!0).forEach(function(n){zee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zee(e,t,r){return(t=Uee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uee(e){var t=Bee(e,"string");return typeof t=="symbol"?t:t+""}function Bee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hee=(e,t)=>t,Fee=(e,t,r)=>r,qee=(e,t,r,n)=>n,Wee=(e,t,r,n,i)=>i,yu=ge([r1,Wee],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),Vee=ge([yu],e=>e?.maxBarSize),Yee=(e,t,r,n,i,o)=>o,tD=(e,t,r)=>{var n=r??e;if(!Cr(n))return yn(n,t,0)},Kee=ge([Ot,r1,Hee,Fee,qee],(e,t,r,n,i)=>t.filter(o=>e==="horizontal"?o.xAxisId===r:o.yAxisId===n).filter(o=>o.isPanorama===i).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),Gee=(e,t,r,n)=>{var i=Ot(e);return i==="horizontal"?Yv(e,"yAxis",r,n):Yv(e,"xAxis",t,n)},Xee=(e,t,r)=>{var n=Ot(e);return n==="horizontal"?lA(e,"xAxis",t):lA(e,"yAxis",r)},Zee=(e,t,r)=>{var n={},i=e.filter(gh),o=e.filter(f=>f.stackId==null),c=i.reduce((f,g)=>(f[g.stackId]||(f[g.stackId]=[]),f[g.stackId].push(g),f),n),u=Object.entries(c).map(f=>{var[g,p]=f,y=p.map(k=>k.dataKey),j=tD(t,r,p[0].barSize);return{stackId:g,dataKeys:y,barSize:j}}),m=o.map(f=>{var g=[f.dataKey].filter(y=>y!=null),p=tD(t,r,f.barSize);return{stackId:void 0,dataKeys:g,barSize:p}});return[...u,...m]},Jee=ge([Kee,mG,Xee],Zee),Qee=(e,t,r,n,i)=>{var o,c,u=yu(e,t,r,n,i);if(u!=null){var m=Ot(e),f=iO(e),{maxBarSize:g}=u,p=Cr(g)?f:g,y,j;return m==="horizontal"?(y=Fo(e,"xAxis",t,n),j=Ho(e,"xAxis",t,n)):(y=Fo(e,"yAxis",r,n),j=Ho(e,"yAxis",r,n)),(o=(c=fj(y,j,!0))!==null&&c!==void 0?c:p)!==null&&o!==void 0?o:0}},Y5=(e,t,r,n)=>{var i=Ot(e),o,c;return i==="horizontal"?(o=Fo(e,"xAxis",t,n),c=Ho(e,"xAxis",t,n)):(o=Fo(e,"yAxis",r,n),c=Ho(e,"yAxis",r,n)),fj(o,c)};function ete(e,t,r,n,i){var o=n.length;if(!(o<1)){var c=yn(e,r,0,!0),u,m=[];if(Oa(n[0].barSize)){var f=!1,g=r/o,p=n.reduce((S,N)=>S+(N.barSize||0),0);p+=(o-1)*c,p>=r&&(p-=(o-1)*c,c=0),p>=r&&g>0&&(f=!0,g*=.9,p=o*g);var y=(r-p)/2>>0,j={offset:y-c,size:0};u=n.reduce((S,N)=>{var A,E={stackId:N.stackId,dataKeys:N.dataKeys,position:{offset:j.offset+j.size+c,size:f?g:(A=N.barSize)!==null&&A!==void 0?A:0}},T=[...S,E];return j=T[T.length-1].position,T},m)}else{var k=yn(t,r,0,!0);r-2*k-(o-1)*c<=0&&(c=0);var b=(r-2*k-(o-1)*c)/o;b>1&&(b>>=0);var C=Oa(i)?Math.min(b,i):b;u=n.reduce((S,N,A)=>[...S,{stackId:N.stackId,dataKeys:N.dataKeys,position:{offset:k+(b+c)*A+(b-C)/2,size:C}}],m)}return u}}var tte=(e,t,r,n,i,o,c)=>{var u=Cr(c)?t:c,m=ete(r,n,i!==o?i:o,e,u);return i!==o&&m!=null&&(m=m.map(f=>nf(nf({},f),{},{position:nf(nf({},f.position),{},{offset:f.position.offset-i/2})}))),m},rte=ge([Jee,iO,uG,lO,Qee,Y5,Vee],tte),ate=(e,t,r,n)=>Fo(e,"xAxis",t,n),nte=(e,t,r,n)=>Fo(e,"yAxis",r,n),ste=(e,t,r,n)=>Ho(e,"xAxis",t,n),ite=(e,t,r,n)=>Ho(e,"yAxis",r,n),lte=ge([rte,yu],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),ote=(e,t)=>{var r=e1(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:o}=i;if(o)return o.find(c=>c.key===r)}}}},cte=ge([Gee,yu],ote),dte=ge([Ar,hj,ate,nte,ste,ite,lte,Ot,Wj,Y5,cte,yu,Yee],(e,t,r,n,i,o,c,u,m,f,g,p,y)=>{var{chartData:j,dataStartIndex:k,dataEndIndex:b}=m;if(!(p==null||c==null||t==null||u!=="horizontal"&&u!=="vertical"||r==null||n==null||i==null||o==null||f==null)){var{data:C}=p,S;if(C!=null&&C.length>0?S=C:S=j?.slice(k,b+1),S!=null)return Lee({layout:u,barSettings:p,pos:c,parentViewBox:t,bandSize:f,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:o,stackedData:g,displayedData:S,offset:e,cells:y})}}),ute=e=>{var{chartData:t}=e,r=gr(),n=tn();return x.useEffect(()=>n?()=>{}:(r(xA(t)),()=>{r(xA(void 0))}),[t,r,n]),null},rD={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},K5=Ma({name:"brush",initialState:rD,reducers:{setBrushSettings(e,t){return t.payload==null?rD:t.payload}}}),{setBrushSettings:ele}=K5.actions,mte=K5.reducer;function fte(e,t,r){return(t=hte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hte(e){var t=gte(e,"string");return typeof t=="symbol"?t:t+""}function gte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class w1{static create(t){return new w1(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(t)+o}default:return this.scale(t)}if(r){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+c}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}fte(w1,"EPS",1e-4);function pte(e){return(e%180+180)%180}var xte=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=pte(i),c=o*Math.PI/180,u=Math.atan(n/r),m=c>u&&c<Math.PI-u?n/Math.sin(c):r/Math.cos(c);return Math.abs(m)},yte={dots:[],areas:[],lines:[]},G5=Ma({name:"referenceElements",initialState:yte,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=ys(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=ys(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=ys(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:tle,removeDot:rle,addArea:ale,removeArea:nle,addLine:sle,removeLine:ile}=G5.actions,vte=G5.reducer,bte=x.createContext(void 0),jte=e=>{var{children:t}=e,[r]=x.useState("".concat(zd("recharts"),"-clip")),n=F5();if(n==null)return null;var{x:i,y:o,width:c,height:u}=n;return x.createElement(bte.Provider,{value:r},x.createElement("defs",null,x.createElement("clipPath",{id:r},x.createElement("rect",{x:i,y:o,height:u,width:c}))),t)};function Wo(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function X5(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function wte(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return xte(n,r)}function Nte(e,t,r){var n=r==="width",{x:i,y:o,width:c,height:u}=e;return t===1?{start:n?i:o,end:n?i+c:o+u}:{start:n?i+c:o+u,end:n?i:o}}function c0(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var o=r();return e*(t-e*o/2-n)>=0&&e*(t+e*o/2-i)<=0}function kte(e,t){return X5(e,t+1)}function Ste(e,t,r,n,i){for(var o=(n||[]).slice(),{start:c,end:u}=t,m=0,f=1,g=c,p=function(){var k=n?.[m];if(k===void 0)return{v:X5(n,f)};var b=m,C,S=()=>(C===void 0&&(C=r(k,b)),C),N=k.coordinate,A=m===0||c0(e,N,S,g,u);A||(m=0,g=c,f+=1),A&&(g=N+e*(S()/2+i),m+=f)},y;f<=o.length;)if(y=p(),y)return y.v;return[]}function aD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aD(Object(r),!0).forEach(function(n){Cte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cte(e,t,r){return(t=Ate(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ate(e){var t=Dte(e,"string");return typeof t=="symbol"?t:t+""}function Dte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tte(e,t,r,n,i){for(var o=(n||[]).slice(),c=o.length,{start:u}=t,{end:m}=t,f=function(y){var j=o[y],k,b=()=>(k===void 0&&(k=r(j,y)),k);if(y===c-1){var C=e*(j.coordinate+e*b()/2-m);o[y]=j=Fr(Fr({},j),{},{tickCoord:C>0?j.coordinate-C*e:j.coordinate})}else o[y]=j=Fr(Fr({},j),{},{tickCoord:j.coordinate});var S=c0(e,j.tickCoord,b,u,m);S&&(m=j.tickCoord-e*(b()/2+i),o[y]=Fr(Fr({},j),{},{isShow:!0}))},g=c-1;g>=0;g--)f(g);return o}function Ete(e,t,r,n,i,o){var c=(n||[]).slice(),u=c.length,{start:m,end:f}=t;if(o){var g=n[u-1],p=r(g,u-1),y=e*(g.coordinate+e*p/2-f);c[u-1]=g=Fr(Fr({},g),{},{tickCoord:y>0?g.coordinate-y*e:g.coordinate});var j=c0(e,g.tickCoord,()=>p,m,f);j&&(f=g.tickCoord-e*(p/2+i),c[u-1]=Fr(Fr({},g),{},{isShow:!0}))}for(var k=o?u-1:u,b=function(N){var A=c[N],E,T=()=>(E===void 0&&(E=r(A,N)),E);if(N===0){var P=e*(A.coordinate-e*T()/2-m);c[N]=A=Fr(Fr({},A),{},{tickCoord:P<0?A.coordinate-P*e:A.coordinate})}else c[N]=A=Fr(Fr({},A),{},{tickCoord:A.coordinate});var O=c0(e,A.tickCoord,T,m,f);O&&(m=A.tickCoord+e*(T()/2+i),c[N]=Fr(Fr({},A),{},{isShow:!0}))},C=0;C<k;C++)b(C);return c}function N1(e,t,r){var{tick:n,ticks:i,viewBox:o,minTickGap:c,orientation:u,interval:m,tickFormatter:f,unit:g,angle:p}=e;if(!i||!i.length||!n)return[];if(Ze(m)||ic.isSsr){var y;return(y=kte(i,Ze(m)?m:0))!==null&&y!==void 0?y:[]}var j=[],k=u==="top"||u==="bottom"?"width":"height",b=g&&k==="width"?Cd(g,{fontSize:t,letterSpacing:r}):{width:0,height:0},C=(A,E)=>{var T=typeof f=="function"?f(A.value,E):A.value;return k==="width"?wte(Cd(T,{fontSize:t,letterSpacing:r}),b,p):Cd(T,{fontSize:t,letterSpacing:r})[k]},S=i.length>=2?oa(i[1].coordinate-i[0].coordinate):1,N=Nte(o,S,k);return m==="equidistantPreserveStart"?Ste(S,N,C,i,c):(m==="preserveStart"||m==="preserveStartEnd"?j=Ete(S,N,C,i,c,m==="preserveStartEnd"):j=Tte(S,N,C,i,c),j.filter(A=>A.isShow))}var Ote=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:o=0}=e,c=0;if(t){t.forEach(g=>{if(g){var p=g.getBoundingClientRect();p.width>c&&(c=p.width)}});var u=r?r.getBoundingClientRect().width:0,m=i+o,f=c+m+u+(r?n:0);return Math.round(f)}return 0},Mte=["axisLine","width","height","className","hide","ticks"],Pte=["viewBox"],Rte=["viewBox"];function rb(e,t){if(e==null)return{};var r,n,i=_te(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function _te(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function wl(){return wl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wl.apply(null,arguments)}function nD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function br(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nD(Object(r),!0).forEach(function(n){Ite(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ite(e,t,r){return(t=Lte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lte(e){var t=$te(e,"string");return typeof t=="symbol"?t:t+""}function $te(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var k1={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function zte(e){var{x:t,y:r,width:n,height:i,orientation:o,mirror:c,axisLine:u,otherSvgProps:m}=e;if(!u)return null;var f=br(br(br({},m),zr(u,!1)),{},{fill:"none"});if(o==="top"||o==="bottom"){var g=+(o==="top"&&!c||o==="bottom"&&c);f=br(br({},f),{},{x1:t,y1:r+g*i,x2:t+n,y2:r+g*i})}else{var p=+(o==="left"&&!c||o==="right"&&c);f=br(br({},f),{},{x1:t+p*n,y1:r,x2:t+p*n,y2:r+i})}return x.createElement("line",wl({},f,{className:It("recharts-cartesian-axis-line",Po(u,"className"))}))}function Ute(e,t,r,n,i,o,c,u,m){var f,g,p,y,j,k,b=u?-1:1,C=e.tickSize||c,S=Ze(e.tickCoord)?e.tickCoord:e.coordinate;switch(o){case"top":f=g=e.coordinate,y=r+ +!u*i,p=y-b*C,k=p-b*m,j=S;break;case"left":p=y=e.coordinate,g=t+ +!u*n,f=g-b*C,j=f-b*m,k=S;break;case"right":p=y=e.coordinate,g=t+ +u*n,f=g+b*C,j=f+b*m,k=S;break;default:f=g=e.coordinate,y=r+ +u*i,p=y+b*C,k=p+b*m,j=S;break}return{line:{x1:f,y1:p,x2:g,y2:y},tick:{x:j,y:k}}}function Bte(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Hte(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Fte(e){var{option:t,tickProps:r,value:n}=e,i,o=It(r.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(t))i=x.cloneElement(t,br(br({},r),{},{className:o}));else if(typeof t=="function")i=t(br(br({},r),{},{className:o}));else{var c="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(c=It(c,t?.className)),i=x.createElement(v1,wl({},r,{className:c}),n)}return i}function qte(e){var{ticks:t=[],tick:r,tickLine:n,stroke:i,tickFormatter:o,unit:c,padding:u,tickTextProps:m,orientation:f,mirror:g,x:p,y,width:j,height:k,tickSize:b,tickMargin:C,fontSize:S,letterSpacing:N,getTicksConfig:A,events:E}=e,T=N1(br(br({},A),{},{ticks:t}),S,N),P=Bte(f,g),O=Hte(f,g),U=sc(A),X=zr(r,!1),ie=br(br({},U),{},{fill:"none"},zr(n,!1)),W=T.map((G,H)=>{var{line:Q,tick:te}=Ute(G,p,y,j,k,f,b,g,C),$=br(br(br(br({textAnchor:P,verticalAnchor:O},U),{},{stroke:"none",fill:i},X),te),{},{index:H,payload:G,visibleTicksCount:T.length,tickFormatter:o,padding:u},m);return x.createElement(Ni,wl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(G.value,"-").concat(G.coordinate,"-").concat(G.tickCoord)},q0(E,G,H)),n&&x.createElement("line",wl({},ie,Q,{className:It("recharts-cartesian-axis-tick-line",Po(n,"className"))})),r&&x.createElement(Fte,{option:r,tickProps:$,value:"".concat(typeof o=="function"?o(G.value,H):G.value).concat(c||"")}))});return W.length>0?x.createElement("g",{className:"recharts-cartesian-axis-ticks"},W):null}var Wte=x.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:o,hide:c,ticks:u}=e,m=rb(e,Mte),[f,g]=x.useState(""),[p,y]=x.useState(""),j=x.useRef([]);x.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var b;return Ote({ticks:j.current,label:(b=e.labelRef)===null||b===void 0?void 0:b.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var k=x.useCallback(b=>{if(b){var C=b.getElementsByClassName("recharts-cartesian-axis-tick-value");j.current=Array.from(C);var S=C[0];if(S){var N=window.getComputedStyle(S),A=N.fontSize,E=N.letterSpacing;(A!==f||E!==p)&&(g(A),y(E))}}},[f,p]);return c||n!=null&&n<=0||i!=null&&i<=0?null:x.createElement(Ni,{className:It("recharts-cartesian-axis",o),ref:k},x.createElement(zte,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:sc(e)}),x.createElement(qte,{ticks:u,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:f,letterSpacing:p,getTicksConfig:e,events:m}),x.createElement(PJ,{x:e.x,y:e.y,width:e.width,height:e.height},x.createElement(FJ,{label:e.label}),e.children))}),Vte=x.memo(Wte,(e,t)=>{var{viewBox:r}=e,n=rb(e,Pte),{viewBox:i}=t,o=rb(t,Rte);return Wo(r,i)&&Wo(n,o)}),S1=x.forwardRef((e,t)=>{var r=rn(e,k1);return x.createElement(Vte,wl({},r,{ref:t}))});S1.displayName="CartesianAxis";var Yte=["x1","y1","x2","y2","key"],Kte=["offset"],Gte=["xAxisId","yAxisId"],Xte=["xAxisId","yAxisId"];function sD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sD(Object(r),!0).forEach(function(n){Zte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zte(e,t,r){return(t=Jte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jte(e){var t=Qte(e,"string");return typeof t=="symbol"?t:t+""}function Qte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ol(){return ol=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ol.apply(null,arguments)}function d0(e,t){if(e==null)return{};var r,n,i=ere(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ere(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var tre=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:o,height:c,ry:u}=e;return x.createElement("rect",{x:n,y:i,ry:u,width:o,height:c,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Z5(e,t){var r;if(x.isValidElement(e))r=x.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:i,x2:o,y2:c,key:u}=t,m=d0(t,Yte),f=sc(m),{offset:g}=f,p=d0(f,Kte);r=x.createElement("line",ol({},p,{x1:n,y1:i,x2:o,y2:c,fill:"none",key:u}))}return r}function rre(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:o,yAxisId:c}=e,u=d0(e,Gte),m=i.map((f,g)=>{var p=qr(qr({},u),{},{x1:t,y1:f,x2:t+r,y2:f,key:"line-".concat(g),index:g});return Z5(n,p)});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},m)}function are(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:o,yAxisId:c}=e,u=d0(e,Xte),m=i.map((f,g)=>{var p=qr(qr({},u),{},{x1:f,y1:t,x2:f,y2:t+r,key:"line-".concat(g),index:g});return Z5(n,p)});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},m)}function nre(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:o,height:c,horizontalPoints:u,horizontal:m=!0}=e;if(!m||!t||!t.length)return null;var f=u.map(p=>Math.round(p+i-i)).sort((p,y)=>p-y);i!==f[0]&&f.unshift(0);var g=f.map((p,y)=>{var j=!f[y+1],k=j?i+c-p:f[y+1]-p;if(k<=0)return null;var b=y%t.length;return x.createElement("rect",{key:"react-".concat(y),y:p,x:n,height:k,width:o,stroke:"none",fill:t[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},g)}function sre(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:o,width:c,height:u,verticalPoints:m}=e;if(!t||!r||!r.length)return null;var f=m.map(p=>Math.round(p+i-i)).sort((p,y)=>p-y);i!==f[0]&&f.unshift(0);var g=f.map((p,y)=>{var j=!f[y+1],k=j?i+c-p:f[y+1]-p;if(k<=0)return null;var b=y%r.length;return x.createElement("rect",{key:"react-".concat(y),x:p,y:o,width:k,height:u,stroke:"none",fill:r[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},g)}var ire=(e,t)=>{var{xAxis:r,width:n,height:i,offset:o}=e;return XE(N1(qr(qr(qr({},k1),r),{},{ticks:ZE(r),viewBox:{x:0,y:0,width:n,height:i}})),o.left,o.left+o.width,t)},lre=(e,t)=>{var{yAxis:r,width:n,height:i,offset:o}=e;return XE(N1(qr(qr(qr({},k1),r),{},{ticks:ZE(r),viewBox:{x:0,y:0,width:n,height:i}})),o.top,o.top+o.height,t)},ore={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function u0(e){var t=pj(),r=xj(),n=e6(),i=qr(qr({},rn(e,ore)),{},{x:Ze(e.x)?e.x:n.left,y:Ze(e.y)?e.y:n.top,width:Ze(e.width)?e.width:n.width,height:Ze(e.height)?e.height:n.height}),{xAxisId:o,yAxisId:c,x:u,y:m,width:f,height:g,syncWithTicks:p,horizontalValues:y,verticalValues:j}=i,k=tn(),b=Xe(X=>oA(X,"xAxis",o,k)),C=Xe(X=>oA(X,"yAxis",c,k));if(!Ze(f)||f<=0||!Ze(g)||g<=0||!Ze(u)||u!==+u||!Ze(m)||m!==+m)return null;var S=i.verticalCoordinatesGenerator||ire,N=i.horizontalCoordinatesGenerator||lre,{horizontalPoints:A,verticalPoints:E}=i;if((!A||!A.length)&&typeof N=="function"){var T=y&&y.length,P=N({yAxis:C?qr(qr({},C),{},{ticks:T?y:C.ticks}):void 0,width:t,height:r,offset:n},T?!0:p);Sd(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(A=P)}if((!E||!E.length)&&typeof S=="function"){var O=j&&j.length,U=S({xAxis:b?qr(qr({},b),{},{ticks:O?j:b.ticks}):void 0,width:t,height:r,offset:n},O?!0:p);Sd(Array.isArray(U),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof U,"]")),Array.isArray(U)&&(E=U)}return x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(tre,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),x.createElement(nre,ol({},i,{horizontalPoints:A})),x.createElement(sre,ol({},i,{verticalPoints:E})),x.createElement(rre,ol({},i,{offset:n,horizontalPoints:A,xAxis:b,yAxis:C})),x.createElement(are,ol({},i,{offset:n,verticalPoints:E,xAxis:b,yAxis:C})))}u0.displayName="CartesianGrid";var cre=["dangerouslySetInnerHTML","ticks"],dre=["id"],ure=["domain"],mre=["domain"];function ab(){return ab=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ab.apply(null,arguments)}function m0(e,t){if(e==null)return{};var r,n,i=fre(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function fre(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function hre(e){var t=gr();return x.useEffect(()=>(t(FQ(e)),()=>{t(qQ(e))}),[e,t]),null}var gre=e=>{var{xAxisId:t,className:r}=e,n=Xe(hj),i=tn(),o="xAxis",c=Xe(C=>mc(C,o,t,i)),u=Xe(C=>ZO(C,o,t,i)),m=Xe(C=>YO(C,t)),f=Xe(C=>nX(C,t)),g=Xe(C=>pO(C,t));if(m==null||f==null||g==null)return null;var{dangerouslySetInnerHTML:p,ticks:y}=e,j=m0(e,cre),{id:k}=g,b=m0(g,dre);return x.createElement(S1,ab({},j,b,{scale:c,x:f.x,y:f.y,width:m.width,height:m.height,className:It("recharts-".concat(o," ").concat(o),r),viewBox:n,ticks:u}))},pre={allowDataOverflow:ja.allowDataOverflow,allowDecimals:ja.allowDecimals,allowDuplicatedCategory:ja.allowDuplicatedCategory,height:ja.height,hide:!1,mirror:ja.mirror,orientation:ja.orientation,padding:ja.padding,reversed:ja.reversed,scale:ja.scale,tickCount:ja.tickCount,type:ja.type,xAxisId:0},xre=e=>{var t,r,n,i,o,c=rn(e,pre);return x.createElement(x.Fragment,null,x.createElement(hre,{interval:(t=c.interval)!==null&&t!==void 0?t:"preserveEnd",id:c.xAxisId,scale:c.scale,type:c.type,padding:c.padding,allowDataOverflow:c.allowDataOverflow,domain:c.domain,dataKey:c.dataKey,allowDuplicatedCategory:c.allowDuplicatedCategory,allowDecimals:c.allowDecimals,tickCount:c.tickCount,includeHidden:(r=c.includeHidden)!==null&&r!==void 0?r:!1,reversed:c.reversed,ticks:c.ticks,height:c.height,orientation:c.orientation,mirror:c.mirror,hide:c.hide,unit:c.unit,name:c.name,angle:(n=c.angle)!==null&&n!==void 0?n:0,minTickGap:(i=c.minTickGap)!==null&&i!==void 0?i:5,tick:(o=c.tick)!==null&&o!==void 0?o:!0,tickFormatter:c.tickFormatter}),x.createElement(gre,c))},yre=(e,t)=>{var{domain:r}=e,n=m0(e,ure),{domain:i}=t,o=m0(t,mre);return Wo(n,o)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:Wo({domain:r},{domain:i}):!1},f0=x.memo(xre,yre);f0.displayName="XAxis";var vre=["dangerouslySetInnerHTML","ticks"],bre=["id"],jre=["domain"],wre=["domain"];function nb(){return nb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nb.apply(null,arguments)}function h0(e,t){if(e==null)return{};var r,n,i=Nre(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Nre(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function kre(e){var t=gr();return x.useEffect(()=>(t(WQ(e)),()=>{t(VQ(e))}),[e,t]),null}var Sre=e=>{var{yAxisId:t,className:r,width:n,label:i}=e,o=x.useRef(null),c=x.useRef(null),u=Xe(hj),m=tn(),f=gr(),g="yAxis",p=Xe(T=>mc(T,g,t,m)),y=Xe(T=>KO(T,t)),j=Xe(T=>iX(T,t)),k=Xe(T=>ZO(T,g,t,m)),b=Xe(T=>xO(T,t));if(x.useLayoutEffect(()=>{if(!(n!=="auto"||!y||b1(i)||x.isValidElement(i)||b==null)){var T=o.current;if(T){var P=T.getCalculatedWidth();Math.round(y.width)!==Math.round(P)&&f(YQ({id:t,width:P}))}}},[k,y,f,i,t,n,b]),y==null||j==null||b==null)return null;var{dangerouslySetInnerHTML:C,ticks:S}=e,N=h0(e,vre),{id:A}=b,E=h0(b,bre);return x.createElement(S1,nb({},N,E,{ref:o,labelRef:c,scale:p,x:j.x,y:j.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:y.width,height:y.height,className:It("recharts-".concat(g," ").concat(g),r),viewBox:u,ticks:k}))},Cre={allowDataOverflow:wa.allowDataOverflow,allowDecimals:wa.allowDecimals,allowDuplicatedCategory:wa.allowDuplicatedCategory,hide:!1,mirror:wa.mirror,orientation:wa.orientation,padding:wa.padding,reversed:wa.reversed,scale:wa.scale,tickCount:wa.tickCount,type:wa.type,width:wa.width,yAxisId:0},Are=e=>{var t,r,n,i,o,c=rn(e,Cre);return x.createElement(x.Fragment,null,x.createElement(kre,{interval:(t=c.interval)!==null&&t!==void 0?t:"preserveEnd",id:c.yAxisId,scale:c.scale,type:c.type,domain:c.domain,allowDataOverflow:c.allowDataOverflow,dataKey:c.dataKey,allowDuplicatedCategory:c.allowDuplicatedCategory,allowDecimals:c.allowDecimals,tickCount:c.tickCount,padding:c.padding,includeHidden:(r=c.includeHidden)!==null&&r!==void 0?r:!1,reversed:c.reversed,ticks:c.ticks,width:c.width,orientation:c.orientation,mirror:c.mirror,hide:c.hide,unit:c.unit,name:c.name,angle:(n=c.angle)!==null&&n!==void 0?n:0,minTickGap:(i=c.minTickGap)!==null&&i!==void 0?i:5,tick:(o=c.tick)!==null&&o!==void 0?o:!0,tickFormatter:c.tickFormatter}),x.createElement(Sre,c))},Dre=(e,t)=>{var{domain:r}=e,n=h0(e,jre),{domain:i}=t,o=h0(t,wre);return Wo(n,o)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:Wo({domain:r},{domain:i}):!1},g0=x.memo(Are,Dre);g0.displayName="YAxis";var zy={exports:{}},Uy={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iD;function Tre(){if(iD)return Uy;iD=1;var e=Xo();function t(m,f){return m===f&&(m!==0||1/m===1/f)||m!==m&&f!==f}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,i=e.useRef,o=e.useEffect,c=e.useMemo,u=e.useDebugValue;return Uy.useSyncExternalStoreWithSelector=function(m,f,g,p,y){var j=i(null);if(j.current===null){var k={hasValue:!1,value:null};j.current=k}else k=j.current;j=c(function(){function C(T){if(!S){if(S=!0,N=T,T=p(T),y!==void 0&&k.hasValue){var P=k.value;if(y(P,T))return A=P}return A=T}if(P=A,r(N,T))return P;var O=p(T);return y!==void 0&&y(P,O)?(N=T,P):(N=T,A=O)}var S=!1,N,A,E=g===void 0?null:g;return[function(){return C(f())},E===null?void 0:function(){return C(E())}]},[f,g,p,y]);var b=n(m,j[0],j[1]);return o(function(){k.hasValue=!0,k.value=b},[b]),u(b),b},Uy}var lD;function Ere(){return lD||(lD=1,zy.exports=Tre()),zy.exports}Ere();function Ore(e){e()}function Mre(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Ore(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var oD={notify(){},get:()=>[]};function Pre(e,t){let r,n=oD,i=0,o=!1;function c(b){g();const C=n.subscribe(b);let S=!1;return()=>{S||(S=!0,C(),p())}}function u(){n.notify()}function m(){k.onStateChange&&k.onStateChange()}function f(){return o}function g(){i++,r||(r=e.subscribe(m),n=Mre())}function p(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=oD)}function y(){o||(o=!0,g())}function j(){o&&(o=!1,p())}const k={addNestedSub:c,notifyNestedSubs:u,handleChangeWrapper:m,isSubscribed:f,trySubscribe:y,tryUnsubscribe:j,getListeners:()=>n};return k}var Rre=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_re=Rre(),Ire=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Lre=Ire(),$re=()=>_re||Lre?x.useLayoutEffect:x.useEffect,zre=$re(),Ure=Symbol.for("react-redux-context"),Bre=typeof globalThis<"u"?globalThis:{};function Hre(){if(!x.createContext)return{};const e=Bre[Ure]??=new Map;let t=e.get(x.createContext);return t||(t=x.createContext(null),e.set(x.createContext,t)),t}var Fre=Hre();function qre(e){const{children:t,context:r,serverState:n,store:i}=e,o=x.useMemo(()=>{const m=Pre(i);return{store:i,subscription:m,getServerState:n?()=>n:void 0}},[i,n]),c=x.useMemo(()=>i.getState(),[i]);zre(()=>{const{subscription:m}=o;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),c!==i.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[o,c]);const u=r||Fre;return x.createElement(u.Provider,{value:o},t)}var Wre=qre,Vre=(e,t)=>t,C1=ge([Vre,Ot,fO,wr,m5,Rs,dZ,Ar],gZ),A1=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},J5=Za("mouseClick"),Q5=iu();Q5.startListening({actionCreator:J5,effect:(e,t)=>{var r=e.payload,n=C1(t.getState(),A1(r));n?.activeIndex!=null&&t.dispatch(vX({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var sb=Za("mouseMove"),eM=iu();eM.startListening({actionCreator:sb,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=d1(n,n.tooltip.settings.shared),o=C1(n,A1(r));i==="axis"&&(o?.activeIndex!=null?t.dispatch(s5({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(n5()))}});var cD={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},tM=Ma({name:"rootProps",initialState:cD,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:cD.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),Yre=tM.reducer,{updateOptions:Kre}=tM.actions,rM=Ma({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:lle}=rM.actions,Gre=rM.reducer,aM=Za("keyDown"),nM=Za("focus"),D1=iu();D1.startListening({actionCreator:aM,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,o=e.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var c=Number(u1(i,hc(r))),u=Rs(r);if(o==="Enter"){var m=n0(r,"axis","hover",String(i.index));t.dispatch(Gv({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:m}));return}var f=dX(r),g=f==="left-to-right"?1:-1,p=o==="ArrowRight"?1:-1,y=c+p*g;if(!(u==null||y>=u.length||y<0)){var j=n0(r,"axis","hover",String(y));t.dispatch(Gv({active:!0,activeIndex:y.toString(),activeDataKey:void 0,activeCoordinate:j}))}}}}});D1.startListening({actionCreator:nM,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var o="0",c=n0(r,"axis","hover",String(o));t.dispatch(Gv({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:c}))}}}});var Ya=Za("externalEvent"),sM=iu();sM.startListening({actionCreator:Ya,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:tZ(r),activeDataKey:p5(r),activeIndex:qo(r),activeLabel:g5(r),activeTooltipIndex:qo(r),isTooltipActive:rZ(r)};e.payload.handler(n,e.payload.reactEvent)}}});var Xre=ge([fc],e=>e.tooltipItemPayloads),Zre=ge([Xre,pu,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(u=>u.settings.dataKey===n);if(i!=null){var{positions:o}=i;if(o!=null){var c=t(o,r);return c}}}),iM=Za("touchMove"),lM=iu();lM.startListening({actionCreator:iM,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=d1(n,n.tooltip.settings.shared);if(i==="axis"){var o=C1(n,A1({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));o?.activeIndex!=null&&t.dispatch(s5({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var c,u=r.touches[0],m=document.elementFromPoint(u.clientX,u.clientY);if(!m||!m.getAttribute)return;var f=m.getAttribute(Rq),g=(c=m.getAttribute(_q))!==null&&c!==void 0?c:void 0,p=Zre(t.getState(),f,g);t.dispatch(a5({activeDataKey:g,activeIndex:f,activeCoordinate:p}))}}});var Jre=CE({brush:mte,cartesianAxis:KQ,chartData:MZ,errorBars:oee,graphicalItems:LQ,layout:aq,legend:Jq,options:AZ,polarAxis:sQ,polarOptions:Gre,referenceElements:vte,rootProps:Yre,tooltip:bX}),Qre=function(t){return DF({reducer:Jre,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([Q5.middleware,eM.middleware,D1.middleware,sM.middleware,lM.middleware]),devTools:ic.devToolsEnabled})};function eae(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=tn(),o=x.useRef(null);if(i)return r;o.current==null&&(o.current=Qre(t));var c=lj;return x.createElement(Wre,{context:c,store:o.current},r)}function tae(e){var{layout:t,width:r,height:n,margin:i}=e,o=gr(),c=tn();return x.useEffect(()=>{c||(o(eq(t)),o(tq({width:r,height:n})),o(QF(i)))},[o,c,t,r,n,i]),null}function rae(e){var t=gr();return x.useEffect(()=>{t(Kre(e))},[t,e]),null}var aae=["children"];function nae(e,t){if(e==null)return{};var r,n,i=sae(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function sae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function p0(){return p0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p0.apply(null,arguments)}var iae={width:"100%",height:"100%"},lae=x.forwardRef((e,t)=>{var r=pj(),n=xj(),i=r6();if(!Hf(r)||!Hf(n))return null;var{children:o,otherAttributes:c,title:u,desc:m}=e,f,g;return typeof c.tabIndex=="number"?f=c.tabIndex:f=i?0:void 0,typeof c.role=="string"?g=c.role:g=i?"application":void 0,x.createElement(Jb,p0({},c,{title:u,desc:m,role:g,tabIndex:f,width:r,height:n,style:iae,ref:t}),o)}),oae=e=>{var{children:t}=e,r=Xe(ah);if(!r)return null;var{width:n,height:i,y:o,x:c}=r;return x.createElement(Jb,{width:n,height:i,x:c,y:o},t)},dD=x.forwardRef((e,t)=>{var{children:r}=e,n=nae(e,aae),i=tn();return i?x.createElement(oae,null,r):x.createElement(lae,p0({ref:t},n),r)});function cae(){var e=gr(),[t,r]=x.useState(null),n=Xe(Pq);return x.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),o=i.width/t.offsetWidth;Oa(o)&&o!==n&&e(rq(o))}},[t,e,n]),r}function uD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dae(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uD(Object(r),!0).forEach(function(n){uae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uae(e,t,r){return(t=mae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mae(e){var t=fae(e,"string");return typeof t=="symbol"?t:t+""}function fae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hae=x.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:o,onContextMenu:c,onDoubleClick:u,onMouseDown:m,onMouseEnter:f,onMouseLeave:g,onMouseMove:p,onMouseUp:y,onTouchEnd:j,onTouchMove:k,onTouchStart:b,style:C,width:S}=e,N=gr(),[A,E]=x.useState(null),[T,P]=x.useState(null);BZ();var O=cae(),U=x.useCallback(L=>{O(L),typeof t=="function"&&t(L),E(L),P(L)},[O,t,E,P]),X=x.useCallback(L=>{N(J5(L)),N(Ya({handler:o,reactEvent:L}))},[N,o]),ie=x.useCallback(L=>{N(sb(L)),N(Ya({handler:f,reactEvent:L}))},[N,f]),W=x.useCallback(L=>{N(n5()),N(Ya({handler:g,reactEvent:L}))},[N,g]),G=x.useCallback(L=>{N(sb(L)),N(Ya({handler:p,reactEvent:L}))},[N,p]),H=x.useCallback(()=>{N(nM())},[N]),Q=x.useCallback(L=>{N(aM(L.key))},[N]),te=x.useCallback(L=>{N(Ya({handler:c,reactEvent:L}))},[N,c]),$=x.useCallback(L=>{N(Ya({handler:u,reactEvent:L}))},[N,u]),V=x.useCallback(L=>{N(Ya({handler:m,reactEvent:L}))},[N,m]),re=x.useCallback(L=>{N(Ya({handler:y,reactEvent:L}))},[N,y]),K=x.useCallback(L=>{N(Ya({handler:b,reactEvent:L}))},[N,b]),J=x.useCallback(L=>{N(iM(L)),N(Ya({handler:k,reactEvent:L}))},[N,k]),I=x.useCallback(L=>{N(Ya({handler:j,reactEvent:L}))},[N,j]);return x.createElement(w5.Provider,{value:A},x.createElement(Y3.Provider,{value:T},x.createElement("div",{className:It("recharts-wrapper",n),style:dae({position:"relative",cursor:"default",width:S,height:i},C),onClick:X,onContextMenu:te,onDoubleClick:$,onFocus:H,onKeyDown:Q,onMouseDown:V,onMouseEnter:ie,onMouseLeave:W,onMouseMove:G,onMouseUp:re,onTouchEnd:I,onTouchMove:J,onTouchStart:K,ref:U},r)))}),gae=["children","className","width","height","style","compact","title","desc"];function pae(e,t){if(e==null)return{};var r,n,i=xae(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function xae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var yae=x.forwardRef((e,t)=>{var{children:r,className:n,width:i,height:o,style:c,compact:u,title:m,desc:f}=e,g=pae(e,gae),p=sc(g);return u?x.createElement(dD,{otherAttributes:p,title:m,desc:f},r):x.createElement(hae,{className:n,style:c,width:i,height:o,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},x.createElement(dD,{otherAttributes:p,title:m,desc:f,ref:t},x.createElement(jte,null,r)))}),vae=["width","height"];function ib(){return ib=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ib.apply(null,arguments)}function bae(e,t){if(e==null)return{};var r,n,i=jae(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function jae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var wae={top:5,right:5,bottom:5,left:5},Nae={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:wae,reverseStackOrder:!1,syncMethod:"index"},kae=x.forwardRef(function(t,r){var n,i=rn(t.categoricalChartProps,Nae),{width:o,height:c}=i,u=bae(i,vae);if(!Hf(o)||!Hf(c))return null;var{chartName:m,defaultTooltipEventType:f,validateTooltipEventTypes:g,tooltipPayloadSearcher:p,categoricalChartProps:y}=t,j={chartName:m,defaultTooltipEventType:f,validateTooltipEventTypes:g,tooltipPayloadSearcher:p,eventEmitter:void 0};return x.createElement(eae,{preloadedState:{options:j},reduxStoreName:(n=y.id)!==null&&n!==void 0?n:m},x.createElement(ute,{chartData:y.data}),x.createElement(tae,{width:o,height:c,layout:i.layout,margin:i.margin}),x.createElement(rae,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),x.createElement(yae,ib({},u,{width:o,height:c,ref:r})))}),Sae=["axis","item"],lb=x.forwardRef((e,t)=>x.createElement(kae,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Sae,tooltipPayloadSearcher:SZ,categoricalChartProps:e,ref:t}));const Cae=()=>{const{projectId:e,taskId:t}=yb(),r=jn(),[n,i]=x.useState(null),[o,c]=x.useState(null),[u,m]=x.useState(null),[f,g]=x.useState([]),[p,y]=x.useState([]),[j,k]=x.useState(!1),[b,C]=x.useState(!1),[S,N]=x.useState(null),[A,E]=x.useState(0),[T,P]=x.useState(new Date().toISOString().split("T")[0]),[O,U]=x.useState(""),[X,ie]=x.useState(0),[W,G]=x.useState(!1),[H,Q]=x.useState(""),[te,$]=x.useState([]),[V,re]=x.useState([]),[K,J]=x.useState([]),[I,L]=x.useState(!1),[me,Z]=x.useState(!1),[ye,Me]=x.useState(!1),ve=ht.useRef([]),_e=ht.useRef([]),we=ht.useRef(null),F=ht.useRef(null),[ue,R]=x.useState(!1),[be,Ee]=x.useState(!1),Ve=ht.useRef(null),qe=ht.useRef(null),dt=ht.useRef(null),Ut=ht.useRef(null),_=ht.useRef({log:"",comment:""}),[ne,Ce]=x.useState(!1),[Le,q]=x.useState(null),[le,De]=x.useState(""),[et,B]=x.useState(!1),[he,Ae]=x.useState(!1),[Ie,Ke]=x.useState(""),[Ue,Te]=x.useState(0),[ke,Re]=x.useState(null),[Je,Zt]=x.useState(!1),[ar,Jt]=x.useState(null),[Bt,Ur]=x.useState("overview"),[Qt,lr]=x.useState("all"),[xr,Pa]=x.useState(""),[Vn,Oi]=x.useState(""),[Ra,sn]=x.useState([]),Ol=z=>{if(!z)return"";if(/^https?:\/\//i.test(z))return z;const se=z.startsWith("/")?z:`/${z}`;return`${tt}${se}`},Er=r.state?.task,ma=r.state?.projectName||"Mobile App Redesign",Ml=r.state?.phaseName||"Design Phase",Pl={id:t||"1",title:"Wireframe Creation",description:"Create low-fidelity wireframes for all screens in the mobile application. This includes the main navigation, user profiles, settings, and core functionality screens.",status:"in-progress",priority:"high",dueDate:"2024-01-25",projectId:e||"1",assignees:["Alex Rodriguez","Sarah Johnson"],isDone:!1,createdAt:"2024-01-16",updatedAt:"2024-01-20",progress:65,phaseId:"phase-1"},[Cn,Rl]=x.useState([]),bu={id:e||"1",name:ma,description:"Mobile app redesign project",owner:"Sarah Johnson",status:"in-progress",progress:65,startDate:"2024-01-15",dueDate:"2024-02-15",team:["1","2","3","4"],tags:["mobile","design","ux"],priority:"high",phases:[],tasks:[],members:[],allocatedHours:200,loggedHours:45.5,remainingHours:154.5},An=[{id:"1",userId:"1",userName:"Alex Rodriguez",projectId:e||"1",taskId:"1",phaseId:"phase-1",hours:6.5,description:"Worked on navigation wireframes",loggedAt:"2024-01-20T10:30:00Z",createdAt:"2024-01-20T10:30:00Z"},{id:"2",userId:"2",userName:"Sarah Johnson",projectId:e||"1",taskId:"1",phaseId:"phase-1",hours:2,description:"Reviewed wireframes and provided feedback",loggedAt:"2024-01-20T11:15:00Z",createdAt:"2024-01-20T11:15:00Z"},{id:"3",userId:"1",userName:"Alex Rodriguez",projectId:e||"1",taskId:"2",phaseId:"phase-1",hours:4,description:"Created user profile wireframes",loggedAt:"2024-01-19T14:00:00Z",createdAt:"2024-01-19T14:00:00Z"},{id:"4",userId:"3",userName:"Mike Chen",projectId:e||"1",taskId:"3",phaseId:"phase-2",hours:8,description:"Developed settings screen wireframes",loggedAt:"2024-01-18T09:00:00Z",createdAt:"2024-01-18T09:00:00Z"},{id:"5",userId:"4",userName:"Emma Wilson",projectId:e||"1",taskId:"4",phaseId:"phase-2",hours:5.5,description:"Worked on core functionality screens",loggedAt:"2024-01-17T13:30:00Z",createdAt:"2024-01-17T13:30:00Z"},{id:"6",userId:"2",userName:"Sarah Johnson",projectId:e||"1",taskId:"5",phaseId:"phase-2",hours:3.5,description:"Reviewed and approved designs",loggedAt:"2024-01-16T16:00:00Z",createdAt:"2024-01-16T16:00:00Z"},{id:"7",userId:"1",userName:"Alex Rodriguez",projectId:e||"1",taskId:"6",phaseId:"phase-3",hours:7,description:"Created high-fidelity mockups",loggedAt:"2024-01-15T10:00:00Z",createdAt:"2024-01-15T10:00:00Z"},{id:"8",userId:"3",userName:"Mike Chen",projectId:e||"1",taskId:"7",phaseId:"phase-3",hours:9,description:"Developed interactive prototypes",loggedAt:"2024-01-14T08:30:00Z",createdAt:"2024-01-14T08:30:00Z"}],or=ht.useMemo(()=>p.reduce((z,se)=>z+(Number(se.durationMins)||0),0),[p]),Br=ht.useMemo(()=>{const z=n?.createdAt?new Date(n.createdAt):null;if(!z||isNaN(z.getTime()))return 0;const se=Date.now()-z.getTime();return Math.max(0,Math.ceil(se/(1e3*60*60*24)))},[n?.createdAt]),Dn=ht.useMemo(()=>{if(!n?.dueDate)return 0;const z=new Date(n.dueDate);if(isNaN(z.getTime()))return 0;const se=z.getTime()-Date.now();return Math.ceil(se/(1e3*60*60*24))},[n?.dueDate]),Yn=Dn<0,Ih=ht.useMemo(()=>{const z=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],se=new Date,xe=new Date(se.getTime()-8640*60*1e3),pe={};for(const Oe of z)pe[Oe]={hours:0,comments:0,documents:0};return(p||[]).forEach(Oe=>{const He=new Date(Oe.endedAt||Oe.startedAt);if(isNaN(He.getTime())||He<xe)return;const Pe=z[new Date(He).getDay()===0?6:new Date(He).getDay()-1],$e=Math.max(0,Number(Oe.durationMins)||0)/60;pe[Pe].hours+=Math.round($e*100)/100}),(te||[]).forEach(Oe=>{const He=new Date(Oe.createdAt);if(!isNaN(He.getTime())&&He>=xe){const Pe=z[new Date(He).getDay()===0?6:new Date(He).getDay()-1];pe[Pe].comments+=1}(Oe.replies||[]).forEach(Pe=>{const $e=new Date(Pe.createdAt);if(!isNaN($e.getTime())&&$e>=xe){const We=z[new Date($e).getDay()===0?6:new Date($e).getDay()-1];pe[We].comments+=1}})}),(Ra||[]).forEach(Oe=>{const He=new Date(Oe.createdAt);if(isNaN(He.getTime())||He<xe)return;const Pe=z[new Date(He).getDay()===0?6:new Date(He).getDay()-1];pe[Pe].documents+=1}),z.map(Oe=>({day:Oe,...pe[Oe]}))},[p,te,Ra]),Lh=ht.useMemo(()=>{function z($e){const We=new Date($e),gt=We.getDay(),ot=(gt===0?-6:1)-gt;return We.setDate(We.getDate()+ot),We.setHours(0,0,0,0),We}function se($e){const We=new Date($e);return We.setDate(We.getDate()+7),We}function xe($e){const We=new Date(Date.UTC($e.getFullYear(),$e.getMonth(),$e.getDate())),gt=We.getUTCDay()||7;We.setUTCDate(We.getUTCDate()+4-gt);const ot=new Date(Date.UTC(We.getUTCFullYear(),0,1));return Math.ceil(((We.getTime()-ot.getTime())/864e5+1)/7)}const pe=new Date,Oe=[],He=z(pe);for(let $e=3;$e>=0;$e--){const We=new Date(He);We.setDate(We.getDate()-$e*7);const gt=se(We),ot=`W${xe(We)}`;Oe.push({label:ot,start:We,end:gt})}const Pe=Oe.map($e=>({week:$e.label,hours:0,comments:0,documents:0}));return(p||[]).forEach($e=>{const We=new Date($e.endedAt||$e.startedAt);isNaN(We.getTime())||Oe.forEach((gt,ot)=>{We>=gt.start&&We<gt.end&&(Pe[ot].hours+=Math.round((Number($e.durationMins)||0)/60*100)/100)})}),(te||[]).forEach($e=>{const We=new Date($e.createdAt);isNaN(We.getTime())||(Oe.forEach((gt,ot)=>{We>=gt.start&&We<gt.end&&(Pe[ot].comments+=1)}),($e.replies||[]).forEach(gt=>{const ot=new Date(gt.createdAt);isNaN(ot.getTime())||Oe.forEach((fa,Gn)=>{ot>=fa.start&&ot<fa.end&&(Pe[Gn].comments+=1)})}))}),(Ra||[]).forEach($e=>{const We=new Date($e.createdAt);isNaN(We.getTime())||Oe.forEach((gt,ot)=>{We>=gt.start&&We<gt.end&&(Pe[ot].documents+=1)})}),Pe},[p,te,Ra]);x.useEffect(()=>{let z;return b&&S&&(z=setInterval(()=>{E(Math.floor((new Date().getTime()-S.getTime())/1e3))},1e3)),()=>clearInterval(z)},[b,S]);const ju=()=>{N(new Date),C(!0)},Mi=()=>{C(!1),ie(Math.floor(A/3600*100)/100)},gc=z=>{const se=Math.floor(z/3600),xe=Math.floor(z%3600/60),pe=z%60;return`${se.toString().padStart(2,"0")}:${xe.toString().padStart(2,"0")}:${pe.toString().padStart(2,"0")}`},Tn=z=>{const se=Math.max(0,Math.round(Number(z)||0)),xe=Math.floor(se/60),pe=se%60;return`${xe}h ${pe}m`},_s=z=>{const se=Math.max(0,Math.round((Number(z)||0)*60));return Tn(se)},Is=z=>{switch((z||"").toLowerCase()){case"planning":return"not-started";case"not-started":return"not-started";case"in-progress":return"in-progress";case"done":case"completed":return"completed";case"blocked":case"in-review":case"on-hold":return"on-hold";default:return"in-progress"}};x.useEffect(()=>{i(Er?{...Er,status:Is(Er.status)}:{...Pl,status:Is(Pl.status)}),c(bu),g(An),(async()=>{try{const z=await UU();z&&m({id:String(z.id),name:String(z.name||""),email:String(z.email||""),role:z.role||"member",department:String(z.department||""),isActive:!0,lastActive:new Date().toISOString()})}catch{console.warn("No current user; ensure x-user-id header is set")}})(),(async()=>{if(e)try{const z=await Tt(`/projects/${e}/members`).catch(()=>null);if(Array.isArray(z)&&z.length>0){const xe=z.map(pe=>({id:String(pe.id),name:String(pe.name||""),email:String(pe.email||""),role:String(pe?.role?.name||pe?.role||"member").toLowerCase(),department:String(pe?.department?.name||pe?.department||""),isActive:!0,lastActive:new Date().toISOString()}));Rl(xe)}const se=await Tt(`/projects/${e}`).catch(()=>null);if(se&&Array.isArray(se.memberships)){const xe=se.memberships.map(pe=>({id:String(pe.user?.id||pe.userId),name:String(pe.user?.name||"Unknown"),email:String(pe.user?.email||""),role:String(pe.role||"member").toLowerCase(),department:String(pe.user?.department?.name||""),isActive:!0,lastActive:new Date().toISOString()}));Rl(xe)}if(se){const xe=Number(se.allocatedHours)||0,pe=Number(se.usedHours??se.loggedHours)||0,Oe=Number(se.leftHours??se.remainingHours??Math.max(xe-pe,0));c(He=>He?{...He,allocatedHours:xe,loggedHours:pe,remainingHours:Oe}:{id:String(e),name:ma,description:se.description||"",owner:se.owner?.name||"",status:"in-progress",progress:Number(se.progress??0),startDate:se.startDate||"",dueDate:se.endDate||"",team:[],tags:[],priority:"medium",phases:[],tasks:[],members:[],allocatedHours:xe,loggedHours:pe,remainingHours:Oe})}}catch(z){console.error("Failed to load project members",z),Rl([])}})(),(async()=>{try{if(!t)return;const z=await Tt(`/tasks/${t}`);if(!z)return;const se=Oe=>({NOT_STARTED:"not-started",IN_PROGRESS:"in-progress",COMPLETED:"completed",ON_HOLD:"on-hold"})[String(Oe).toUpperCase()]||"in-progress",xe=z.dueDate?new Date(z.dueDate).toISOString().split("T")[0]:"",pe=Array.isArray(z.assignees)?z.assignees.map(Oe=>Oe.user?.name).filter(Boolean):[];i(Oe=>Oe?{...Oe,title:z.title||Oe.title,description:z.description||Oe.description,status:se(z.status),dueDate:xe,assignees:pe.length?pe:Oe.assignees,projectId:z.phase?.project?.id||Oe.projectId,phaseId:z.phaseId||Oe.phaseId}:{id:z.id,title:z.title,description:z.description||"",status:se(z.status),priority:"medium",dueDate:xe,projectId:z.phase?.project?.id||e||"",assignees:pe,isDone:z.status==="COMPLETED",createdAt:z.createdAt||"",updatedAt:z.updatedAt||"",progress:z.status==="COMPLETED"?100:z.status==="IN_PROGRESS"?65:0,phaseId:z.phaseId||""})}catch(z){console.error("Failed to load task",z)}})(),(async()=>{try{if(!t)return;const z=await Tt(`/timelogs/tasks/${t}/timelogs`);Array.isArray(z)&&y(z.map(se=>({durationMins:Number(se.durationMins)||0,startedAt:se.startedAt,endedAt:se.endedAt,description:se.description,userId:se.userId,attachmentPath:se.attachment?.filePath||null})))}catch(z){console.error("Failed to load task time logs",z),y([])}})(),(async()=>{try{if(!t)return;const z=await Tt(`/tasks/${t}/comments`);if(Array.isArray(z)){const se=z.map(xe=>({id:xe.id,taskId:xe.taskId,content:xe.content,author:{id:xe.author?.id||"",name:xe.author?.name||"Unknown",email:xe.author?.email||"",avatar:(xe.author?.name||"U").split(" ").map(pe=>pe[0]).join("").slice(0,2).toUpperCase()},createdAt:xe.createdAt,replies:(xe.replies||[]).map(pe=>({id:pe.id,content:pe.content,author:{id:pe.author?.id||"",name:pe.author?.name||"Unknown",email:pe.author?.email||"",avatar:(pe.author?.name||"U").split(" ").map(Oe=>Oe[0]).join("").slice(0,2).toUpperCase()},createdAt:pe.createdAt}))}));$(se)}}catch(z){console.error("Failed to load comments",z),$([])}})(),(async()=>{try{if(!t)return;const z=await Tt(`/tasks/${t}/history`);if(Array.isArray(z)){const se=z.map(xe=>({id:xe.id,description:xe.message||"Update",timestamp:xe.createdAt,by:xe.createdBy?.name||void 0}));re(se)}}catch(z){console.error("Failed to load history",z),re([])}})(),(async()=>{try{if(!t)return;const z=await Tt(`/api/documents/by-task/${t}`);if(Array.isArray(z)){const se=z.map(xe=>({id:xe.id,name:xe.name,fileUrl:Ol(xe.fileUrl||(xe.filePath?`/${String(xe.filePath).replace(/^\\+/,"")}`:"")),status:String(xe.status||"in-review"),createdAt:xe.createdAt,createdBy:xe.createdBy||null}));sn(se)}}catch(z){console.error("Failed to load task documents",z),sn([])}})()},[t,Er]),x.useEffect(()=>{const z={};Cn.forEach(xe=>{z[xe.id]=xe.name}),u&&(z[u.id]=u.name);const se=(p||[]).map(xe=>{const pe=String(xe.userId),Oe=pe===u?.id?u?.name||"You":void 0,He=z[pe]||Oe||"Unknown User",Pe=xe.attachmentPath?`${tt}/${String(xe.attachmentPath).replace(/^\\+/,"")}`:void 0,$e=xe.attachmentPath?String(xe.attachmentPath).split("/").pop():void 0;return{id:String(xe.id||`${xe.userId}-${xe.startedAt}`),userId:pe,userName:He,projectId:String(e||""),taskId:String(n?.id||""),phaseId:String(n?.phaseId||""),hours:Math.round((Number(xe.durationMins)||0)/60*100)/100,description:xe.description,loggedAt:xe.endedAt||xe.startedAt,createdAt:xe.createdAt||xe.endedAt||xe.startedAt,attachmentUrl:Pe,attachmentFileName:$e}});g(se)},[p,Cn,u,e,n?.phaseId,n?.id]),x.useEffect(()=>{const z=[];z.push(...V.map(se=>({id:`h-${se.id}`,type:"history",title:se.description,timestamp:se.timestamp,by:se.by}))),z.push(...Ra.map(se=>({id:`d-${se.id}`,type:"document",title:se.name,timestamp:se.createdAt,url:se.fileUrl,by:se.createdBy?.name}))),z.push(...f.map(se=>({id:`t-${se.id}`,type:"timelog",title:se.description||"Time logged",timestamp:se.createdAt,hours:se.hours,by:se.userName}))),z.sort((se,xe)=>new Date(xe.timestamp).getTime()-new Date(se.timestamp).getTime()),J(z)},[V,Ra,f]);const Ls=async()=>{k(!0);try{if(n?.id)try{const{apiJson:z}=await bS(async()=>{const{apiJson:se}=await Promise.resolve().then(()=>Ok);return{apiJson:se}},[]);await z(`/tasks/${n.id}`,"PATCH",{status:"COMPLETED"})}catch{}i(z=>z?{...z,status:"completed",isDone:!0,progress:100}:null)}catch(z){console.error("Failed to mark task as done:",z)}finally{k(!1)}},cr=async()=>{if(!(!O.trim()||!u||!o||!n?.id)){G(!0);try{try{!localStorage.getItem("userId")&&u?.id&&localStorage.setItem("userId",u.id)}catch{}let z=null,se=null,xe=X;if(b&&S){se=new Date,z=new Date(S);const Pe=Math.max(0,Math.floor((se.getTime()-z.getTime())/1e3));xe=Math.round(Pe/3600*100)/100,C(!1),E(Pe)}else if(S&&A>0){z=new Date(S),se=new Date(S.getTime()+A*1e3);const Pe=Math.max(0,Math.floor((se.getTime()-z.getTime())/1e3));xe=Math.round(Pe/3600*100)/100}else{const Pe=new Date(`${T}T12:00:00`);se=isNaN(Pe.getTime())?new Date:Pe;const $e=Math.max(0,Math.round((Number(xe)||0)*60*60*1e3));z=new Date(se.getTime()-$e)}if(!z||!se)return;const pe={startedAt:z.toISOString(),endedAt:se.toISOString(),description:O.trim()},Oe="http://localhost:4000",He=localStorage.getItem("userId");if(ar){const Pe=new FormData;Pe.append("startedAt",pe.startedAt),Pe.append("endedAt",pe.endedAt),Pe.append("description",pe.description),Pe.append("file",ar);const $e=await fetch(`${Oe}/timelogs/tasks/${n.id}/timelogs`,{method:"POST",headers:{...He?{"x-user-id":He}:{}},body:Pe});if(!$e.ok)throw new Error(await $e.text());await $e.json()}else await Xt(`/timelogs/tasks/${n.id}/timelogs`,"POST",pe);try{const Pe=await Tt(`/timelogs/tasks/${n.id}/timelogs`);Array.isArray(Pe)&&y(Pe.map($e=>({durationMins:Number($e.durationMins)||0,startedAt:$e.startedAt,endedAt:$e.endedAt,description:$e.description,userId:$e.userId,attachmentPath:$e.attachment?.filePath||null})))}catch{}try{if(o?.id){const Pe=await Tt(`/projects/${o.id}`);if(Pe){const $e=Number(Pe.allocatedHours)||0,We=Number(Pe.usedHours??Pe.loggedHours)||0,gt=Number(Pe.leftHours??Pe.remainingHours??Math.max($e-We,0));c(ot=>ot&&{...ot,allocatedHours:$e,loggedHours:We,remainingHours:gt})}}}catch{}U(""),ie(0),P(new Date().toISOString().split("T")[0]),Jt(null),N(null),E(0)}catch(z){console.error("Failed to save time log:",z),alert("Failed to save time log. Please try again.")}finally{G(!1)}}},wu=async z=>{try{if(i(se=>se?{...se,status:z}:null),n?.id){const se={"not-started":"NOT_STARTED","in-progress":"IN_PROGRESS",completed:"COMPLETED","on-hold":"ON_HOLD"},{apiJson:xe}=await bS(async()=>{const{apiJson:pe}=await Promise.resolve().then(()=>Ok);return{apiJson:pe}},void 0);await xe(`/tasks/${n.id}`,"PATCH",{status:se[z]||"NOT_STARTED"})}}catch(se){console.error("Failed to change status:",se)}},Nu=async z=>{if(z.preventDefault(),!!H.trim()){Ce(!0);try{if(!n?.id)throw new Error("Task not loaded");try{!localStorage.getItem("userId")&&u?.id&&localStorage.setItem("userId",u.id)}catch{}const se=Array.from(new Set((H.match(/@([\w\- ]+)/g)||[]).map(pe=>pe.slice(1).trim()))).filter(Boolean),xe=Cn.filter(pe=>se.some(Oe=>Oe.toLowerCase()===pe.name.toLowerCase())).map(pe=>pe.id);await Xt(`/tasks/${n.id}/comments`,"POST",{content:H.trim(),...xe.length?{mentionUserIds:xe}:{}});try{const pe=await Tt(`/tasks/${n.id}/comments`);if(Array.isArray(pe)){const Oe=pe.map(He=>({id:He.id,taskId:He.taskId,content:He.content,author:{id:He.author?.id||"",name:He.author?.name||"Unknown",email:He.author?.email||"",avatar:(He.author?.name||"U").split(" ").map(Pe=>Pe[0]).join("").slice(0,2).toUpperCase()},createdAt:He.createdAt,replies:(He.replies||[]).map(Pe=>({id:Pe.id,content:Pe.content,author:{id:Pe.author?.id||"",name:Pe.author?.name||"Unknown",email:Pe.author?.email||"",avatar:(Pe.author?.name||"U").split(" ").map($e=>$e[0]).join("").slice(0,2).toUpperCase()},createdAt:Pe.createdAt}))}));$(Oe)}}catch{}try{const pe=await Tt(`/tasks/${n.id}/history`);Array.isArray(pe)&&re(pe.map(Oe=>({id:Oe.id,description:Oe.message||"Update",timestamp:Oe.createdAt})))}catch{}Q(""),Ae(!1)}catch(se){console.error("Failed to save comment:",se)}finally{Ce(!1)}}},Kn=async z=>{if(le.trim()){B(!0);try{if(!n?.id)throw new Error("Task not loaded");try{!localStorage.getItem("userId")&&u?.id&&localStorage.setItem("userId",u.id)}catch{}await Xt(`/tasks/${n.id}/comments`,"POST",{content:le.trim(),parentId:z});try{const se=await Tt(`/tasks/${n.id}/comments`);if(Array.isArray(se)){const xe=se.map(pe=>({id:pe.id,taskId:pe.taskId,content:pe.content,author:{id:pe.author?.id||"",name:pe.author?.name||"Unknown",email:pe.author?.email||"",avatar:(pe.author?.name||"U").split(" ").map(Oe=>Oe[0]).join("").slice(0,2).toUpperCase()},createdAt:pe.createdAt,replies:(pe.replies||[]).map(Oe=>({id:Oe.id,content:Oe.content,author:{id:Oe.author?.id||"",name:Oe.author?.name||"Unknown",email:Oe.author?.email||"",avatar:(Oe.author?.name||"U").split(" ").map(He=>He[0]).join("").slice(0,2).toUpperCase()},createdAt:Oe.createdAt}))}));$(xe)}}catch{}De(""),q(null)}catch(se){console.error("Failed to save reply:",se)}finally{B(!1)}}},$s=z=>{const se=z.target.value,xe=z.target.selectionStart,Oe=se.substring(0,xe).match(/@(\w*)$/);Oe?(Ke(Oe[1]),Te(xe),Ae(!0)):Ae(!1),Q(se)},$h=z=>{const se=H.substring(0,Ue-Ie.length-1),xe=H.substring(Ue),pe=`${se}@${z} ${xe}`;Q(pe),Ae(!1),Ke("")},pc=Cn.filter(z=>z.name.toLowerCase().includes(Ie.toLowerCase())),_l=Qt==="mine"?f.filter(z=>z.userId===u?.id):f,zh=async z=>{if(z.preventDefault(),!(!ke||!e||!n?.phaseId||!Vn)){Zt(!0);try{const se=new FormData;se.append("projectId",String(e)),se.append("phaseId",String(n.phaseId)),se.append("taskId",String(n.id)),se.append("reviewerId",String(Vn)),se.append("status","in-review"),xr&&se.append("name",xr),se.append("files",ke);const xe=localStorage.getItem("userId")||"",pe=localStorage.getItem("authToken")||"",Oe=pe?{authorization:`Bearer ${pe}`}:{"x-user-id":xe},He=await fetch(`${tt}/api/documents/upload`,{method:"POST",headers:Oe,body:se,credentials:"include"});if(!He.ok)throw new Error(await He.text());const Pe=await He.json();if(Array.isArray(Pe)&&Pe.length){const $e=Pe.map(We=>({id:We.id,name:We.name,fileUrl:Ol(We.fileUrl||(We.filePath?`/${String(We.filePath).replace(/^\\+/,"")}`:"")),status:String(We.status||"in-review"),createdAt:We.createdAt,createdBy:We.createdBy||null}));sn(We=>[...$e,...We])}Re(null),Pa(""),Oi("")}catch(se){console.error("Failed to upload file:",se)}finally{Zt(!1)}}},Il=z=>{switch(z){case"completed":return"badge-success";case"in-progress":return"badge-info";case"not-started":return"badge-info";case"on-hold":return"badge-warning";default:return"badge-info"}},Pi=z=>{switch(z){case"critical":return"text-red-600 dark:text-red-400";case"high":return"text-orange-600 dark:text-orange-400";case"medium":return"text-yellow-600 dark:text-yellow-400";case"low":return"text-green-600 dark:text-green-400";default:return"text-gray-600 dark:text-gray-400"}},_a=async z=>{try{const se=await navigator.mediaDevices.getUserMedia({audio:!0}),xe=new MediaRecorder(se,{mimeType:"audio/webm"}),pe=z==="log"?ve:_e;pe.current=[],xe.ondataavailable=Oe=>{Oe.data&&Oe.data.size>0&&pe.current.push(Oe.data)},xe.onstop=async()=>{const Oe=new Blob(pe.current,{type:"audio/webm"});await ku(Oe,z),se.getTracks().forEach(He=>He.stop())},z==="log"?(we.current=xe,L(!0)):(F.current=xe,Z(!0)),xe.start()}catch{alert("Microphone access denied or not available")}},Wr=z=>{const se=z==="log"?we.current:F.current;se&&se.state!=="inactive"&&se.stop(),z==="log"?L(!1):Z(!1)},ku=async(z,se)=>{try{Me(!0);const xe=new FormData;xe.append("audio",z,"audio.webm");const pe="http://localhost:4000",Oe=localStorage.getItem("userId")||"",He=localStorage.getItem("authToken")||"",Pe=He?{authorization:`Bearer ${He}`}:{"x-user-id":Oe},$e=await fetch(`${String(pe).replace(/\/+$/,"")}/api/speech/transcribe`,{method:"POST",headers:Pe,body:xe});if(!$e.ok)throw new Error(await $e.text());const We=await $e.json(),gt=String(We?.text||"");gt&&(se==="log"?U(ot=>ot?ot+(ot.endsWith(" ")?"":" ")+gt:gt):Q(ot=>ot?ot+(ot.endsWith(" ")?"":" ")+gt:gt))}catch(xe){alert(xe?.message||"Transcription failed")}finally{Me(!1)}},Su=async z=>{try{const xe=await fetch(`${String("http://localhost:4000").replace(/\/+$/,"")}/api/speech/realtime-token?model=universal`);if(!xe.ok)throw new Error(await xe.text());const{token:pe}=await xe.json(),Oe=16e3,He=new WebSocket(`wss://api.assemblyai.com/v2/realtime/ws?sample_rate=${Oe}&token=${encodeURIComponent(pe)}`);Ve.current=He,_.current[z]=z==="log"?O:H,He.onmessage=ot=>{try{const fa=JSON.parse(ot.data),Gn=String(fa?.text||"");Gn&&(z==="log"?U(`${_.current.log}${_.current.log?" ":""}${Gn}`):Q(`${_.current.comment}${_.current.comment?" ":""}${Gn}`))}catch{}},He.onerror=ot=>{console.error("WS error",ot)},He.onclose=()=>Ri(z);const Pe=await navigator.mediaDevices.getUserMedia({audio:!0}),$e=new(window.AudioContext||window.webkitAudioContext),We=$e.createMediaStreamSource(Pe),gt=$e.createScriptProcessor(4096,1,1);We.connect(gt),gt.connect($e.destination),gt.onaudioprocess=ot=>{const fa=ot.inputBuffer.getChannelData(0),Gn=Cu(fa,$e.sampleRate,Oe),$l=Ll(Gn),ln=Uh($l.buffer);He.readyState===WebSocket.OPEN&&He.send(JSON.stringify({audio_data:ln}))},qe.current=$e,dt.current=We,Ut.current=gt,z==="log"?R(!0):Ee(!0)}catch(se){alert(se?.message||"Failed to start live dictation")}},Ri=z=>{try{if(Ve.current&&Ve.current.readyState===WebSocket.OPEN)try{Ve.current.send(JSON.stringify({terminate_session:!0}))}catch{}Ve.current?.close()}catch{}try{Ut.current?.disconnect()}catch{}try{dt.current?.disconnect()}catch{}try{qe.current?.close()}catch{}Ve.current=null,Ut.current=null,dt.current=null,qe.current=null,z==="log"?R(!1):Ee(!1)};function Cu(z,se,xe){if(xe===se)return z;const pe=se/xe,Oe=Math.round(z.length/pe),He=new Float32Array(Oe);let Pe=0,$e=0;for(;Pe<He.length;){const We=Math.round((Pe+1)*pe);let gt=0,ot=0;for(let fa=$e;fa<We&&fa<z.length;fa++)gt+=z[fa],ot++;He[Pe]=gt/ot,Pe++,$e=We}return He}function Ll(z){const se=new ArrayBuffer(z.length*2),xe=new DataView(se);let pe=0;for(let Oe=0;Oe<z.length;Oe++,pe+=2){let He=Math.max(-1,Math.min(1,z[Oe]));xe.setInt16(pe,He<0?He*32768:He*32767,!0)}return xe}function Uh(z){let se="";const xe=new Uint8Array(z),pe=xe.byteLength;for(let Oe=0;Oe<pe;Oe++)se+=String.fromCharCode(xe[Oe]);return btoa(se)}const Zr=z=>{switch(z){case"approved":return"text-green-600 dark:text-green-400";case"pending":case"in-review":return"text-yellow-600 dark:text-yellow-400";case"rejected":return"text-red-600 dark:text-red-400";case"needs-changes":return"text-orange-600 dark:text-orange-400";default:return"text-gray-600 dark:text-gray-400"}};return n?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(da,{to:`/projects/${e}`,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:a.jsx(Vb,{className:"h-6 w-6"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(da,{to:`/projects/${e}`,className:"text-sm text-primary-600 dark:text-primary-400 hover:text-primary-800 dark:hover:text-primary-200",children:ma}),a.jsx("span",{className:"text-gray-400",children:"/"}),a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:Ml}),a.jsx("span",{className:"text-gray-400",children:"/"}),a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Tasks"})]}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:n?.title||"Task Detail"})]})]}),a.jsx("div",{className:"flex space-x-3",children:a.jsx("button",{onClick:Ls,disabled:j||n.isDone,className:`${n.isDone?"btn-secondary":"btn-primary"} ${j?"opacity-50 cursor-not-allowed":""}`,children:j?"Marking...":n.isDone?"Done ":"Mark Done"})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Days Active"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:Br})]}),a.jsx(U3,{className:"h-8 w-8 text-primary-600"})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Days Left"}),a.jsx("p",{className:`text-2xl font-bold ${Yn?"text-red-600 dark:text-red-400":"text-gray-900 dark:text-white"}`,children:Yn?Math.abs(Dn):Dn}),Yn&&a.jsx("p",{className:"text-xs text-red-600 dark:text-red-400",children:"Overdue"})]}),a.jsx(Nd,{className:"h-8 w-8 text-orange-600"})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Task Hours Logged"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:Tn(or)})]}),a.jsx(xS,{className:"h-8 w-8 text-green-600"})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Progress"}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[n.progress,"%"]})]}),a.jsx(vi,{className:"h-8 w-8 text-blue-600"})]})})]}),a.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:a.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"overview",label:"Overview",icon:au},{id:"time",label:"Time Tracking",icon:Nd},{id:"comments",label:"Comments",icon:fS},{id:"documents",label:"Documents",icon:pi},{id:"history",label:"History",icon:xS}].map(z=>{const se=z.icon;return a.jsxs("button",{onClick:()=>Ur(z.id),className:`flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-sm ${Bt===z.id?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[a.jsx(se,{className:"h-4 w-4"}),a.jsx("span",{children:z.label})]},z.id)})})}),Bt==="overview"&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Task Overview"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),a.jsx("p",{className:"text-gray-900 dark:text-white",children:n.description})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),a.jsxs("select",{value:n.status,onChange:z=>wu(z.target.value),className:"input-field",children:[a.jsx("option",{value:"not-started",children:"Not Started"}),a.jsx("option",{value:"in-progress",children:"In Progress"}),a.jsx("option",{value:"completed",children:"Completed"}),a.jsx("option",{value:"on-hold",children:"On Hold"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Priority"}),a.jsx("span",{className:`text-sm font-medium ${Pi(n.priority)}`,children:n.priority.toUpperCase()})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Due Date"}),a.jsx("input",{type:"date",value:n.dueDate,readOnly:!0,className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Assignees"}),a.jsx("div",{className:"flex -space-x-2",children:n.assignees.map((z,se)=>a.jsx("div",{className:"h-8 w-8 rounded-full bg-primary-600 flex items-center justify-center text-xs text-white border-2 border-white dark:border-gray-800",children:z.split(" ").map(xe=>xe[0]).join("")},se))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Progress"}),a.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:a.jsx("div",{className:"bg-primary-600 h-2 rounded-full transition-all duration-300",style:{width:`${n.progress}%`}})}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:[n.progress,"% complete"]})]})]})]}),a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Daily Activity"}),a.jsx("div",{className:"h-64",children:a.jsx(Qv,{width:"100%",height:"100%",children:a.jsxs(lb,{data:Ih,children:[a.jsx(u0,{strokeDasharray:"3 3"}),a.jsx(f0,{dataKey:"day"}),a.jsx(g0,{}),a.jsx(Jv,{}),a.jsx(Lo,{}),a.jsx(Rn,{dataKey:"hours",fill:"#3B82F6",name:"Hours"}),a.jsx(Rn,{dataKey:"comments",fill:"#10B981",name:"Comments"}),a.jsx(Rn,{dataKey:"documents",fill:"#F59E0B",name:"Documents"})]})})})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Task Status"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Status"}),a.jsx("span",{className:`badge ${Il(n.status)}`,children:n.status.replace("-"," ").toUpperCase()})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Priority"}),a.jsx("span",{className:`text-sm font-medium ${Pi(n.priority)}`,children:n.priority.toUpperCase()})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Due Date"}),a.jsxs("span",{className:`text-sm font-medium ${Yn?"text-red-600 dark:text-red-400":"text-gray-900 dark:text-white"}`,children:[new Date(n.dueDate).toLocaleDateString(),Yn&&" (Overdue)"]})]})]})]}),a.jsxs("div",{className:"card",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[a.jsx(Df,{className:"h-5 w-5 mr-2"}),"Team Members"]}),a.jsx("div",{className:"space-y-3",children:Cn.map(z=>a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"h-8 w-8 rounded-full bg-primary-600 flex items-center justify-center text-xs text-white",children:z.name.split(" ").map(se=>se[0]).join("")}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:z.name}),a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[z.role,"  ",z.department]})]}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(z.lastActive).toLocaleDateString()})]},z.id))}),u&&a.jsx("div",{className:"mt-4 p-3 bg-primary-50 dark:bg-primary-900/20 rounded-lg border border-primary-200 dark:border-primary-800",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fv,{className:"h-4 w-4 text-primary-600"}),a.jsxs("span",{className:"text-sm font-medium text-primary-900 dark:text-primary-100",children:["You are logged in as ",u.name]})]})})]})]})]}),Bt==="time"&&a.jsxs("div",{className:"space-y-6",children:[o&&a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Project Time Allocation"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"text-center p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[a.jsxs("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:[o.allocatedHours,"h"]}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Allocated"})]}),a.jsxs("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[a.jsxs("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:[o.loggedHours,"h"]}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Project Hours Logged"})]}),a.jsxs("div",{className:"text-center p-4 bg-orange-50 dark:bg-orange-900/20 rounded-lg",children:[a.jsxs("div",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:[o.remainingHours,"h"]}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Project Time Remaining"})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex justify-between text-sm text-gray-600 dark:text-gray-400 mb-2",children:[a.jsx("span",{children:"Progress"}),a.jsxs("span",{children:[o.allocatedHours>0?Math.round(o.loggedHours/o.allocatedHours*100):0,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:a.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-green-500 h-2 rounded-full transition-all duration-300",style:{width:`${o.allocatedHours>0?Math.min(100,o.loggedHours/o.allocatedHours*100):0}%`}})})]})]}),a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Time Tracking"}),a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"text-3xl font-mono text-gray-900 dark:text-white",children:gc(A)}),a.jsx("div",{className:"flex space-x-2",children:b?a.jsxs("button",{onClick:Mi,className:"btn-secondary flex items-center space-x-2",children:[a.jsx(MU,{className:"h-4 w-4"}),a.jsx("span",{children:"Stop"})]}):a.jsxs("button",{onClick:ju,className:"btn-primary flex items-center space-x-2",children:[a.jsx(AU,{className:"h-4 w-4"}),a.jsx("span",{children:"Start"})]})})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Task Hours Logged"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:Tn(or)})]})]}),a.jsx("form",{onSubmit:z=>{z.preventDefault(),cr()},className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-xl",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Date"}),a.jsx("input",{type:"date",value:T,onChange:z=>P(z.target.value),className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Hours"}),a.jsx("input",{type:"number",step:"0.25",value:X,onChange:z=>ie(parseFloat(z.target.value)||0),className:"input-field",placeholder:"0.0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Attachment (Optional)"}),a.jsx("input",{type:"file",className:"input-field",onChange:z=>Jt(z.target.files?.[0]||null)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"What did you work on?"}),a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Use mic to dictate your log"}),a.jsxs("div",{className:"space-x-2",children:[I?a.jsx("button",{type:"button",onClick:()=>Wr("log"),className:"text-xs px-2 py-1 rounded-md bg-red-600 text-white",children:"Stop"}):a.jsx("button",{type:"button",onClick:()=>_a("log"),className:"text-xs px-2 py-1 rounded-md bg-primary-600 text-white disabled:opacity-50",children:ye?"Transcribing":" Speak"}),ue?a.jsx("button",{type:"button",onClick:()=>Ri("log"),className:"text-xs px-2 py-1 rounded-md bg-orange-600 text-white",children:"Stop Live"}):a.jsx("button",{type:"button",onClick:()=>Su("log"),className:"text-xs px-2 py-1 rounded-md bg-green-600 text-white",children:" Live"})]})]}),a.jsx("textarea",{value:O,onChange:z=>U(z.target.value),rows:3,className:"input-field",placeholder:"Describe what you accomplished...",required:!0})]}),a.jsx("button",{type:"submit",disabled:W,className:"btn-primary",children:W?"Saving...":"Log Time"})]})})]}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Time Logs"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>lr("all"),className:`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${Qt==="all"?"bg-primary-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"All Time Logs"}),a.jsx("button",{onClick:()=>lr("mine"),className:`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${Qt==="mine"?"bg-primary-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"My Time Logs"})]})]}),a.jsxs("div",{className:"mb-4 text-sm text-gray-600 dark:text-gray-400",children:["Showing ",_l.length," of ",f.length," time logs",Qt==="mine"&&a.jsx("span",{className:"ml-2 text-primary-600 dark:text-primary-400",children:"(Your logs only)"})]}),a.jsx("div",{className:"space-y-4",children:_l.length>0?_l.map(z=>{const se=z.userId===u?.id;return a.jsxs("div",{className:`border rounded-xl p-4 ${se&&Qt==="all"?"border-primary-200 dark:border-primary-800 bg-primary-50 dark:bg-primary-900/20":"border-gray-200 dark:border-gray-700"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`h-8 w-8 rounded-full flex items-center justify-center text-xs text-white ${se?"bg-primary-600":"bg-gray-500"}`,children:z.userName?.split(" ").map(xe=>xe[0]).join("")||"U"}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:z.userName||"Unknown User"}),se&&Qt==="all"&&a.jsx("span",{className:"text-xs bg-primary-100 dark:bg-primary-800 text-primary-800 dark:text-primary-200 px-2 py-1 rounded-full",children:"You"})]}),a.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[new Date(z.loggedAt).toLocaleDateString()," at ",new Date(z.loggedAt).toLocaleTimeString()]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-lg font-bold text-primary-600 dark:text-primary-400",children:_s(z.hours)}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"logged"})]})]}),a.jsxs("div",{className:"mt-3 space-y-2",children:[a.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:z.description||"No description provided"}),z.attachmentUrl&&a.jsxs("a",{href:z.attachmentUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-xs text-primary-600 dark:text-primary-400 hover:underline",children:[a.jsx(gS,{className:"h-4 w-4 mr-1"}),z.attachmentFileName||"View attachment"]})]})]},z.id)}):a.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[a.jsx(Nd,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{className:"text-lg font-medium mb-2",children:Qt==="mine"?"No time logs found":"No time logs available"}),a.jsx("p",{className:"text-sm",children:Qt==="mine"?"You haven't logged any time for this task yet.":"No team members have logged time for this task yet."})]})})]}),a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Weekly Breakdown"}),a.jsx("div",{className:"h-64",children:a.jsx(Qv,{width:"100%",height:"100%",children:a.jsxs(lb,{data:Lh,children:[a.jsx(u0,{strokeDasharray:"3 3"}),a.jsx(f0,{dataKey:"week"}),a.jsx(g0,{}),a.jsx(Jv,{}),a.jsx(Lo,{}),a.jsx(Rn,{dataKey:"hours",fill:"#3B82F6",name:"Hours"}),a.jsx(Rn,{dataKey:"comments",fill:"#10B981",name:"Comments"}),a.jsx(Rn,{dataKey:"documents",fill:"#F59E0B",name:"Documents"})]})})})]})]}),Bt==="comments"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Add Comment"}),a.jsxs("form",{onSubmit:Nu,className:"space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Use mic to dictate your comment"}),a.jsxs("div",{className:"space-x-2",children:[me?a.jsx("button",{type:"button",onClick:()=>Wr("comment"),className:"text-xs px-2 py-1 rounded-md bg-red-600 text-white",children:"Stop"}):a.jsx("button",{type:"button",onClick:()=>_a("comment"),className:"text-xs px-2 py-1 rounded-md bg-primary-600 text-white disabled:opacity-50",children:ye?"Transcribing":" Speak"}),be?a.jsx("button",{type:"button",onClick:()=>Ri("comment"),className:"text-xs px-2 py-1 rounded-md bg-orange-600 text-white",children:"Stop Live"}):a.jsx("button",{type:"button",onClick:()=>Su("comment"),className:"text-xs px-2 py-1 rounded-md bg-green-600 text-white",children:" Live"})]})]}),a.jsx("textarea",{value:H,onChange:$s,rows:4,className:"input-field",placeholder:"Add a comment or update... Use @ to mention team members",required:!0}),he&&a.jsx("div",{className:"absolute z-10 mt-1 w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg shadow-lg max-h-40 overflow-y-auto",children:pc.length>0?pc.map(z=>a.jsxs("button",{type:"button",onClick:()=>$h(z.name),className:"w-full px-4 py-2 text-left hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center space-x-2",children:[a.jsx("div",{className:"h-6 w-6 rounded-full bg-primary-600 flex items-center justify-center text-xs text-white",children:z.name.split(" ").map(se=>se[0]).join("")}),a.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:z.name})]},z.id)):a.jsx("div",{className:"px-4 py-2 text-sm text-gray-500 dark:text-gray-400",children:"No users found"})})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Use @ to mention team members"}),a.jsx("button",{type:"submit",disabled:ne,className:"btn-primary",children:ne?"Posting...":"Post Comment"})]})]})]}),a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Comments & Updates"}),a.jsx("div",{className:"space-y-4",children:te.map(z=>a.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-xl p-4",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"h-8 w-8 rounded-full bg-primary-600 flex items-center justify-center text-xs text-white",children:z.author.avatar}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:z.author.name}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(z.createdAt).toLocaleString()})]}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-3 whitespace-pre-wrap",children:z.content.split(" ").map((se,xe)=>se.startsWith("@")?a.jsxs("span",{className:"text-primary-600 dark:text-primary-400 font-medium",children:[se," "]},xe):a.jsxs("span",{children:[se," "]},xe))}),a.jsxs("div",{className:"flex items-center space-x-4 mb-3",children:[a.jsxs("button",{onClick:()=>q(Le===z.id?null:z.id),className:"text-sm text-primary-600 dark:text-primary-400 hover:text-primary-800 dark:hover:text-primary-200 flex items-center space-x-1",children:[a.jsx(fS,{className:"h-4 w-4"}),a.jsx("span",{children:"Reply"})]}),a.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[z.replies?.length||0," replies"]})]}),Le===z.id&&a.jsx("div",{className:"ml-4 mb-4 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx("div",{className:"h-6 w-6 rounded-full bg-gray-400 flex items-center justify-center text-xs text-white",children:u?.name.split(" ").map(se=>se[0]).join("")||"U"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("textarea",{value:le,onChange:se=>De(se.target.value),rows:2,className:"w-full text-sm border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:`Reply to ${z.author.name}...`}),a.jsxs("div",{className:"flex items-center justify-end space-x-2 mt-2",children:[a.jsx("button",{onClick:()=>{q(null),De("")},className:"text-sm text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200",children:"Cancel"}),a.jsx("button",{onClick:()=>Kn(z.id),disabled:et||!le.trim(),className:"text-sm bg-primary-600 text-white px-3 py-1 rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:et?"Posting...":"Reply"})]})]})]})}),z.replies&&z.replies.length>0&&a.jsx("div",{className:"ml-4 space-y-3",children:z.replies.map(se=>a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"h-6 w-6 rounded-full bg-gray-400 flex items-center justify-center text-xs text-white",children:se.author.avatar}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[a.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:se.author.name}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(se.createdAt).toLocaleString()})]}),a.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 whitespace-pre-wrap",children:se.content.split(" ").map((xe,pe)=>xe.startsWith("@")?a.jsxs("span",{className:"text-primary-600 dark:text-primary-400 font-medium",children:[xe," "]},pe):a.jsxs("span",{children:[xe," "]},pe))})]})]},se.id))})]})]})},z.id))})]})]}),Bt==="documents"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Upload Document"}),a.jsxs("form",{onSubmit:zh,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Document Name"}),a.jsx("input",{type:"text",className:"input-field",placeholder:"Enter document name",value:xr,onChange:z=>Pa(z.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Assign Reviewer"}),a.jsxs("select",{className:"input-field",value:Vn,onChange:z=>Oi(z.target.value),required:!0,children:[a.jsx("option",{value:"",children:"Select reviewer"}),Cn.map(z=>a.jsx("option",{value:z.id,children:z.name},z.id))]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Select File"}),a.jsx("input",{type:"file",onChange:z=>Re(z.target.files?.[0]||null),className:"input-field",required:!0})]}),a.jsx("button",{type:"submit",disabled:Je||!ke,className:"btn-primary",children:Je?"Uploading...":"Upload Document"})]})]}),a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Documents"}),a.jsx("div",{className:"space-y-4",children:Ra.map(z=>a.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-xl p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(pi,{className:"h-8 w-8 text-primary-600"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white",children:z.name}),a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Uploaded by ",z.createdBy?.name||"Unknown","  ",new Date(z.createdAt).toLocaleDateString()]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:`text-sm font-medium ${Zr(z.status)}`,children:String(z.status||"").toUpperCase()}),z.fileUrl&&a.jsx("a",{href:z.fileUrl,target:"_blank",rel:"noreferrer",className:"text-primary-600 dark:text-primary-400 hover:text-primary-800 dark:hover:text-primary-200",title:"Open document",children:a.jsx(gS,{className:"h-4 w-4"})})]})]})},z.id))})]})]}),Bt==="history"&&a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Activity Timeline"}),a.jsx("div",{className:"space-y-6",children:(()=>{const z={},se=[];return K.forEach(xe=>{const Oe=new Date(xe.timestamp).toLocaleString("en-US",{month:"long",year:"numeric"});z[Oe]||(z[Oe]=[],se.push(Oe)),z[Oe].push(xe)}),se.map(xe=>a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:xe}),a.jsx("div",{className:"space-y-3",children:z[xe].map(pe=>a.jsxs("div",{className:"flex items-start justify-between p-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:[a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:`h-8 w-8 rounded-full flex items-center justify-center text-white ${pe.type==="document"?"bg-blue-600":pe.type==="timelog"?"bg-green-600":"bg-gray-600"}`,children:pe.type==="document"?"":pe.type==="timelog"?"":""}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-900 dark:text-white flex items-center flex-wrap gap-2",children:pe.type==="timelog"&&pe.hours!==void 0?a.jsxs(a.Fragment,{children:[a.jsxs("span",{children:["Logged ",a.jsxs("span",{className:"font-semibold",children:[pe.hours,"h"]}),pe.title?` on ${pe.title}`:""]}),a.jsxs("span",{className:"inline-block text-xs px-2 py-0.5 rounded-md bg-orange-700 text-white dark:bg-orange-800",children:[pe.hours,"h"]})]}):a.jsx(a.Fragment,{children:pe.title})}),pe.by&&a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:`by ${pe.by}`}),pe.type==="document"&&pe.url&&a.jsxs("div",{className:"mt-1 text-xs",children:[a.jsx("a",{href:pe.url,target:"_blank",rel:"noreferrer",className:"text-primary-600 hover:underline mr-3",children:"View"}),a.jsx("a",{href:pe.url,target:"_blank",rel:"noreferrer",className:"text-primary-600 hover:underline",children:"Download"})]})]})]}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 ml-3 whitespace-nowrap",children:new Date(pe.timestamp).toLocaleString(void 0,{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})})]},pe.id))})]},xe))})()})]})]}):a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})})},Aae=()=>{const[e,t]=x.useState(""),[r,n]=x.useState("all"),[i,o]=x.useState("all"),[c,u]=x.useState(!1),[m,f]=x.useState({name:"",email:"",role:"",department:"",isActive:!0}),[g,p]=x.useState(!1),[y,j]=x.useState(""),k=()=>{y.trim()&&j("")},b=async R=>{try{if(!R)return;const be=ie[R];if(!be){alert("Could not resolve department id");return}if(!window.confirm(`Delete department "${R}"? Users will be reassigned to Unassigned.`))return;try{await Mk(be)}catch{await Mk(be,{force:!0})}const Ve=await Td().catch(()=>[]);H((Ve||[]).map(qe=>String(qe.name))),W(Object.fromEntries((Ve||[]).map(qe=>[String(qe.name),String(qe.id)]))),V(qe=>qe.map(dt=>dt.department===R?{...dt,department:"Unassigned"}:dt))}catch(be){console.error("Failed to delete department",be),alert("Failed to delete department")}},[C,S]=x.useState(!1),[N,A]=x.useState([]),[E,T]=x.useState(""),P=async()=>{const R=E.trim();if(R)try{const be=await h8(R);A(Ee=>Array.from(new Set([...Ee,String(be.name||"").toLowerCase()]))),X(Ee=>({...Ee,[String(be.name||"").toLowerCase()]:String(be.id)})),T("")}catch(be){alert(be?.message||"Failed to create role")}},O=async R=>{try{const be=U[R];if(!be){alert("Could not resolve role id");return}if(!window.confirm(`Delete role "${R}"? Users will be reassigned to Unassigned.`))return;try{await Pk(be)}catch{await Pk(be,{force:!0})}const Ve=await ko().catch(()=>[]);A((Ve||[]).map(qe=>String(qe.name||"").toLowerCase())),X(Object.fromEntries((Ve||[]).map(qe=>[String(qe.name||"").toLowerCase(),String(qe.id)]))),V(qe=>qe.map(dt=>String(dt.role).toLowerCase()===String(R).toLowerCase()?{...dt,role:"unassigned"}:dt))}catch(be){console.error("Failed to delete role",be),alert("Failed to delete role")}},[U,X]=x.useState({}),[ie,W]=x.useState({}),[G,H]=x.useState([]),[Q,te]=x.useState(!1);x.useEffect(()=>{(async()=>{try{const R=await ko();A((R||[]).map(be=>String(be.name||"").toLowerCase())),X(Object.fromEntries((R||[]).map(be=>[String(be.name||"").toLowerCase(),String(be.id)])))}catch(R){console.error("Failed to load roles",R)}try{const R=await Td();H((R||[]).map(be=>String(be.name))),W(Object.fromEntries((R||[]).map(be=>[String(be.name),String(be.id)])))}catch(R){console.error("Failed to load departments",R)}try{const R=await L3();te(!!R?.active)}catch{}})()},[]),x.useEffect(()=>{(async()=>{try{const R=await ko();A((R||[]).map(be=>String(be.name||"").toLowerCase()))}catch(R){console.error("Failed to load roles",R)}})()},[]);const[$,V]=x.useState([]),[re,K]=x.useState(""),[J,I]=x.useState(null),[L,me]=x.useState(!1),[Z,ye]=x.useState({id:"",name:"",email:"",role:"",department:"",isActive:!0});x.useEffect(()=>{(async()=>{try{const R=await F0({page:1,limit:100});console.log("Users fetch response",R);const be=(R.items||[]).map(Ee=>({...Ee,role:(Ee?.role?.name||Ee?.role||"").toLowerCase(),department:Ee?.department?.name||Ee?.department||"",verified:!!Ee.verified}));V(be),console.log("Users set count",be.length)}catch(R){console.error("Failed to load users",R)}})()},[]);const Me=async(R,be)=>{try{await yS(R,{isActive:be}),V(Ee=>Ee.map(Ve=>Ve.id===R?{...Ve,isActive:be}:Ve))}catch(Ee){console.error("Failed to toggle status:",Ee),alert("Failed to update status")}},ve=async R=>{if(window.confirm("Permanently delete this user and clean up related data? This action cannot be undone."))try{await BU(R,!0),V(be=>be.filter(Ee=>Ee.id!==R))}catch(be){console.error("Failed to delete user:",be),alert("Failed to delete user")}},_e=async R=>{try{K(""),I(R.id);const be={name:R.name,email:R.email,departmentName:R.department||"",roleName:R.role||void 0},Ee=await uv(be);K(`Invite sent to ${Ee.email}${Ee.verifyUrl?`  Dev link: ${Ee.verifyUrl}`:""}`)}catch(be){K(be?.message||"Failed to send invite")}finally{I(null)}},we=R=>{switch(R){case"director":return"bg-red-600 text-white";case"manager":return"bg-blue-600 text-white";case"consultant":return"bg-green-600 text-white";case"lead":return"bg-purple-600 text-white";case"client":return"bg-orange-600 text-white";default:return"bg-gray-600 text-white"}},F=[...new Set($.map(R=>R.department).filter(Boolean))],ue=(G.length?G:F).map(R=>({id:R,name:R}));return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"User Management"}),a.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Manage users, departments, and roles for your organization."})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(ut,{onClick:()=>u(!0),className:"rounded-full shadow-sm gap-2",children:[a.jsx(yf,{className:"h-4 w-4"}),"Invite User"]}),a.jsxs(ut,{variant:"outline",onClick:()=>p(!0),className:"rounded-full gap-2",children:[a.jsx(Ky,{className:"h-4 w-4"}),"Manage Departments"]}),a.jsxs(ut,{variant:"outline",onClick:()=>S(!0),className:"rounded-full gap-2",children:[a.jsx(Qd,{className:"h-4 w-4"}),"Manage Roles"]}),a.jsxs(ut,{variant:"destructive",className:"rounded-full gap-2",onClick:async()=>{if(window.confirm("Purge all non-admin users? This will delete or archive them."))try{const R=await dU();alert(`Deleted: ${R.deleted}, Scrubbed: ${R.scrubbed}`),window.location.reload()}catch(R){alert(R?.message||"Failed to purge")}},children:[a.jsx(Zy,{className:"h-4 w-4"}),"Purge Non-admins"]}),Q&&a.jsxs(ut,{variant:"outline",className:"rounded-full gap-2",onClick:async()=>{try{await I3(),window.location.reload()}catch{}},children:[a.jsx(g9,{className:"h-4 w-4"}),"Stop Impersonation"]})]})]}),a.jsxs("div",{className:"card",children:[re&&a.jsx("div",{className:"mb-3 text-sm p-2 rounded bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200",children:re}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex-1 max-w-md",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),a.jsx("input",{type:"text",placeholder:"Search by name or email...",value:e,onChange:R=>t(R.target.value),className:"input-field pl-10 h-11 rounded-full"})]})}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("select",{value:i,onChange:R=>o(R.target.value),className:"input-field h-11 rounded-full",children:[a.jsx("option",{value:"all",children:"All Roles"}),a.jsx("option",{value:"director",children:"Director"}),a.jsx("option",{value:"manager",children:"Manager"}),a.jsx("option",{value:"consultant",children:"Consultant"}),a.jsx("option",{value:"lead",children:"Lead"}),a.jsx("option",{value:"client",children:"Client"})]}),a.jsxs("select",{value:r,onChange:R=>n(R.target.value),className:"input-field h-11 rounded-full",children:[a.jsx("option",{value:"all",children:"All Departments"}),F.map(R=>a.jsx("option",{value:R,children:R},R))]})]})]}),a.jsx("div",{className:"mt-4"}),a.jsx("div",{className:"overflow-x-auto rounded-2xl border border-gray-200 dark:border-gray-700",children:a.jsxs("table",{className:"min-w-full",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Email"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Role"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Department"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700",children:$.length===0?a.jsx("tr",{children:a.jsxs("td",{colSpan:6,className:"px-6 py-12 text-center",children:[a.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No users found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Try adjusting your search or filter criteria."})]})}):$.map(R=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:R.name})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:R.email}),a.jsx("div",{className:`text-xs mt-0.5 ${R.verified?"text-green-600 dark:text-green-400":"text-yellow-600 dark:text-yellow-400"}`,children:R.verified?"Verified":"Unverified"})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${we(R.role)}`,children:R.role.charAt(0).toUpperCase()+R.role.slice(1)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:R.department})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"flex items-center",children:a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:R.isActive,onChange:be=>Me(R.id,be.target.checked),className:"sr-only peer"}),a.jsx("div",{className:`w-11 h-6 rounded-full peer ${R.isActive?"bg-blue-600 peer-checked:bg-blue-600":"bg-gray-200 dark:bg-gray-700"} peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600`}),a.jsx("span",{className:`ml-3 text-sm font-medium ${R.isActive?"text-green-600 dark:text-green-400":"text-gray-500 dark:text-gray-400"}`,children:R.isActive?"Active":"Inactive"})]})})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[a.jsx("button",{className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 p-1",title:"Edit user",onClick:()=>{ye({id:R.id,name:R.name,email:R.email,role:String(R.role||"").toLowerCase(),department:R.department||"",isActive:!!R.isActive}),me(!0)},children:a.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),a.jsx(ut,{variant:"outline",size:"sm",className:"rounded-full px-3 py-1",onClick:()=>_e(R),title:"Send invite",disabled:J===R.id,children:J===R.id?"Inviting":"Invite"}),a.jsx("button",{onClick:()=>ve(R.id),className:"text-gray-400 hover:text-red-600 dark:hover:text-red-400 p-1",children:a.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),a.jsx(ut,{variant:"outline",size:"sm",className:"rounded-full px-3 py-1",onClick:async()=>{try{await cU(R.id),window.location.reload()}catch(be){alert(be?.message||"Failed to impersonate")}},title:"View as this user",children:"View as"})]})})]},R.id))})]})})]}),c&&a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 sm:p-6",children:[a.jsx("div",{className:"modal-overlay",onClick:()=>u(!1)}),a.jsxs("div",{className:"modal-panel max-w-2xl",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h3",{className:"modal-title",children:"Invite User"}),a.jsx("button",{className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",onClick:()=>u(!1),children:a.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("div",{className:"modal-body",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"field-label",children:"Full Name (Optional)"}),a.jsx("input",{type:"text",className:"input-field input-lg rounded-2xl",value:m.name,onChange:R=>f({...m,name:R.target.value}),placeholder:"John Doe"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"field-label",children:"Email"}),a.jsx("input",{type:"email",className:"input-field input-lg rounded-2xl",value:m.email,onChange:R=>f({...m,email:R.target.value}),placeholder:"john@company.com"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"field-label",children:"Role"}),a.jsxs("select",{className:"input-field select-lg rounded-2xl",value:m.role,onChange:R=>f({...m,role:R.target.value}),children:[a.jsx("option",{value:"",children:"Client (default)"}),a.jsx("option",{value:"director",children:"Director"}),a.jsx("option",{value:"manager",children:"Manager"}),a.jsx("option",{value:"consultant",children:"Consultant"}),a.jsx("option",{value:"lead",children:"Lead"}),a.jsx("option",{value:"client",children:"Client"})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"field-label",children:"Department"}),a.jsx("select",{className:"input-field select-lg rounded-2xl",value:m.department,onChange:R=>f({...m,department:R.target.value}),children:ue.map(R=>a.jsx("option",{value:R.name,children:R.name},R.id))})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"field-label",children:"Personal Message (Optional)"}),a.jsx("textarea",{className:"input-field rounded-2xl min-h-[64px]",placeholder:"Add a personal note to the invitation"})]})]}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{className:"btn-secondary",onClick:()=>u(!1),children:"Cancel"}),a.jsx("button",{className:"btn-primary",onClick:async()=>{try{const R=m.name.trim(),be=m.email.trim(),Ee=String(m.role||"").toLowerCase(),Ve=String(m.department||"");if(!be||!Ve){alert("Please fill email and department");return}const qe=await uv({name:R||be.split("@")[0],email:be,departmentName:Ve,...Ee?{roleName:Ee}:{}});K(`Invite sent to ${qe.email}${qe.verifyUrl?`  Dev link: ${qe.verifyUrl}`:""}`);const dt={id:qe.id||`tmp-${Date.now()}`,name:R||be,email:be,role:Ee||"client",department:Ve,isActive:!0,verified:!1};V(Ut=>[dt,...Ut]),u(!1),f({name:"",email:"",role:"",department:Ve,isActive:!0})}catch(R){console.error(R),alert(R?.message||"Failed to send invite")}},children:"Send Invitation"})]})]})]}),L&&a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 sm:p-6",children:[a.jsx("div",{className:"modal-overlay",onClick:()=>me(!1)}),a.jsxs("div",{className:"modal-panel max-w-2xl",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h3",{className:"modal-title",children:"Edit User"}),a.jsx("button",{className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",onClick:()=>me(!1),children:a.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("div",{className:"modal-body",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"field-label",children:"Name"}),a.jsx("input",{type:"text",className:"input-field input-lg rounded-2xl",value:Z.name,onChange:R=>ye({...Z,name:R.target.value}),placeholder:"Enter full name"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"field-label",children:"Email"}),a.jsx("input",{type:"email",className:"input-field input-lg rounded-2xl opacity-70 cursor-not-allowed",value:Z.email,readOnly:!0,disabled:!0,placeholder:"name@company.com"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"field-label",children:"Role"}),a.jsx("select",{className:"input-field select-lg rounded-2xl",value:Z.role,onChange:R=>ye({...Z,role:R.target.value}),children:N.map(R=>a.jsx("option",{value:R,children:R.charAt(0).toUpperCase()+R.slice(1)},R))})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"field-label",children:"Department"}),a.jsx("select",{className:"input-field select-lg rounded-2xl",value:Z.department,onChange:R=>ye({...Z,department:R.target.value}),children:ue.map(R=>a.jsx("option",{value:R.name,children:R.name},R.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"field-label",children:"Active Status"}),a.jsx("div",{className:"flex items-center",children:a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:Z.isActive,onChange:R=>ye({...Z,isActive:R.target.checked}),className:"sr-only peer"}),a.jsx("div",{className:`w-11 h-6 rounded-full peer ${Z.isActive?"bg-blue-600 peer-checked:bg-blue-600":"bg-gray-200 dark:bg-gray-700"} peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600`}),a.jsx("span",{className:`ml-3 text-sm font-medium ${Z.isActive?"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400"}`,children:Z.isActive?"Active":"Inactive"})]})})]})]}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{className:"btn-secondary",onClick:()=>me(!1),children:"Cancel"}),a.jsx("button",{className:"btn-primary",onClick:async()=>{try{const R=Z.name.trim(),be=String(Z.role||"").toLowerCase(),Ee=String(Z.department||"");if(!R||!be||!Ee){alert("Please fill name, role and department");return}const Ve=U[be],qe=ie[Ee];if(!Ve||!qe){alert("Invalid role or department. Please select valid options.");return}await yS(Z.id,{name:R,roleId:Ve,departmentId:qe,isActive:Z.isActive}),V(dt=>dt.map(Ut=>Ut.id===Z.id?{...Ut,name:R,role:be,department:Ee,isActive:Z.isActive}:Ut)),me(!1)}catch(R){alert(R?.message||"Failed to update user")}},children:"Save Changes"})]})]})]}),g&&a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 sm:p-6",children:[a.jsx("div",{className:"modal-overlay",onClick:()=>p(!1)}),a.jsxs("div",{className:"modal-panel max-w-xl",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h3",{className:"modal-title",children:"Manage Departments"}),a.jsx("button",{className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",onClick:()=>p(!1),children:a.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("div",{className:"modal-body space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"text",className:"input-field input-lg rounded-2xl flex-1",placeholder:"New department name",value:y,onChange:R=>j(R.target.value),onKeyDown:R=>{R.key==="Enter"&&k()}}),a.jsx("button",{className:"btn-icon",onClick:k,"aria-label":"Add department",children:a.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]}),a.jsxs("div",{className:"space-y-2 max-h-80 overflow-y-auto pr-1",children:[ue.map(R=>a.jsxs("div",{className:"flex items-center justify-between rounded-2xl bg-gray-50 dark:bg-gray-800 px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[a.jsx("span",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:R.name}),a.jsx("button",{className:"text-gray-400 hover:text-red-600 dark:hover:text-red-400 rounded-full p-2",onClick:()=>b(R.name),"aria-label":`Delete ${R.name}`,children:a.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},R.id)),ue.length===0&&a.jsx("div",{className:"rounded-md bg-gray-50 dark:bg-gray-800 px-4 py-6 text-center text-sm text-gray-500 dark:text-gray-400",children:"No departments yet"})]})]}),a.jsx("div",{className:"modal-footer",children:a.jsx("button",{className:"btn-secondary",onClick:()=>p(!1),children:"Close"})})]})]}),C&&a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 sm:p-6",children:[a.jsx("div",{className:"modal-overlay",onClick:()=>S(!1)}),a.jsxs("div",{className:"modal-panel max-w-xl",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h3",{className:"modal-title",children:"Manage Roles"}),a.jsx("button",{className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",onClick:()=>S(!1),children:a.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("div",{className:"modal-body space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"text",className:"input-field input-lg rounded-2xl flex-1",placeholder:"New role name",value:E,onChange:R=>T(R.target.value),onKeyDown:R=>{R.key==="Enter"&&P()}}),a.jsx("button",{className:"btn-icon",onClick:P,"aria-label":"Add role",children:a.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]}),a.jsxs("div",{className:"space-y-2 max-h-80 overflow-y-auto pr-1",children:[N.map(R=>a.jsxs("div",{className:"flex items-center justify-between rounded-2xl bg-gray-50 dark:bg-gray-800 px-4 py-3",children:[a.jsx("span",{className:"text-sm font-medium text-gray-800 dark:text-gray-200 capitalize",children:R}),a.jsx("button",{className:"text-gray-400 hover:text-red-600 dark:hover:text-red-400 rounded-full p-2",onClick:()=>O(R),"aria-label":`Delete ${R}`,children:a.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},R)),N.length===0&&a.jsx("div",{className:"rounded-md bg-gray-50 dark:bg-gray-800 px-4 py-6 text-center text-sm text-gray-500 dark:text-gray-400",children:"No roles yet"})]})]}),a.jsx("div",{className:"modal-footer",children:a.jsx("button",{className:"btn-secondary",onClick:()=>S(!1),children:"Close"})})]})]})]})};function jh(){const e=localStorage.getItem("userId")||"",t=localStorage.getItem("authToken")||"";return{...e?{"x-user-id":e}:{},...t?{authorization:`Bearer ${t}`}:{}}}async function Dae(e,t){const r=new FormData;r.set("projectId",e.projectId),r.set("phaseId",e.phaseId),r.set("reviewerId",e.reviewerId),e.taskId&&r.set("taskId",e.taskId),e.status&&r.set("status",e.status),e.name&&r.set("name",e.name);for(const i of t)r.append("files",i);const n=await fetch(`${tt}/api/documents/upload?_ts=${Date.now()}`,{method:"POST",headers:{...jh()},body:r,cache:"no-store"});if(!n.ok)throw new Error(await n.text());return n.json()}async function Tae(){const e=await fetch(`${tt}/api/documents/inbox?_ts=${Date.now()}`,{headers:{...jh()}});if(!e.ok)throw new Error(await e.text());return e.json()}async function Eae(){const e=await fetch(`${tt}/api/documents/sent?_ts=${Date.now()}`,{headers:{...jh()}});if(!e.ok)throw new Error(await e.text());return e.json()}async function Oae(e,t,r){const n=await fetch(`${tt}/api/documents/${e}/review?_ts=${Date.now()}`,{method:"PATCH",headers:{"content-type":"application/json",...jh()},body:JSON.stringify({status:t,reviewComment:r})});if(!n.ok)throw new Error(await n.text());return n.json()}const Mae=()=>{const[e,t]=x.useState(""),[r,n]=x.useState("all"),[i,o]=x.useState("all"),[c,u]=x.useState(!1),[m,f]=x.useState(!1),[g,p]=x.useState(!1),[y,j]=x.useState(new Set),[k,b]=x.useState({name:"",project:"",phase:"",task:"",description:"",reviewer:"",files:null}),[C,S]=x.useState({action:"approve",notes:"",file:null}),[N,A]=x.useState(""),[E,T]=x.useState(null),[P,O]=x.useState({name:"",description:"",files:null}),[U,X]=x.useState([]),ie=x.useMemo(()=>U.find(ne=>ne.id===k.project)?.phases||[],[U,k.project]),[W,G]=x.useState([]),[H,Q]=x.useState([]),[te,$]=x.useState([]),[V,re]=x.useState("inbox"),[K,J]=x.useState(null),I=x.useMemo(()=>{if(!K||!k.phase)return[];const _=(K.phases||[]).find(Ce=>Ce.id===k.phase);return(Array.isArray(_?.tasks)?_.tasks:[]).map(Ce=>({id:String(Ce.id),title:String(Ce.title||"Untitled Task")}))},[K,k.phase]),{user:L}=Cl();x.useEffect(()=>{(async()=>{try{const[_,ne,Ce,Le]=await Promise.all([Yb(),F0({page:1,limit:100}),Tae(),Eae()]);X(_||[]);const q=(ne?.items||[]).map(et=>({id:String(et.id),name:String(et.name||et.email||"User")}));G(q);const le=(Ce||[]).map(me),De=(Le||[]).map(me);Q(le),$(De)}catch(_){console.error("Failed to load documents data",_),X([]),G([]),Q([]),$([])}})()},[]),x.useEffect(()=>{(async()=>{const _=k.project;if(!_){J(null);return}try{const ne=await Tt(`/projects/${_}`);J(ne||null),b(Ce=>({...Ce,phase:"",task:""}))}catch{J(null)}})()},[k.project]),x.useEffect(()=>{b(_=>({..._,task:""}))},[k.phase]);function me(_){const ne=String(_.fileUrl||_.filePath||""),Ce=ne?ne.split("/").pop()||"document":_.name||"document",Le=(Ce.split(".").pop()||"").toLowerCase(),q=String(_?.reviewerRole||_?.reviewer?.role?.name||"").toLowerCase(),le=String(_?.createdByRole||_?.createdBy?.role?.name||"").toLowerCase();return{id:String(_.id),name:String(_.name||Ce),projectId:String(_.projectId||""),phaseId:String(_.phaseId||""),taskId:String(_.taskId||""),reviewerId:String(_.reviewer?.id||""),reviewerRole:q||void 0,uploadedBy:String(_.createdBy?.name||"Unknown"),uploadedByRole:le||void 0,sentTo:_.reviewer?[String(_.reviewer?.name||"")]:[],dateSubmitted:String(_.createdAt||new Date().toISOString()),status:String(_.status||"draft"),fileName:Ce,fileSize:0,fileType:Le||"file",version:Number(_.version||1),uploadedAt:String(_.createdAt||new Date().toISOString()),reviewedAt:_.reviewedAt?String(_.reviewedAt):void 0,reviewNote:_.reviewComment?String(_.reviewComment):void 0}}function Z(_){const ne=encodeURIComponent(_.fileName);return`${tt}/uploads/documents/${ne}`}const Me=x.useMemo(()=>V==="inbox"?H:te,[V,H,te]).filter(_=>{const ne=_.name.toLowerCase().includes(e.toLowerCase())||_.fileName.toLowerCase().includes(e.toLowerCase()),Ce=r==="all"||_.projectId===r,Le=i==="all"||_.status===i;return ne&&Ce&&Le}),ve=_=>U.find(Ce=>Ce.id===_)?.name||"Unknown Project",_e=_=>{switch(_){case"approved":return"badge-success";case"in-review":return"badge-warning";case"needs-changes":return"badge-danger";case"draft":return"badge-info";default:return"badge-info"}},we=async _=>{if(_.preventDefault(),!(!k.project||!k.phase||!k.files||!k.reviewer))try{const ne=Array.from(k.files),Le=(await Dae({projectId:k.project,phaseId:k.phase,reviewerId:k.reviewer,taskId:k.task||void 0,status:"in-review",name:k.name||void 0},ne)||[]).map(me);$(q=>[...Le,...q]),b({name:"",project:"",phase:"",task:"",description:"",reviewer:"",files:null}),u(!1)}catch(ne){console.error("Failed to upload document:",ne)}},F=_=>{const ne=_.target.files;ne&&b(Ce=>({...Ce,files:ne}))},ue=_=>{const ne=_.target.files?.[0];ne&&S(Ce=>({...Ce,file:ne}))},R=_=>{T(_),A(""),f(!0)},be=_=>{T(_),O({name:_.name,description:"",files:null}),p(!0)},Ee=_=>{const ne=_.target.files;ne&&O(Ce=>({...Ce,files:ne}))},Ve=async _=>{if(_.preventDefault(),!!E)try{await new Promise(ne=>setTimeout(ne,2e3)),console.log("Updating document:",{document:E,edit:P}),O({name:"",description:"",files:null}),T(null),p(!1)}catch(ne){console.error("Failed to update document:",ne)}},qe=async _=>{if(_.preventDefault(),!!E){if(A(""),(C.action==="request-changes"||C.action==="reject")&&!C.notes.trim()){A("Please provide comments when requesting changes or rejecting a document.");return}try{const ne=C.action==="approve"?"approved":C.action==="reject"?"rejected":"needs-changes",Ce=await Oae(E.id,ne,C.notes||void 0),Le=me(Ce);Q(q=>q.map(le=>le.id===Le.id?Le:le)),$(q=>q.map(le=>le.id===Le.id?Le:le)),S({action:"approve",notes:"",file:null}),A(""),T(null),f(!1)}catch(ne){console.error("Failed to submit review:",ne);const Ce=String(ne?.message||"");/Only assigned reviewer|403/.test(Ce)&&A("Only the assigned reviewer can update status for this document.")}}},dt=_=>{j(ne=>{const Ce=new Set(ne);return Ce.has(_)?Ce.delete(_):Ce.add(_),Ce})},Ut=_=>{const ne=[],Ce=q=>new Date(q).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});ne.push({id:"upload",title:"Upload",description:"Uploaded document",user:_.uploadedBy,role:_.uploadedByRole?_.uploadedByRole[0].toUpperCase()+_.uploadedByRole.slice(1):"Member",timestamp:Ce(_.dateSubmitted||_.uploadedAt),icon:"upload",color:"blue"}),ne.push({id:"review",title:"Sent for Review",description:`Assigned to ${_.sentTo[0]||"Reviewer"}`,user:_.uploadedBy,role:_.uploadedByRole?_.uploadedByRole[0].toUpperCase()+_.uploadedByRole.slice(1):"Member",timestamp:Ce(_.dateSubmitted||_.uploadedAt),icon:"review",color:"orange"});const Le=_.reviewerRole?_.reviewerRole[0].toUpperCase()+_.reviewerRole.slice(1):"Member";return _.status==="approved"&&_.reviewedAt?ne.push({id:"approved",title:"Approved",description:"Approved document",user:_.sentTo[0]||"Reviewer",role:Le,timestamp:Ce(_.reviewedAt),icon:"approved",color:"green"}):_.status==="needs-changes"&&_.reviewedAt?ne.push({id:"changes-requested",title:"Changes Requested",description:"Requested changes",user:_.sentTo[0]||"Reviewer",role:Le,timestamp:Ce(_.reviewedAt),icon:"changes-requested",color:"yellow",comment:_.reviewNote||void 0}):_.status==="rejected"&&_.reviewedAt&&ne.push({id:"rejected",title:"Rejected",description:"Rejected document",user:_.sentTo[0]||"Reviewer",role:Le,timestamp:Ce(_.reviewedAt),icon:"rejected",color:"red",comment:_.reviewNote||void 0}),ne};return a.jsxs("div",{children:[a.jsx("div",{className:"py-12 px-6 mb-6",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold mb-2 text-gray-900 dark:text-white",children:"My Documents & Reviews"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:"Manage your documents and track their journey through the review process"})]})}),a.jsxs("div",{className:"card p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"View"}),a.jsxs("div",{className:"inline-flex rounded-xl overflow-hidden border border-gray-200 dark:border-gray-700",children:[a.jsx("button",{type:"button",onClick:()=>re("inbox"),className:`px-4 py-2 text-sm ${V==="inbox"?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300"}`,children:"Inbox"}),a.jsx("button",{type:"button",onClick:()=>re("sent"),className:`px-4 py-2 text-sm border-l border-gray-200 dark:border-gray-700 ${V==="sent"?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300"}`,children:"Sent"})]})]}),a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsx("div",{className:"flex-1 max-w-md",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(TU,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"text",placeholder:"Search by document name, project,",value:e,onChange:_=>t(_.target.value),className:"input-field pl-10"})]})}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("select",{value:r,onChange:_=>n(_.target.value),className:"input-field text-sm py-2 px-3",children:[a.jsx("option",{value:"all",children:"All Projects"}),U.map(_=>a.jsx("option",{value:_.id,children:_.name},_.id))]}),a.jsxs("select",{className:"input-field text-sm py-2 px-3",children:[a.jsx("option",{value:"all",children:"All Phases"}),a.jsx("option",{value:"planning",children:"Planning"}),a.jsx("option",{value:"development",children:"Development"}),a.jsx("option",{value:"testing",children:"Testing"})]}),a.jsxs("select",{className:"input-field text-sm py-2 px-3",children:[a.jsx("option",{value:"all",children:"All Tasks"}),a.jsx("option",{value:"requirements",children:"Requirements"}),a.jsx("option",{value:"design",children:"Design"}),a.jsx("option",{value:"implementation",children:"Implementation"})]}),a.jsxs("select",{value:i,onChange:_=>o(_.target.value),className:"input-field text-sm py-2 px-3",children:[a.jsx("option",{value:"all",children:"All Statuses"}),a.jsx("option",{value:"draft",children:"Draft"}),a.jsx("option",{value:"in-review",children:"In Review"}),a.jsx("option",{value:"approved",children:"Approved"}),a.jsx("option",{value:"needs-changes",children:"Needs Changes"})]}),a.jsxs("button",{onClick:()=>u(!0),className:"btn-primary text-sm px-4 py-2",children:[a.jsx($d,{className:"h-4 w-4 mr-2"}),"Upload Document"]})]})]}),a.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700"}),Me.length===0?a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-xl p-12 text-center",children:[a.jsx(pi,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No documents found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Try adjusting your search or filter criteria."})]}):a.jsx("div",{className:"space-y-4",children:Me.map(_=>a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-12 h-12 bg-primary-100 dark:bg-primary-900 rounded-xl flex items-center justify-center",children:a.jsx(pi,{className:"h-6 w-6 text-primary-600 dark:text-primary-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:_.name}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[ve(_.projectId),"  Planning  Requirements Gathering"]})]})]}),a.jsx("span",{className:`badge ${_e(_.status)}`,children:_.status.replace("-"," ").toUpperCase()})]}),a.jsxs("div",{className:"flex items-center space-x-6 mb-4 text-sm text-gray-600 dark:text-gray-400",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(fv,{className:"h-4 w-4"}),a.jsx("span",{children:"Uploaded by"}),a.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-medium",children:_.uploadedBy}),_.uploadedByRole&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"mx-1",children:""}),a.jsx("span",{className:"capitalize",children:_.uploadedByRole})]})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(pS,{className:"h-4 w-4"}),a.jsx("span",{children:"Sent to"}),a.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-medium",children:_.sentTo[0]}),_.reviewerRole&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"mx-1",children:""}),a.jsx("span",{className:"capitalize",children:_.reviewerRole})]})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(U3,{className:"h-4 w-4"}),a.jsx("span",{children:"Submitted"}),a.jsx("span",{className:"font-medium",children:new Date(_.dateSubmitted).toLocaleDateString("en-GB")})]})]}),a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(pi,{className:"h-4 w-4 text-gray-400"}),a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:_.fileName})]}),a.jsxs("a",{href:Z(_),target:"_blank",rel:"noreferrer",className:"flex items-center space-x-1 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:[a.jsx(au,{className:"h-4 w-4"}),a.jsx("span",{children:"View Document"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("button",{onClick:()=>be(_),className:"flex items-center space-x-1 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:[a.jsx(kd,{className:"h-4 w-4"}),a.jsx("span",{children:"Edit"})]}),a.jsxs("button",{className:"flex items-center space-x-1 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:[a.jsx(H3,{className:"h-4 w-4"}),a.jsx("span",{children:"Delete"})]})]}),a.jsx("div",{className:"flex items-center",children:(V==="inbox"||_.reviewerId===(L?.id||""))&&a.jsxs("button",{onClick:()=>R(_),className:"btn-primary text-sm px-4 py-2",children:[a.jsx(pi,{className:"h-4 w-4 mr-2"}),"Review Document"]})})]}),a.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:a.jsxs("button",{onClick:()=>dt(_.id),className:"flex items-center space-x-1 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:[y.has(_.id)?a.jsx(kU,{className:"h-4 w-4 transition-transform duration-200"}):a.jsx(B3,{className:"h-4 w-4 transition-transform duration-200"}),a.jsx("span",{children:y.has(_.id)?"Hide Timeline":"View Timeline"})]})}),y.has(_.id)&&a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-4",children:"Document Journey"}),a.jsx("div",{className:"space-y-4",children:Ut(_).map((ne,Ce)=>a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${ne.color==="blue"?"bg-blue-500":ne.color==="orange"?"bg-orange-500":ne.color==="red"?"bg-red-500":ne.color==="yellow"?"bg-yellow-500":"bg-green-500"}`,children:ne.icon==="upload"?a.jsx(mv,{className:"h-4 w-4 text-white"}):ne.icon==="review"?a.jsx(pS,{className:"h-4 w-4 text-white"}):ne.icon==="approved"?a.jsx(vi,{className:"h-4 w-4 text-white"}):ne.icon==="changes-requested"?a.jsx(kd,{className:"h-4 w-4 text-white"}):ne.icon==="rejected"?a.jsx(rr,{className:"h-4 w-4 text-white"}):a.jsx(wU,{className:"h-4 w-4 text-white"})}),Ce<Ut(_).length-1&&a.jsx("div",{className:"w-0.5 h-8 bg-gray-300 dark:bg-gray-600 mt-2"})]}),a.jsx("div",{className:"flex-1 min-w-0",children:a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-xl p-4 shadow-sm border border-gray-200 dark:border-gray-600",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h5",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:ne.title}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:ne.timestamp})]}),a.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-2",children:ne.description}),a.jsxs("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400",children:[a.jsx(fv,{className:"h-3 w-3 mr-1"}),a.jsx("span",{children:ne.user}),a.jsx("span",{className:"mx-1",children:""}),a.jsx("span",{children:ne.role})]}),ne.comment&&a.jsx("div",{className:"mt-3 bg-gray-100 dark:bg-gray-600 rounded-lg p-3 border border-gray-200 dark:border-gray-500",children:a.jsx("p",{className:"text-sm text-gray-800 dark:text-gray-200",children:ne.comment})})]})})]},ne.id))})]})]},_.id))})]}),c&&a.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl p-6 w-full max-w-md mx-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Upload Document"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Upload a new document and assign it for review"})]}),a.jsx("button",{onClick:()=>u(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-xl transition-colors duration-200",children:a.jsx(rr,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"})})]}),a.jsxs("form",{onSubmit:we,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Document Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:k.name,onChange:_=>b(ne=>({...ne,name:_.target.value})),className:"input-field",placeholder:"e.g., Requirements Specification",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Project ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{value:k.project,onChange:_=>b(ne=>({...ne,project:_.target.value})),className:"input-field",required:!0,children:[a.jsx("option",{value:"",children:"Select project"}),U.map(_=>a.jsx("option",{value:_.id,children:_.name},_.id))]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Phase ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{value:k.phase,onChange:_=>b(ne=>({...ne,phase:_.target.value})),className:"input-field",required:!0,children:[a.jsx("option",{value:"",children:"Select phase"}),ie.map(_=>a.jsx("option",{value:_.id,children:_.name},_.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Task"}),a.jsxs("select",{value:k.task,onChange:_=>b(ne=>({...ne,task:_.target.value})),className:"input-field",children:[a.jsx("option",{value:"",children:"Select task (optional)"}),I.map(_=>a.jsx("option",{value:_.id,children:_.title},_.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),a.jsx("textarea",{value:k.description,onChange:_=>b(ne=>({...ne,description:_.target.value})),className:"input-field min-h-[80px] resize-none",placeholder:"Add notes or context about this document..."})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Assign Reviewer ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{value:k.reviewer,onChange:_=>b(ne=>({...ne,reviewer:_.target.value})),className:"input-field",required:!0,children:[a.jsx("option",{value:"",children:"Select reviewer"}),W.map(_=>a.jsx("option",{value:_.id,children:_.name},_.id))]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Upload Files ",a.jsx("span",{className:"text-red-500",children:"*"})," ",a.jsx("span",{className:"text-gray-500 text-sm",children:"(Multiple files supported)"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("input",{type:"file",onChange:F,className:"hidden",id:"upload-file-input",multiple:!0,required:!0}),a.jsx("label",{htmlFor:"upload-file-input",className:"px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-xl cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors duration-200",children:"Choose files"}),a.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:k.files?`${k.files.length} file(s) chosen`:"No file chosen"}),k.files&&a.jsx("button",{type:"button",onClick:()=>b(_=>({..._,files:null})),className:"text-red-500 hover:text-red-700",children:a.jsx(rr,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"flex space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>u(!1),className:"flex-1 btn-secondary",children:"Cancel"}),a.jsx("button",{type:"submit",className:"flex-1 btn-primary",children:"Upload Document"})]})]})]})}),m&&E&&a.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl p-6 w-full max-w-md mx-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Review Document"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:E.name})]}),a.jsx("button",{onClick:()=>f(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-xl transition-colors duration-200",children:a.jsx(rr,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"})})]}),a.jsxs("form",{onSubmit:qe,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:["Select Action ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:`p-4 rounded-xl border-2 cursor-pointer transition-colors duration-200 ${C.action==="approve"?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"}`,onClick:()=>{S(_=>({..._,action:"approve"})),A("")},children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-lg flex items-center justify-center",children:a.jsx(vi,{className:"h-5 w-5 text-white"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:"Approve"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Document meets requirements"})]})]})}),a.jsx("div",{className:`p-4 rounded-xl border-2 cursor-pointer transition-colors duration-200 ${C.action==="request-changes"?"border-orange-500 bg-orange-50 dark:bg-orange-900/20":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"}`,onClick:()=>{S(_=>({..._,action:"request-changes"})),A("")},children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center",children:a.jsx(kd,{className:"h-5 w-5 text-white"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:"Request Changes"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Document needs modifications"})]})]})}),a.jsx("div",{className:`p-4 rounded-xl border-2 cursor-pointer transition-colors duration-200 ${C.action==="reject"?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"}`,onClick:()=>{S(_=>({..._,action:"reject"})),A("")},children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-red-500 rounded-lg flex items-center justify-center",children:a.jsx(rr,{className:"h-5 w-5 text-white"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:"Reject"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Document does not meet requirements"})]})]})})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Notes ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{value:C.notes,onChange:_=>{S(ne=>({...ne,notes:_.target.value})),N&&A("")},className:`input-field min-h-[100px] resize-none ${N?"border-red-500 focus:ring-red-500 focus:border-red-500":""}`,placeholder:"Add your comments or feedback..."}),N&&a.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:N})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Upload Document (Optional)"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:"Attach corrected or marked-up documents"}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("input",{type:"file",onChange:ue,className:"hidden",id:"review-file-input"}),a.jsx("label",{htmlFor:"review-file-input",className:"px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-xl cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors duration-200",children:"Choose file"}),a.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:C.file?C.file.name:"No file chosen"}),C.file&&a.jsx("button",{type:"button",onClick:()=>S(_=>({..._,file:null})),className:"text-red-500 hover:text-red-700",children:a.jsx(rr,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"flex space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>f(!1),className:"flex-1 btn-secondary",children:"Cancel"}),a.jsx("button",{type:"submit",className:"flex-1 btn-primary",children:"Submit Review"})]})]})]})}),g&&E&&a.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl p-6 w-full max-w-md mx-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Edit Document"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Update document details and re-upload files if needed"})]}),a.jsx("button",{onClick:()=>p(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-xl transition-colors duration-200",children:a.jsx(rr,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"})})]}),a.jsxs("form",{onSubmit:Ve,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Document Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:P.name,onChange:_=>O(ne=>({...ne,name:_.target.value})),className:"input-field",placeholder:"Enter document name",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),a.jsx("textarea",{value:P.description,onChange:_=>O(ne=>({...ne,description:_.target.value})),className:"input-field min-h-[80px] resize-none",placeholder:"Add notes or context about this document..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Re-upload Files (Optional)"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:"Upload new files to replace existing ones. Multiple files and images supported."}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("input",{type:"file",onChange:Ee,className:"hidden",id:"edit-file-input",multiple:!0}),a.jsx("label",{htmlFor:"edit-file-input",className:"px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-xl cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors duration-200",children:"Choose files"}),a.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:P.files?`${P.files.length} file(s) chosen`:"No file chosen"}),P.files&&a.jsx("button",{type:"button",onClick:()=>O(_=>({..._,files:null})),className:"text-red-500 hover:text-red-700",children:a.jsx(rr,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Current files (1):"}),a.jsx("ul",{className:"list-disc list-inside text-sm text-gray-600 dark:text-gray-400",children:a.jsx("li",{children:E.fileName})})]}),a.jsxs("div",{className:"flex space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>p(!1),className:"flex-1 btn-secondary",children:"Cancel"}),a.jsx("button",{type:"submit",className:"flex-1 btn-primary",children:"Update Document"})]})]})]})})]})};class Pae{userData;timeWindow="30days";constructor(t,r="30days"){this.userData=t,this.timeWindow=r}calculateDelivery(){const{tasks:t,projects:r}=this.userData,n=this.filterByTimeWindow(t);if(n.length===0)return 0;const o=n.filter(m=>{if(!m.dueDate)return!1;const f=new Date(m.dueDate);return(m.status==="completed"?new Date(m.completedAt||""):new Date)<=f}).length/n.length*100,c=n.reduce((m,f)=>{const g=f.priority==="critical"?1.2:f.priority==="high"?1.1:f.priority==="medium"?1:.9;return m+g},0)/n.length,u=this.calculateProjectMilestoneRate(r);return Math.min(100,(o*.6+u*.4)*c)}calculateReliability(){const{tasks:t,timeLogs:r}=this.userData,n=this.filterByTimeWindow(t);if(n.length===0)return 0;const o=n.filter(g=>{if(!g.dueDate||g.status==="completed")return!1;const p=new Date(g.dueDate);return new Date>p}).length/n.length*30,c=n.filter(g=>g.status==="completed"),u=c.length>0?c.reduce((g,p)=>{if(!p.createdAt||!p.completedAt)return g;const y=new Date(p.createdAt),j=new Date(p.completedAt);return g+(j.getTime()-y.getTime())/(1e3*60*60*24)},0)/c.length:0,m=Math.max(0,100-u*2),f=this.calculateLogConsistency(r);return Math.max(0,100-o-(100-m)*.3-(100-f)*.2)}calculateCollaboration(){const{comments:t,documents:r}=this.userData,n=this.filterByTimeWindow(t),i=this.filterByTimeWindow(r),o=this.getWeeksInTimeWindow(),c=n.length/o,u=Math.min(100,c*5),m=i.length,f=i.filter(j=>j.status==="approved").length,g=Math.min(100,m*2+f*3),p=new Set(n.map(j=>j.projectId||j.taskId)).size,y=Math.min(100,p*15);return u*.4+g*.4+y*.2}calculateQuality(){const{documents:t,comments:r}=this.userData,n=this.filterByTimeWindow(t);if(n.length===0)return 0;const o=n.filter(f=>f.status==="approved").length/n.length*100,c=n.reduce((f,g)=>{if(!g.uploadedAt||!g.reviewedAt)return f;const p=new Date(g.uploadedAt),y=new Date(g.reviewedAt);return f+(y.getTime()-p.getTime())/(1e3*60*60*24)},0)/Math.max(1,n.length),u=Math.max(0,100-c*10),m=this.calculateReviewParticipation(r);return o*.5+u*.3+m*.2}calculateInitiative(){const{timeLogs:t,tasks:r,comments:n}=this.userData,i=this.filterByTimeWindow(r),o=this.filterByTimeWindow(n),c=this.calculateLogConsistency(t),u=i.filter(p=>p.createdBy===this.userData.user.id).length,m=Math.min(100,u*20),f=o.filter(p=>p.content.includes("?")||p.content.includes("suggest")||p.content.includes("recommend")).length,g=Math.min(100,f*10);return c*.4+m*.3+g*.3}calculateEfficiency(){const{projects:t,timeLogs:r}=this.userData,n=this.filterByTimeWindow(r),i=t.filter(u=>u.status==="completed");if(i.length===0)return 85;let o=0,c=0;return i.forEach(u=>{if(u.allocatedHours>0){const f=n.filter(g=>g.projectId===u.id).reduce((g,p)=>g+p.hours,0);if(f>0){const g=u.allocatedHours/f*100;o+=Math.min(150,g),c++}}}),c>0?o/c:85}filterByTimeWindow(t){const r=new Date,n=new Date;switch(this.timeWindow){case"30days":n.setDate(r.getDate()-30);break;case"90days":n.setDate(r.getDate()-90);break;case"ytd":n.setFullYear(r.getFullYear(),0,1);break}return t.filter(i=>new Date(i.createdAt||i.loggedAt||i.uploadedAt||"")>=n)}getWeeksInTimeWindow(){const t=new Date,r=new Date;switch(this.timeWindow){case"30days":r.setDate(t.getDate()-30);break;case"90days":r.setDate(t.getDate()-90);break;case"ytd":r.setFullYear(t.getFullYear(),0,1);break}return Math.ceil((t.getTime()-r.getTime())/(1e3*60*60*24*7))}calculateProjectMilestoneRate(t){return t.length===0?0:t.filter(n=>n.status==="completed").length/t.length*100}calculateLogConsistency(t){if(t.length===0)return 0;const n=this.getWeeksInTimeWindow()*5,i=t.length;return Math.min(100,i/n*100)}calculateReviewParticipation(t){const r=t.filter(n=>n.content.toLowerCase().includes("review")||n.content.toLowerCase().includes("approve")||n.content.toLowerCase().includes("feedback")).length;return Math.min(100,r*10)}calculateGrade(t){return t>=95?"A+":t>=90?"A":t>=85?"B+":t>=80?"B":t>=75?"C+":t>=70?"C":t>=65?"D+":t>=60?"D":"F"}calculateKPI(){const t=this.calculateDelivery(),r=this.calculateReliability(),n=this.calculateCollaboration(),i=this.calculateQuality(),o=this.calculateInitiative(),c=this.calculateEfficiency(),u=this.getRoleWeights(),m=t*u.delivery+r*u.reliability+n*u.collaboration+i*u.quality+o*u.initiative+c*u.efficiency;return{delivery:Math.round(t*10)/10,reliability:Math.round(r*10)/10,collaboration:Math.round(n*10)/10,quality:Math.round(i*10)/10,initiative:Math.round(o*10)/10,efficiency:Math.round(c*10)/10,overall:Math.round(m*10)/10,grade:this.calculateGrade(m)}}getRoleWeights(){switch(this.userData.user.role?.toLowerCase()||"member"){case"manager":return{delivery:.2,reliability:.25,collaboration:.2,quality:.2,initiative:.1,efficiency:.05};case"director":return{delivery:.15,reliability:.2,collaboration:.25,quality:.2,initiative:.15,efficiency:.05};case"employee":case"member":default:return{delivery:.25,reliability:.25,collaboration:.2,quality:.2,initiative:.05,efficiency:.05}}}}function Rae(e,t,r,n,i,o,c="30days"){const u={user:e,tasks:t.filter(m=>m.assignee===e.id||m.assignees.includes(e.id)),projects:r.filter(m=>m.team.includes(e.id)),timeLogs:n.filter(m=>m.userId===e.id),comments:i.filter(m=>m.author.id===e.id),documents:o.filter(m=>m.uploadedBy===e.id)};return new Pae(u,c)}class _ae{allTasks=[];allProjects=[];allTimeLogs=[];allComments=[];allDocuments=[];constructor(){this.loadMockData()}loadMockData(){this.loadTasks(),this.loadProjects(),this.loadTimeLogs(),this.loadComments(),this.loadDocuments()}loadTasks(){this.allTasks=[{id:"1",title:"Wireframe Creation",description:"Create low-fidelity wireframes for all screens",status:"completed",priority:"high",dueDate:"2024-01-25",projectId:"1",phaseId:"1",assignees:["1"],assignee:"1",createdAt:"2024-01-15T09:00:00Z",updatedAt:"2024-01-24T17:30:00Z",completedAt:"2024-01-24T17:30:00Z",progress:100,isDone:!0,createdBy:"1"},{id:"2",title:"API Integration",description:"Integrate backend API with frontend",status:"in-progress",priority:"medium",dueDate:"2024-02-15",projectId:"2",phaseId:"2",assignees:["1"],assignee:"1",createdAt:"2024-01-20T10:00:00Z",updatedAt:"2024-01-20T10:00:00Z",progress:65,isDone:!1,createdBy:"2"},{id:"3",title:"Security Testing",description:"Perform penetration testing",status:"completed",priority:"critical",dueDate:"2024-01-30",projectId:"3",phaseId:"3",assignees:["1"],assignee:"1",createdAt:"2024-01-10T08:00:00Z",updatedAt:"2024-01-28T16:00:00Z",completedAt:"2024-01-28T16:00:00Z",progress:100,isDone:!0,createdBy:"1"}]}loadProjects(){this.allProjects=[{id:"1",name:"Mobile App Redesign",description:"Complete redesign of mobile application",owner:"Sarah Johnson",status:"in-progress",progress:65,startDate:"2024-01-15",dueDate:"2024-03-15",team:["1","2","3"],tags:["mobile","design","ux"],priority:"high",phases:[],tasks:[],members:[],allocatedHours:200,loggedHours:130,remainingHours:70},{id:"2",name:"Backend API Development",description:"Develop REST API for mobile app",owner:"Mike Chen",status:"in-progress",progress:45,startDate:"2024-01-20",dueDate:"2024-02-28",team:["1","4"],tags:["backend","api","development"],priority:"medium",phases:[],tasks:[],members:[],allocatedHours:150,loggedHours:68,remainingHours:82},{id:"3",name:"Security Audit",description:"Comprehensive security audit",owner:"Emily Davis",status:"completed",progress:100,startDate:"2024-01-10",dueDate:"2024-01-30",team:["1","5"],tags:["security","audit"],priority:"critical",phases:[],tasks:[],members:[],allocatedHours:80,loggedHours:75,remainingHours:5}]}loadTimeLogs(){this.allTimeLogs=[{id:"1",userId:"1",userName:"John Doe",projectId:"1",taskId:"1",phaseId:"1",hours:8,description:"Created wireframes for main screens",loggedAt:"2024-01-20T09:00:00Z",createdAt:"2024-01-20T09:00:00Z"},{id:"2",userId:"1",userName:"John Doe",projectId:"1",taskId:"1",phaseId:"1",hours:6,description:"Refined wireframes based on feedback",loggedAt:"2024-01-21T10:00:00Z",createdAt:"2024-01-21T10:00:00Z"},{id:"3",userId:"1",userName:"John Doe",projectId:"2",taskId:"2",phaseId:"2",hours:7,description:"Implemented API endpoints",loggedAt:"2024-01-22T08:30:00Z",createdAt:"2024-01-22T08:30:00Z"},{id:"4",userId:"1",userName:"John Doe",projectId:"3",taskId:"3",phaseId:"3",hours:9,description:"Conducted security testing",loggedAt:"2024-01-25T09:15:00Z",createdAt:"2024-01-25T09:15:00Z"}]}loadComments(){this.allComments=[{id:"1",content:"Great work on the wireframes! The layout looks clean and intuitive.",author:{id:"1",name:"John Doe",email:"john@company.com",avatar:"JD"},projectId:"1",phaseId:"1",taskId:"1",createdAt:"2024-01-20T14:30:00Z",replies:[]},{id:"2",content:"I suggest we add a dark mode option to the settings screen.",author:{id:"1",name:"John Doe",email:"john@company.com",avatar:"JD"},projectId:"1",phaseId:"1",taskId:"1",createdAt:"2024-01-21T11:15:00Z",replies:[]},{id:"3",content:"The API integration is working well. Ready for testing.",author:{id:"1",name:"John Doe",email:"john@company.com",avatar:"JD"},projectId:"2",phaseId:"2",taskId:"2",createdAt:"2024-01-22T16:45:00Z",replies:[]}]}loadDocuments(){this.allDocuments=[{id:"1",name:"Wireframe_v1.pdf",fileName:"Wireframe_v1.pdf",fileType:"pdf",type:"pdf",fileSize:2048e3,uploadedBy:"1",uploadedAt:"2024-01-20T10:00:00Z",projectId:"1",phaseId:"1",taskId:"1",status:"approved",reviewedAt:"2024-01-21T15:00:00Z",sentTo:["2","3"],dateSubmitted:"2024-01-20T10:00:00Z",version:1},{id:"2",name:"API_Documentation.md",fileName:"API_Documentation.md",fileType:"markdown",type:"markdown",fileSize:512e3,uploadedBy:"1",uploadedAt:"2024-01-22T09:30:00Z",projectId:"2",phaseId:"2",taskId:"2",status:"pending",reviewedAt:void 0,sentTo:["4"],dateSubmitted:"2024-01-22T09:30:00Z",version:1},{id:"3",name:"Security_Report.pdf",fileName:"Security_Report.pdf",fileType:"pdf",type:"pdf",fileSize:1536e3,uploadedBy:"1",uploadedAt:"2024-01-25T14:20:00Z",projectId:"3",phaseId:"3",taskId:"3",status:"approved",reviewedAt:"2024-01-26T10:30:00Z",sentTo:["5"],dateSubmitted:"2024-01-25T14:20:00Z",version:1}]}aggregateUserData(t,r){const n=r||{id:t,name:"John Doe",email:"john@company.com",role:"manager",department:"Engineering",avatar:"JD",isActive:!0,lastActive:new Date().toISOString()},i=this.allTasks.filter(Q=>Q.assignee===t),o=this.allProjects.filter(Q=>Q.team.includes(t)),c=this.allTimeLogs.filter(Q=>Q.userId===t),u=this.allComments.filter(Q=>Q.author.id===t),m=this.allDocuments.filter(Q=>Q.uploadedBy===t),f=new Date,g=new Date(f.getFullYear(),f.getMonth(),1),p=c.filter(Q=>new Date(Q.loggedAt)>=g).reduce((Q,te)=>Q+te.hours,0),y=c.reduce((Q,te)=>Q+te.hours,0),j=o.length,k=new Set(i.map(Q=>Q.phaseId)).size,b=Math.ceil((f.getTime()-g.getTime())/(1e3*60*60*24*7)),C=p/b,S=i.filter(Q=>Q.status==="completed"),N=S.filter(Q=>{if(!Q.dueDate||!Q.completedAt)return!1;const te=new Date(Q.dueDate);return new Date(Q.completedAt)<=te}).length,A=S.length>0?N/S.length*100:0,E=S.length>0?(S.length-N)/S.length*100:0,T=i.filter(Q=>{if(!Q.dueDate||Q.status==="completed")return!1;const te=new Date(Q.dueDate);return new Date>te}).length,P=u.length,O=P/b,U=m.length,X=m.filter(Q=>Q.status==="approved").length,ie=o.filter(Q=>Q.status==="completed"),W=ie.reduce((Q,te)=>{if(te.allocatedHours>0){const V=c.filter(re=>re.projectId===te.id).reduce((re,K)=>re+K.hours,0);return Q+Math.max(0,te.allocatedHours-V)}return Q},0),G=ie.filter(Q=>{if(!Q.dueDate)return!1;const te=new Date(Q.dueDate);return new Date<te}).length,H=G>0?W/G:0;return{user:n,tasks:i,projects:o,timeLogs:c,comments:u,documents:m,totalHoursThisMonth:p,totalHoursAllTime:y,projectsInvolved:j,phasesContributed:k,averageHoursPerWeek:C,onTimeContribution:A,delayedContribution:E,overdueTasksCount:T,commentsAdded:P,commentsPerWeek:O,documentsShared:U,documentsReviewed:X,timeSaved:W,earlyCompletions:G,averageTimeSaved:H}}updateTask(t){const r=this.allTasks.findIndex(n=>n.id===t.id);r>=0?this.allTasks[r]=t:this.allTasks.push(t)}updateProject(t){const r=this.allProjects.findIndex(n=>n.id===t.id);r>=0?this.allProjects[r]=t:this.allProjects.push(t)}addTimeLog(t){this.allTimeLogs.push(t)}addComment(t){this.allComments.push(t)}addDocument(t){this.allDocuments.push(t)}}const Iae=new _ae,Lae=()=>{const{user:e}=Cl(),[t,r]=x.useState(!1),[n,i]=x.useState({name:e?.name||"",profilePicture:null}),[o,c]=x.useState("daily"),[u,m]=x.useState(!1),[f,g]=x.useState("30days"),[p,y]=x.useState(null),[j,k]=x.useState(null),[b,C]=x.useState(!0);x.useEffect(()=>{(async()=>{if(e?.id){C(!0);try{const me=Iae.aggregateUserData(e.id,e);y(me);const ye=Rae(me.user,me.tasks,me.projects,me.timeLogs,me.comments,me.documents,f).calculateKPI();k(ye)}catch(me){console.error("Error loading user data:",me)}finally{C(!1)}}})()},[e?.id,f]);const S={name:p?.user.name||e?.name||"John Doe",email:p?.user.email||e?.email||"john.doe@company.com",role:p?.user.role||e?.role||"Manager",department:p?.user.department||e?.department||"Engineering",currentProjects:p?.projects.map(L=>({id:L.id,name:L.name,link:`/projects/${L.id}`}))||[{id:"1",name:"Mobile App Redesign",link:"/projects/1"},{id:"2",name:"Backend API Development",link:"/projects/2"},{id:"3",name:"Security Audit",link:"/projects/3"}],totalHoursThisMonth:p?.totalHoursThisMonth||168,totalHoursAllTime:p?.totalHoursAllTime||2048,performanceScore:j?.overall||87.5},N=j||{delivery:82.3,reliability:89.1,collaboration:76.8,quality:84.2,initiative:91.5,efficiency:88.7,overall:85.2,grade:"B+"},A={projectsInvolved:p?.projectsInvolved||12,phasesContributed:p?.phasesContributed||8,totalHoursWorked:p?.totalHoursAllTime||2048,averageHoursPerWeek:p?.averageHoursPerWeek||42.5,contributionShare:p?.projects.map(L=>({project:L.name,percentage:Math.round(L.loggedHours/p.totalHoursAllTime*100)}))||[{project:"Mobile App Redesign",percentage:35},{project:"Backend API",percentage:28},{project:"Security Audit",percentage:22},{project:"Other Projects",percentage:15}]},E={onTimeContribution:p?.onTimeContribution||78.5,delayedContribution:p?.delayedContribution||18.2,overdueTasksCount:p?.overdueTasksCount||3,performanceBreakdown:[{status:"On-time",count:Math.round((p?.onTimeContribution||78.5)/100*(p?.tasks.length||60)),color:"bg-green-500"},{status:"Late",count:Math.round((p?.delayedContribution||18.2)/100*(p?.tasks.length||60)),color:"bg-yellow-500"},{status:"Overdue",count:p?.overdueTasksCount||3,color:"bg-red-500"}]},T={commentsAdded:p?.commentsAdded||156,commentsPerWeek:p?.commentsPerWeek||12.8,documentsShared:p?.documentsShared||23,documentsReviewed:p?.documentsReviewed||18,documentFlow:p?.documents.slice(0,3).map(L=>({from:p.user.name,to:"Team Member",project:p.projects.find(me=>me.id===L.projectId)?.name||"Project",type:(L.type||L.fileType).toUpperCase()}))||[{from:"Sarah Johnson",to:"John Doe",project:"Mobile App",type:"Design Review"},{from:"John Doe",to:"Mike Chen",project:"Backend API",type:"Code Review"},{from:"John Doe",to:"Emily Davis",project:"Security Audit",type:"Security Report"}]},P={totalAllocatedHours:p?.projects.reduce((L,me)=>L+me.allocatedHours,0)||240,totalLoggedHours:p?.totalHoursAllTime||2048,timeSaved:p?.timeSaved||192,earlyCompletions:p?.earlyCompletions||8,averageTimeSaved:p?.averageTimeSaved||12.5,efficiencyBreakdown:p?.projects.filter(L=>L.status==="completed").map(L=>{const Z=p.timeLogs.filter(ve=>ve.projectId===L.id).reduce((ve,_e)=>ve+_e.hours,0),ye=Math.max(0,L.allocatedHours-Z),Me=L.allocatedHours>0?Math.round(L.allocatedHours/Z*100):100;return{project:L.name,allocated:L.allocatedHours,logged:Z,saved:ye,efficiency:Me}})||[{project:"Mobile App Redesign",allocated:60,logged:45,saved:15,efficiency:125},{project:"Backend API",allocated:40,logged:28,saved:12,efficiency:130},{project:"Security Audit",allocated:30,logged:28,saved:2,efficiency:107},{project:"Other Projects",allocated:110,logged:95,saved:15,efficiency:116}]},O=[{id:"1",name:"TECH-2025-008 (Penetration Testing)",duration:"Jan 15 - Mar 30",hoursLogged:32,contributionPercent:28,phasesContributed:"1/2",onTimeContribution:92,comments:7,docsUploaded:3,docsReviewed:2,status:"on-time"},{id:"2",name:"MOBILE-2025-003 (App Redesign)",duration:"Feb 1 - Apr 15",hoursLogged:45,contributionPercent:35,phasesContributed:"2/3",onTimeContribution:85,comments:12,docsUploaded:5,docsReviewed:3,status:"on-time"},{id:"3",name:"API-2025-001 (Backend Development)",duration:"Dec 1 - Feb 28",hoursLogged:28,contributionPercent:22,phasesContributed:"1/1",onTimeContribution:78,comments:4,docsUploaded:2,docsReviewed:1,status:"late"}],U=[{day:"Mon",hours:8,comments:3,docs:1},{day:"Tue",hours:7.5,comments:2,docs:0},{day:"Wed",hours:6,comments:5,docs:2},{day:"Thu",hours:8.5,comments:1,docs:1},{day:"Fri",hours:7,comments:4,docs:0},{day:"Sat",hours:6.5,comments:2,docs:1},{day:"Sun",hours:8,comments:3,docs:2}],X=[{week:"Week 1",hours:32,comments:12,docs:2},{week:"Week 2",hours:38,comments:17,docs:3},{week:"Week 3",hours:42,comments:15,docs:3},{week:"Week 4",hours:36,comments:21,docs:6},{week:"Week 5",hours:20,comments:16,docs:2},{week:"Week 6",hours:33,comments:14,docs:2},{week:"Week 7",hours:38,comments:18,docs:3},{week:"Week 8",hours:40,comments:16,docs:3}],ie=[{month:"Jan",hours:168,comments:78,docs:15},{month:"Feb",hours:152,comments:65,docs:12},{month:"Mar",hours:176,comments:82,docs:18},{month:"Apr",hours:160,comments:71,docs:14}],W=[{project:"Mobile App Redesign",hours:45,percentage:35,color:"bg-blue-500"},{project:"Backend API",hours:36,percentage:28,color:"bg-green-500"},{project:"Security Audit",hours:28,percentage:22,color:"bg-purple-500"},{project:"Other Projects",hours:19,percentage:15,color:"bg-orange-500"}],G=L=>{switch(L.charAt(0)){case"A":return"text-green-600 dark:text-green-400";case"B":return"text-blue-600 dark:text-blue-400";case"C":return"text-yellow-600 dark:text-yellow-400";case"D":return"text-orange-600 dark:text-orange-400";case"F":return"text-red-600 dark:text-red-400";default:return"text-gray-600 dark:text-gray-400"}},H=L=>{switch(L){case"on-time":return"badge-success";case"late":return"badge-warning";case"overdue":return"badge-danger";default:return"badge-info"}},Q=L=>{switch(L){case"on-time":return a.jsx(vi,{className:"h-4 w-4 text-green-500"});case"late":return a.jsx(SU,{className:"h-4 w-4 text-yellow-500"});case"overdue":return a.jsx(rr,{className:"h-4 w-4 text-red-500"});default:return a.jsx(Nd,{className:"h-4 w-4 text-blue-500"})}},te=()=>{r(!0),i({name:S.name,profilePicture:null})},$=()=>{console.log("Saving profile:",n),r(!1)},V=()=>{const me=[["Profile Report",""],["Name",S.name],["Email",S.email],["Role",S.role],["Department",S.department],[""],["KPI Scores",""],["Overall Score",N.overall],["Grade",N.grade],["Delivery",N.delivery],["Reliability",N.reliability],["Collaboration",N.collaboration],["Quality",N.quality],["Initiative",N.initiative],[""],["Performance Metrics",""],["Total Hours (All Time)",S.totalHoursAllTime],["Total Hours (This Month)",S.totalHoursThisMonth],["Projects Involved",A.projectsInvolved],["Phases Contributed",A.phasesContributed],["On-Time Contribution %",E.onTimeContribution],["Comments Added",T.commentsAdded],["Documents Shared",T.documentsShared],["Documents Reviewed",T.documentsReviewed]].map(ve=>ve.join(",")).join(`
`),Z=new Blob([me],{type:"text/csv"}),ye=window.URL.createObjectURL(Z),Me=document.createElement("a");Me.href=ye,Me.download=`${S.name}-profile-report.csv`,document.body.appendChild(Me),Me.click(),document.body.removeChild(Me),window.URL.revokeObjectURL(ye)},re=L=>{L.target.files&&L.target.files[0]&&i({...n,profilePicture:L.target.files[0]})},K=()=>{switch(o){case"daily":return U;case"monthly":return ie;default:return X}},J=()=>{switch(o){case"daily":return"Daily Activity Timeline";case"monthly":return"Monthly Activity Timeline";default:return"Weekly Activity Timeline"}},I=()=>{switch(o){case"daily":return"day";case"monthly":return"month";default:return"week"}};return b?a.jsx("div",{className:"space-y-6",children:a.jsx("div",{className:"card",children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading profile data..."})]})})})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"h-24 w-24 rounded-full bg-gradient-to-br from-primary-500 to-primary-600 flex items-center justify-center text-white text-3xl font-bold shadow-lg",children:S.name.charAt(0).toUpperCase()}),t&&a.jsxs("label",{className:"absolute bottom-0 right-0 bg-white dark:bg-gray-800 rounded-full p-2 shadow-lg cursor-pointer border-2 border-primary-500",children:[a.jsx(D8,{className:"h-4 w-4 text-primary-600"}),a.jsx("input",{type:"file",accept:"image/*",onChange:re,className:"hidden"})]})]}),a.jsx("div",{className:"flex-1",children:t?a.jsxs("div",{className:"space-y-3",children:[a.jsx("input",{type:"text",value:n.name,onChange:L=>i({...n,name:L.target.value}),className:"input-field text-2xl font-bold"}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Email: ",S.email," (cannot be changed)"]})]}):a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:S.name}),a.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 capitalize",children:S.role}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:S.email}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:S.department})]})})]}),a.jsx("div",{className:"flex items-center space-x-3",children:t?a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>r(!1),className:"btn-secondary",children:"Cancel"}),a.jsx("button",{onClick:$,className:"btn-primary",children:"Save Changes"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:te,className:"btn-secondary inline-flex items-center",children:[a.jsx(QD,{className:"h-4 w-4 mr-2"}),"Edit Profile"]}),a.jsxs("button",{onClick:V,className:"btn-primary inline-flex items-center",children:[a.jsx(nl,{className:"h-4 w-4 mr-2"}),"Download Report"]})]})})]}),a.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Current Projects Assigned"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:S.currentProjects.map(L=>a.jsx("a",{href:L.link,className:"block p-4 border border-gray-200 dark:border-gray-700 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white hover:text-primary-600 dark:hover:text-primary-400",children:L.name})},L.id))})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Total Hours Logged (This Month)"}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[S.totalHoursThisMonth,"h"]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Total Hours Logged (All Time)"}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[S.totalHoursAllTime,"h"]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Performance Score"}),a.jsxs("p",{className:"text-2xl font-bold text-primary-600 dark:text-primary-400",children:[S.performanceScore,"%"]})]})]})]}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"KPI Score"}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{onClick:()=>m(!u),className:"btn-secondary inline-flex items-center",children:[a.jsx(CU,{className:"h-4 w-4 mr-2"}),"How Calculated"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Window:"}),a.jsxs("select",{value:f,onChange:L=>g(L.target.value),className:"input-field text-sm py-1",children:[a.jsx("option",{value:"30days",children:"30 days"}),a.jsx("option",{value:"90days",children:"90 days"}),a.jsx("option",{value:"ytd",children:"YTD"})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsx("div",{className:"flex flex-col items-center",children:a.jsxs("div",{className:"relative w-48 h-48 mb-6",children:[a.jsxs("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 100 100",children:[a.jsx("circle",{cx:"50",cy:"50",r:"40",stroke:"currentColor",strokeWidth:"8",fill:"none",className:"text-gray-200 dark:text-gray-700"}),a.jsx("circle",{cx:"50",cy:"50",r:"40",stroke:"currentColor",strokeWidth:"8",fill:"none",strokeDasharray:`${2*Math.PI*40}`,strokeDashoffset:`${2*Math.PI*40*(1-N.overall/100)}`,className:"text-primary-600 dark:text-primary-400",strokeLinecap:"round"})]}),a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[a.jsx("div",{className:`text-4xl font-bold ${G(N.grade)}`,children:N.overall}),a.jsx("div",{className:`text-lg font-semibold ${G(N.grade)}`,children:N.grade})]})]})}),a.jsx("div",{className:"space-y-4",children:[{name:"Delivery",score:N.delivery,color:"bg-blue-500"},{name:"Reliability",score:N.reliability,color:"bg-green-500"},{name:"Collaboration",score:N.collaboration,color:"bg-purple-500"},{name:"Quality",score:N.quality,color:"bg-yellow-500"},{name:"Initiative",score:N.initiative,color:"bg-orange-500"},{name:"Efficiency",score:N.efficiency,color:"bg-emerald-500"}].map(L=>a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:L.name}),a.jsxs("span",{className:"text-sm font-bold text-gray-900 dark:text-white",children:[L.score,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3",children:a.jsx("div",{className:`h-3 rounded-full ${L.color}`,style:{width:`${L.score}%`}})})]},L.name))})]}),u&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 w-full max-w-4xl mx-4 max-h-[80vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"KPI Calculation Details"}),a.jsx("button",{onClick:()=>m(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:a.jsx(eu,{className:"h-5 w-5 text-gray-500"})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Data Sources"}),a.jsxs("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[a.jsx("li",{children:" Tasks: Completion rates, on-time delivery, priority weighting"}),a.jsx("li",{children:" Projects: Milestone hit rates, role-based contributions"}),a.jsx("li",{children:" Daily Logs: Consistency, depth, attachment rates"}),a.jsx("li",{children:" Reviews: First-pass approval rates, participation"}),a.jsx("li",{children:" Documents: Upload rates, turnaround times"}),a.jsx("li",{children:" Activity Feed: Comments, cross-project interactions"}),a.jsx("li",{children:" Time Allocation: Allocated vs. actual hours, early completion bonuses"}),a.jsx("li",{children:" User Role: Department and role-specific weighting"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Role Weights (Manager)"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsx("div",{children:"Delivery: 20%"}),a.jsx("div",{children:"Reliability: 25%"}),a.jsx("div",{children:"Collaboration: 20%"}),a.jsx("div",{children:"Quality: 20%"}),a.jsx("div",{children:"Initiative: 10%"}),a.jsx("div",{children:"Efficiency: 5%"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Current Scores"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Delivery (On-time + Throughput):"}),a.jsxs("span",{className:"font-medium",children:[N.delivery,"%"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Reliability (Overdue + Freshness):"}),a.jsxs("span",{className:"font-medium",children:[N.reliability,"%"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Collaboration (Comments + Docs):"}),a.jsxs("span",{className:"font-medium",children:[N.collaboration,"%"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Quality (Approval + Turnaround):"}),a.jsxs("span",{className:"font-medium",children:[N.quality,"%"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Initiative (Logs + Self-started):"}),a.jsxs("span",{className:"font-medium",children:[N.initiative,"%"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Efficiency (Time Saved + Early Completion):"}),a.jsxs("span",{className:"font-medium",children:[N.efficiency,"%"]})]})]})]})]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"High-level Stats"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Projects Involved"}),a.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:A.projectsInvolved})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Phases Contributed"}),a.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:A.phasesContributed})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Hours Worked"}),a.jsxs("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:[A.totalHoursWorked,"h"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Average Hours per Week"}),a.jsxs("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:[A.averageHoursPerWeek,"h"]})]})]})]}),a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Time Distribution"}),a.jsx("div",{className:"space-y-3",children:W.map((L,me)=>a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:L.project}),a.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[L.hours,"h (",L.percentage,"%)"]})]}),a.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:a.jsx("div",{className:`h-2 rounded-full ${L.color}`,style:{width:`${L.percentage}%`}})})]},me))})]})]}),a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Task & Deadline Performance"}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsx("div",{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"On-Time Contribution %"}),a.jsxs("span",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:[E.onTimeContribution,"%"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Delayed Contribution %"}),a.jsxs("span",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:[E.delayedContribution,"%"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Overdue Tasks Count"}),a.jsx("span",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:E.overdueTasksCount})]})]})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Performance Breakdown"}),a.jsx("div",{className:"space-y-2",children:E.performanceBreakdown.map((L,me)=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:`w-3 h-3 rounded-full ${L.color}`}),a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:L.status})]}),a.jsx("span",{className:"text-sm font-bold text-gray-900 dark:text-white",children:L.count})]},me))})]})]})]}),a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Collaboration Metrics"}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Comments Added"}),a.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:T.commentsAdded})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Per Week"}),a.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:T.commentsPerWeek})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Documents Shared"}),a.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:T.documentsShared})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Documents Reviewed"}),a.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:T.documentsReviewed})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Document Flow"}),a.jsx("div",{className:"space-y-2",children:T.documentFlow.map((L,me)=>a.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:[a.jsxs("div",{className:"font-medium",children:[L.from,"  ",L.to]}),a.jsxs("div",{className:"text-gray-500",children:[L.project," - ",L.type]})]},me))})]})]})]}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Efficiency Metrics"}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 bg-blue-50 dark:bg-blue-900/20 px-2 py-1 rounded",children:"Only calculated for completed projects"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-3xl font-bold text-emerald-600 dark:text-emerald-400",children:[P.timeSaved,"h"]}),a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Time Saved"}),a.jsx("div",{className:"text-xs text-gray-400 dark:text-gray-500",children:"8% efficiency gain"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl font-bold text-emerald-600 dark:text-emerald-400",children:P.earlyCompletions}),a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Early Completions"}),a.jsx("div",{className:"text-xs text-gray-400 dark:text-gray-500",children:"Projects finished early"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-3xl font-bold text-emerald-600 dark:text-emerald-400",children:[P.averageTimeSaved,"h"]}),a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Avg Time Saved"}),a.jsx("div",{className:"text-xs text-gray-400 dark:text-gray-500",children:"Per project"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl font-bold text-emerald-600 dark:text-emerald-400",children:"88.7%"}),a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Efficiency Score"}),a.jsx("div",{className:"text-xs text-gray-400 dark:text-gray-500",children:"KPI Component"})]})]}),a.jsxs("div",{className:"mt-6",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Project Efficiency Breakdown"}),a.jsx("div",{className:"space-y-3",children:P.efficiencyBreakdown.map((L,me)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:L.project}),a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Allocated: ",L.allocated,"h | Logged: ",L.logged,"h | Saved: ",L.saved,"h"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-lg font-bold text-emerald-600 dark:text-emerald-400",children:[L.efficiency,"%"]}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Efficiency"})]})]},me))})]})]}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Project-wise Performance Breakdown"}),a.jsx("button",{className:"btn-secondary text-sm",children:"View All Projects"})]}),a.jsx("div",{className:"space-y-4",children:O.map(L=>a.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:L.name}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:L.duration})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[Q(L.status),a.jsx("span",{className:`badge ${H(L.status)}`,children:L.status.replace("-"," ").toUpperCase()})]})]}),a.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[L.hoursLogged,"h"]}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Hours Logged"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[L.contributionPercent,"%"]}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Contribution"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:L.phasesContributed}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Phases"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:[L.onTimeContribution,"%"]}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"On-Time"})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:L.comments}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Comments"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:L.docsUploaded}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Docs Uploaded"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:L.docsReviewed}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Docs Reviewed"})]})]})]},L.id))})]}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:J()}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${o==="daily"?"bg-primary-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,onClick:()=>c("daily"),children:"Daily"}),a.jsx("button",{className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${o==="weekly"?"bg-primary-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,onClick:()=>c("weekly"),children:"Weekly"}),a.jsx("button",{className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${o==="monthly"?"bg-primary-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,onClick:()=>c("monthly"),children:"Monthly"})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsx("div",{className:"min-w-[600px]",children:a.jsx(Qv,{width:"100%",height:300,children:a.jsxs(lb,{data:K(),children:[a.jsx(u0,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),a.jsx(f0,{dataKey:I(),stroke:"hsl(var(--muted-foreground))",fontSize:12}),a.jsx(g0,{stroke:"hsl(var(--muted-foreground))",fontSize:12}),a.jsx(Jv,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"var(--radius)"}}),a.jsx(Lo,{}),a.jsx(Rn,{dataKey:"hours",fill:"hsl(220 70% 55%)",name:"Hours Worked"}),a.jsx(Rn,{dataKey:"comments",fill:"hsl(270 60% 65%)",name:"Comments"}),a.jsx(Rn,{dataKey:"docs",fill:"hsl(142 71% 45%)",name:"Documents"})]})})})})]})]})},$ae=()=>{const[e,t]=x.useState(""),[r,n]=x.useState("endDate"),[i,o]=x.useState("desc"),[c,u]=x.useState("all"),[m,f]=x.useState("all"),[g,p]=x.useState("all"),[y,j]=x.useState(!1),k=[{id:"1",title:"E-commerce Platform Redesign",description:"Complete redesign of the e-commerce platform with modern UI/UX",startDate:"2024-01-15",endDate:"2024-06-30",completedAt:"2024-06-30",status:"completed",progress:100,priority:"high",team:[{id:"1",name:"Sarah Johnson",email:"sarah@company.com",role:"Project Manager",department:"Product",avatar:"SJ"},{id:"2",name:"Mike Chen",email:"mike@company.com",role:"Lead Developer",department:"Engineering",avatar:"MC"},{id:"3",name:"Emily Davis",email:"emily@company.com",role:"UI/UX Designer",department:"Design",avatar:"ED"}],phases:[{id:"phase-1",title:"Research & Planning",status:"completed",tasks:[{id:"task-1",title:"User Research",status:"completed",assignee:{id:"3",name:"Emily Davis",email:"emily@company.com",role:"UI/UX Designer",department:"Design",avatar:"ED"}},{id:"task-2",title:"Technical Planning",status:"completed",assignee:{id:"2",name:"Mike Chen",email:"mike@company.com",role:"Lead Developer",department:"Engineering",avatar:"MC"}}]},{id:"phase-2",title:"Design & Development",status:"completed",tasks:[{id:"task-3",title:"UI Design",status:"completed",assignee:{id:"3",name:"Emily Davis",email:"emily@company.com",role:"UI/UX Designer",department:"Design",avatar:"ED"}},{id:"task-4",title:"Frontend Development",status:"completed",assignee:{id:"2",name:"Mike Chen",email:"mike@company.com",role:"Lead Developer",department:"Engineering",avatar:"MC"}}]}],manager:{id:"1",name:"Sarah Johnson",email:"sarah@company.com",role:"Project Manager",department:"Product",avatar:"SJ"},department:"Product",totalTasks:4,completedTasks:4,totalPhases:2,uniqueAssignees:3,duration:167},{id:"2",title:"Mobile App Development",description:"Native mobile app development for iOS and Android",startDate:"2024-03-01",endDate:"2024-08-15",completedAt:"2024-08-15",status:"completed",progress:100,priority:"medium",team:[{id:"4",name:"James Wilson",email:"james@company.com",role:"Mobile Developer",department:"Engineering",avatar:"JW"},{id:"5",name:"Lisa Anderson",email:"lisa@company.com",role:"Backend Developer",department:"Engineering",avatar:"LA"}],phases:[{id:"phase-3",title:"Development",status:"completed",tasks:[{id:"task-5",title:"iOS Development",status:"completed",assignee:{id:"4",name:"James Wilson",email:"james@company.com",role:"Mobile Developer",department:"Engineering",avatar:"JW"}},{id:"task-6",title:"Backend API",status:"completed",assignee:{id:"5",name:"Lisa Anderson",email:"lisa@company.com",role:"Backend Developer",department:"Engineering",avatar:"LA"}}]}],manager:{id:"4",name:"James Wilson",email:"james@company.com",role:"Mobile Developer",department:"Engineering",avatar:"JW"},department:"Engineering",totalTasks:2,completedTasks:2,totalPhases:1,uniqueAssignees:2,duration:167}],b=x.useMemo(()=>k.filter(T=>{const P=T.title.toLowerCase().includes(e.toLowerCase())||T.manager.name.toLowerCase().includes(e.toLowerCase()),O=c==="all"||new Date(T.endDate).getFullYear().toString()===c,U=m==="all"||T.department===m,X=g==="all"||T.manager.id===g;return P&&O&&U&&X}).sort((T,P)=>{let O=0;switch(r){case"endDate":O=new Date(T.endDate).getTime()-new Date(P.endDate).getTime();break;case"name":O=T.title.localeCompare(P.title);break;case"tasks":O=T.totalTasks-P.totalTasks;break}return i==="asc"?O:-O}),[k,e,r,i,c,m,g]),C=()=>[...new Set(k.map(T=>new Date(T.endDate).getFullYear()))].sort((T,P)=>P-T),S=()=>[...new Set(k.map(T=>T.department))].sort(),N=()=>[...new Set(k.map(T=>T.manager))],A=(E,T)=>{const P=new Date(E),O=new Date(T),U=Math.abs(O.getTime()-P.getTime()),X=Math.ceil(U/(1e3*60*60*24));if(X<30)return`${X} days`;if(X<365){const ie=Math.floor(X/30);return`${ie} month${ie>1?"s":""}`}else{const ie=Math.floor(X/365);return`${ie} year${ie>1?"s":""}`}};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800",children:[a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"mb-8 animate-fade-in",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white",children:"Completed Projects"}),a.jsxs(da,{to:"/projects",className:"btn-secondary flex items-center space-x-2",children:[a.jsx(KD,{className:"h-4 w-4"}),a.jsx("span",{children:"Active Projects"})]})]}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:"View details and history of all finished projects"})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(D0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search projects by name or manager...",value:e,onChange:E=>t(E.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]})}),a.jsxs("button",{onClick:()=>j(!y),className:"btn-secondary flex items-center space-x-2",children:[a.jsx(ZD,{className:"h-4 w-4"}),a.jsx("span",{children:"Filters"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("select",{value:r,onChange:E=>n(E.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[a.jsx("option",{value:"endDate",children:"End Date"}),a.jsx("option",{value:"name",children:"Name"}),a.jsx("option",{value:"tasks",children:"Total Tasks"})]}),a.jsx("button",{onClick:()=>o(i==="asc"?"desc":"asc"),className:"p-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:i==="asc"?a.jsx(EU,{className:"h-4 w-4"}):a.jsx(OU,{className:"h-4 w-4"})})]})]}),y&&a.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Completion Year"}),a.jsxs("select",{value:c,onChange:E=>u(E.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Years"}),C().map(E=>a.jsx("option",{value:E.toString(),children:E},E))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Department"}),a.jsxs("select",{value:m,onChange:E=>f(E.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Departments"}),S().map(E=>a.jsx("option",{value:E,children:E},E))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Manager"}),a.jsxs("select",{value:g,onChange:E=>p(E.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Managers"}),N().map(E=>a.jsx("option",{value:E.id,children:E.name},E.id))]})]})]})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8 animate-fade-in",style:{animationDelay:"0.2s"},children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6 shadow-sm",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/20 rounded-lg",children:a.jsx(la,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:k.length}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Completed"})]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6 shadow-sm",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/20 rounded-lg",children:a.jsx(gn,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:new Set(k.flatMap(E=>E.team.map(T=>T.id))).size}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Team Members"})]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6 shadow-sm",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/20 rounded-lg",children:a.jsx(Ed,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:k.reduce((E,T)=>E+T.totalPhases,0)}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Phases"})]})]})})]}),b.length>0?a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:b.map((E,T)=>a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6 hover:shadow-lg transition-all duration-200 animate-slide-up group",style:{animationDelay:`${.3+T*.1}s`},children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-1 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:E.title}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2",children:E.description})]}),a.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-full bg-green-100 dark:bg-green-900/20 flex items-center justify-center",children:a.jsx(la,{className:"w-6 h-6 text-green-600 dark:text-green-400"})})]}),a.jsxs("div",{className:"space-y-3 mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400",children:[a.jsx(Ca,{className:"h-4 w-4"}),a.jsx("span",{children:A(E.startDate,E.endDate)}),a.jsx("span",{children:""}),a.jsx("span",{children:new Date(E.endDate).toLocaleDateString()})]}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 dark:text-gray-400",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(gn,{className:"h-4 w-4"}),a.jsxs("span",{children:[E.uniqueAssignees," members"]})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Ed,{className:"h-4 w-4"}),a.jsxs("span",{children:[E.totalPhases," phases"]})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(la,{className:"h-4 w-4"}),a.jsxs("span",{children:[E.completedTasks," tasks"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Manager:"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"h-6 w-6 rounded-full bg-blue-500 flex items-center justify-center text-white text-xs font-medium",children:E.manager.avatar}),a.jsx("span",{className:"text-gray-900 dark:text-white",children:E.manager.name})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[E.team.slice(0,4).map((P,O)=>a.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 dark:bg-blue-900/20 border-2 border-white dark:border-gray-800 flex items-center justify-center text-xs font-semibold text-blue-600 dark:text-blue-400",style:{marginLeft:O>0?"-8px":"0"},children:P.avatar},O)),E.team.length>4&&a.jsxs("div",{className:"w-8 h-8 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center text-xs font-semibold text-gray-600 dark:text-gray-400",style:{marginLeft:"-8px"},children:["+",E.team.length-4]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${E.priority==="high"?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":E.priority==="medium"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":E.priority==="low"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200"}`,children:E.priority}),a.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200",children:E.department})]}),a.jsxs(da,{to:`/completed-projects/${E.id}`,className:"btn-primary flex items-center space-x-2",children:[a.jsx(au,{className:"h-4 w-4"}),a.jsx("span",{children:"View Project"})]})]})]},E.id))}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"mx-auto w-24 h-24 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mb-4",children:a.jsx(la,{className:"h-12 w-12 text-gray-400"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No completed projects found"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:e||c!=="all"||m!=="all"||g!=="all"?"Try adjusting your search or filter criteria.":"Mark projects as completed from the Active Projects view to see them here."}),a.jsx(da,{to:"/projects",className:"btn-primary",children:"View Active Projects"})]}),b.length>0&&a.jsxs("div",{className:"mt-8 text-center text-sm text-gray-600 dark:text-gray-400",children:["Showing ",b.length," of ",k.length," completed projects"]})]})},zae=({member:e,onClose:t})=>a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"h-12 w-12 rounded-full bg-blue-500 flex items-center justify-center text-white font-medium text-lg",children:e.member.avatar}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.member.name}),a.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[e.member.role,"  ",e.member.department]})]})]}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors duration-200",children:a.jsx(eu,{className:"h-6 w-6 text-gray-500 dark:text-gray-400"})})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-xl p-4",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Gy,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.tasksCompleted}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Tasks Completed"})]})]})}),a.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-xl p-4",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Jy,{className:"h-8 w-8 text-green-600 dark:text-green-400"}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[e.onTimeCompletion,"%"]}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"On-Time Rate"})]})]})}),a.jsx("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-xl p-4",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Sr,{className:"h-8 w-8 text-purple-600 dark:text-purple-400"}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[e.hoursLogged,"h"]}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Hours Logged"})]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Task Performance"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tasks Completed"}),a.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:e.tasksCompleted})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"On-Time Completion"}),a.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:[e.onTimeCompletion,"%"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Average Lateness"}),a.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:[e.averageLateness," days"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Effort Share"}),a.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:[(e.effortShare*100).toFixed(1),"%"]})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Collaboration"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Comments Given"}),a.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:e.commentsCount})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Documents Sent"}),a.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:e.documentsSent})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Documents Reviewed"}),a.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:e.reviewParticipation})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Approval Ratio"}),a.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:[e.approvalRatio,"%"]})]})]})]})]}),a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-xl p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Overall Performance Score"}),a.jsx("div",{className:"flex items-center space-x-4",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"KPI Score"}),a.jsxs("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:[e.kpiScore,"/100"]})]}),a.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-3",children:a.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-green-500 h-3 rounded-full transition-all duration-500",style:{width:`${e.kpiScore}%`}})})]})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Recent Activity"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[a.jsx(Gy,{className:"h-5 w-5 text-green-500"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Completed task: UI Design Implementation"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"2 days ago"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[a.jsx(_n,{className:"h-5 w-5 text-blue-500"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Uploaded document: Design Mockups"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"3 days ago"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[a.jsx(of,{className:"h-5 w-5 text-purple-500"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Added comment on task review"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"4 days ago"})]})]})]})]})]}),a.jsx("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-200 dark:border-gray-700",children:a.jsx("button",{onClick:t,className:"btn-secondary",children:"Close"})})]})}),Uae=()=>{const{id:e}=yb(),[t,r]=x.useState("timeline"),[n,i]=x.useState("all"),[o,c]=x.useState(""),[u,m]=x.useState("all"),[f,g]=x.useState(null),[p,y]=x.useState(null),[j,k]=x.useState(!1),[b,C]=x.useState("all"),S={title:"E-commerce Platform Redesign",description:"Complete redesign of the e-commerce platform with modern UI/UX principles, improved performance, and enhanced user experience.",startDate:"2024-01-15",endDate:"2024-06-30",team:[{id:"1",name:"Sarah Johnson",email:"sarah@company.com",role:"Project Manager",department:"Product",avatar:"SJ"},{id:"2",name:"Mike Chen",email:"mike@company.com",role:"Lead Developer",department:"Engineering",avatar:"MC"},{id:"3",name:"Emily Davis",email:"emily@company.com",role:"UI/UX Designer",department:"Design",avatar:"ED"},{id:"4",name:"James Wilson",email:"james@company.com",role:"QA Engineer",department:"Quality",avatar:"JW"}],phases:[{id:"phase-1",title:"Research & Planning",status:"completed",startDate:"2024-01-15",endDate:"2024-02-15",tasks:[{id:"task-1",title:"User Research",status:"completed",assignee:{id:"3",name:"Emily Davis",email:"emily@company.com",role:"UI/UX Designer",department:"Design",avatar:"ED"}},{id:"task-2",title:"Technical Planning",status:"completed",assignee:{id:"2",name:"Mike Chen",email:"mike@company.com",role:"Lead Developer",department:"Engineering",avatar:"MC"}}]},{id:"phase-2",title:"Design & Development",status:"completed",startDate:"2024-02-16",endDate:"2024-06-30",tasks:[{id:"task-3",title:"UI Design",status:"completed",assignee:{id:"3",name:"Emily Davis",email:"emily@company.com",role:"UI/UX Designer",department:"Design",avatar:"ED"}},{id:"task-4",title:"Frontend Development",status:"completed",assignee:{id:"2",name:"Mike Chen",email:"mike@company.com",role:"Lead Developer",department:"Engineering",avatar:"MC"}}]}],totalTasks:4,completedTasks:4,totalPhases:2,uniqueAssignees:4,allocatedHours:320},N=[{id:"1",type:"DOC_UPLOADED",occurredAt:"2025-01-03T14:30:00Z",actorId:"1",actorName:"Gayan Silva",entityRef:"doc-1",labels:["Document","ProjectPlan.pdf"],description:"ProjectPlan.pdf"},{id:"2",type:"TASK_COMPLETED",occurredAt:"2025-01-05T16:00:00Z",actorId:"1",actorName:"Gayan Silva",entityRef:"task-1",phaseId:"phase-1",taskId:"task-1",labels:["Task","Kickoff Meeting"],description:"Kickoff Meeting"},{id:"3",type:"COMMENT_ADDED",occurredAt:"2025-01-05T17:00:00Z",actorId:"1",actorName:"Gayan Silva",entityRef:"comment-1",phaseId:"phase-1",labels:["Comment"],description:"Project kickoff went smoothly. All stakeholders aligned."},{id:"4",type:"TASK_COMPLETED",occurredAt:"2025-01-15T16:00:00Z",actorId:"1",actorName:"Gayan Silva",entityRef:"task-2",phaseId:"phase-1",taskId:"task-2",labels:["Task","Project Plan Development"],description:"Project Plan Development"},{id:"5",type:"PHASE_COMPLETED",occurredAt:"2025-01-20T17:00:00Z",actorId:"1",actorName:"Gayan Silva",entityRef:"phase-1",phaseId:"phase-1",labels:["Phase","Planning"],description:"Planning Completed"},{id:"6",type:"TASK_COMPLETED",occurredAt:"2025-01-20T16:00:00Z",actorId:"1",actorName:"Gayan Silva",entityRef:"task-3",phaseId:"phase-1",taskId:"task-3",labels:["Task","Resource Allocation"],description:"Resource Allocation"},{id:"7",type:"TASK_COMPLETED",occurredAt:"2025-02-10T16:00:00Z",actorId:"2",actorName:"Sarah Chen",entityRef:"task-4",phaseId:"phase-2",taskId:"task-4",labels:["Task","Current State Analysis"],description:"Current State Analysis"},{id:"8",type:"TIME_LOG_ADDED",occurredAt:"2024-02-11T09:30:00Z",actorId:"1",actorName:"Sarah Johnson",entityRef:"time-log-1",phaseId:"phase-1",taskId:"task-1",labels:["Time Log","User Research"],description:"Logged 2.5 hours on User Research",duration:2.5},{id:"9",type:"TIME_LOG_ADDED",occurredAt:"2024-02-12T14:15:00Z",actorId:"2",actorName:"Mike Chen",entityRef:"time-log-2",phaseId:"phase-1",taskId:"task-2",labels:["Time Log","Technical Architecture"],description:"Logged 4 hours on Technical Architecture",duration:4},{id:"10",type:"TIME_LOG_ADDED",occurredAt:"2024-03-16T10:45:00Z",actorId:"3",actorName:"Emily Davis",entityRef:"time-log-3",phaseId:"phase-2",taskId:"task-3",labels:["Time Log","UI Design Mockups"],description:"Logged 6 hours on UI Design Mockups",duration:6},{id:"11",type:"TIME_LOG_ADDED",occurredAt:"2024-03-21T16:20:00Z",actorId:"4",actorName:"Alex Rodriguez",entityRef:"time-log-4",phaseId:"phase-2",taskId:"task-4",labels:["Time Log","Database Optimization"],description:"Logged 3.5 hours on Database Optimization",duration:3.5},{id:"12",type:"TIME_LOG_ADDED",occurredAt:"2024-04-06T11:30:00Z",actorId:"5",actorName:"Lisa Wang",entityRef:"time-log-5",phaseId:"phase-3",taskId:"task-5",labels:["Time Log","User Acceptance Testing"],description:"Logged 5 hours on User Acceptance Testing",duration:5}],A=[{id:"1",name:"User Research Report.pdf",type:"PDF",uploadedBy:{id:"3",name:"Emily Davis",email:"emily@company.com",role:"UI/UX Designer",department:"Design",avatar:"ED"},uploadedAt:"2024-02-10T14:30:00Z",phaseId:"phase-1",taskId:"task-1",reviewStatus:"approved",size:"2.4 MB"},{id:"2",name:"Technical Architecture.docx",type:"DOCX",uploadedBy:{id:"2",name:"Mike Chen",email:"mike@company.com",role:"Lead Developer",department:"Engineering",avatar:"MC"},uploadedAt:"2024-02-12T11:15:00Z",phaseId:"phase-1",reviewStatus:"approved",size:"1.8 MB"},{id:"3",name:"UI Design Mockups.fig",type:"FIG",uploadedBy:{id:"3",name:"Emily Davis",email:"emily@company.com",role:"UI/UX Designer",department:"Design",avatar:"ED"},uploadedAt:"2024-03-15T16:45:00Z",phaseId:"phase-2",reviewStatus:"approved",size:"5.2 MB"}],E=[{id:"1",userId:"1",userName:"Sarah Johnson",projectId:"1",phaseId:"phase-1",taskId:"task-1",hours:2.5,description:"Project planning and coordination",loggedAt:"2024-01-16T09:00:00Z",createdAt:"2024-01-16T09:00:00Z"},{id:"2",userId:"2",userName:"Mike Chen",projectId:"1",phaseId:"phase-1",taskId:"task-2",hours:4,description:"Technical architecture design",loggedAt:"2024-01-18T10:30:00Z",createdAt:"2024-01-18T10:30:00Z"},{id:"3",userId:"3",userName:"Emily Davis",projectId:"1",phaseId:"phase-1",taskId:"task-1",hours:6,description:"User research and analysis",loggedAt:"2024-01-20T14:15:00Z",createdAt:"2024-01-20T14:15:00Z"},{id:"4",userId:"2",userName:"Mike Chen",projectId:"1",phaseId:"phase-2",taskId:"task-4",hours:8.5,description:"Frontend development implementation",loggedAt:"2024-02-20T08:00:00Z",createdAt:"2024-02-20T08:00:00Z"},{id:"5",userId:"3",userName:"Emily Davis",projectId:"1",phaseId:"phase-2",taskId:"task-3",hours:12,description:"UI design and prototyping",loggedAt:"2024-03-01T11:00:00Z",createdAt:"2024-03-01T11:00:00Z"},{id:"6",userId:"4",userName:"James Wilson",projectId:"1",phaseId:"phase-2",taskId:"task-4",hours:5.5,description:"Quality assurance testing",loggedAt:"2024-03-15T13:30:00Z",createdAt:"2024-03-15T13:30:00Z"},{id:"7",userId:"1",userName:"Sarah Johnson",projectId:"1",phaseId:"phase-2",taskId:"task-3",hours:3,description:"Project coordination and review",loggedAt:"2024-03-20T16:00:00Z",createdAt:"2024-03-20T16:00:00Z"},{id:"8",userId:"2",userName:"Mike Chen",projectId:"1",phaseId:"phase-2",taskId:"task-4",hours:6.5,description:"Final integration and deployment",loggedAt:"2024-04-01T09:45:00Z",createdAt:"2024-04-01T09:45:00Z"}],T=E.reduce((H,Q)=>H+Q.hours,0),P=[{id:"task-1",name:"User Research",phaseId:"phase-1"},{id:"task-2",name:"Technical Architecture",phaseId:"phase-1"},{id:"task-3",name:"UI Design Mockups",phaseId:"phase-2"},{id:"task-4",name:"Database Optimization",phaseId:"phase-2"},{id:"task-5",name:"User Acceptance Testing",phaseId:"phase-3"}],O=[{id:"1",author:{id:"1",name:"Sarah Johnson",email:"sarah@company.com",role:"Project Manager",department:"Product",avatar:"SJ"},content:"Great work on the user research! The insights will be very valuable for the design phase.",createdAt:"2024-02-10T17:00:00Z",phaseId:"phase-1",taskId:"task-1"},{id:"2",author:{id:"2",name:"Mike Chen",email:"mike@company.com",role:"Lead Developer",department:"Engineering",avatar:"MC"},content:"The technical architecture is ready for review. Please let me know if you have any questions.",createdAt:"2024-02-12T12:00:00Z",phaseId:"phase-1",taskId:"task-2"},{id:"3",author:{id:"3",name:"Emily Davis",email:"emily@company.com",role:"UI/UX Designer",department:"Design",avatar:"ED"},content:"UI mockups are complete and ready for development. All screens have been designed with responsive layouts.",createdAt:"2024-03-15T17:30:00Z",phaseId:"phase-2",taskId:"task-3"},{id:"4",author:{id:"4",name:"Alex Rodriguez",email:"alex@company.com",role:"Backend Developer",department:"Engineering",avatar:"AR"},content:"Database optimization completed successfully. Performance improved by 40%.",createdAt:"2024-03-20T14:15:00Z",phaseId:"phase-2",taskId:"task-4"},{id:"5",author:{id:"5",name:"Lisa Wang",email:"lisa@company.com",role:"QA Engineer",department:"Quality",avatar:"LW"},content:"User acceptance testing passed with flying colors! All test cases completed successfully.",createdAt:"2024-04-05T16:45:00Z",phaseId:"phase-3",taskId:"task-5"}],U=S.team.map(H=>{const te=E.filter(ve=>ve.userId===H.id).reduce((ve,_e)=>ve+_e.hours,0),V=S.phases.flatMap(ve=>ve.tasks.filter(_e=>_e.assignee.id===H.id)).filter(ve=>ve.status==="completed").length,re=A.filter(ve=>ve.uploadedBy.id===H.id).length,K=O.filter(ve=>ve.author.id===H.id).length,J=E.reduce((ve,_e)=>ve+_e.hours,0),I=J>0?te/J:0,L=100,me=0,Z=Math.floor(Math.random()*10)+1,ye=100,Me=Math.floor(Math.random()*20)+80;return{member:H,tasksCompleted:V,onTimeCompletion:L,averageLateness:me,reviewParticipation:Z,approvalRatio:ye,documentsSent:re,commentsCount:K,hoursLogged:te,kpiScore:Me,effortShare:I}}),X=(H,Q)=>{const te=new Date(H),$=new Date(Q),V=Math.abs($.getTime()-te.getTime());return Math.ceil(V/(1e3*60*60*24))},ie=(H,Q)=>{if(Q==="view")y(H),k(!0);else if(Q==="download"){const te=document.createElement("a");te.href="#",te.download=H.name,te.click(),alert(`Downloading ${H.name}...`)}},W=H=>{switch(H){case"PROJECT_KICKOFF":case"PROJECT_CLOSED":return a.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"});case"PHASE_STARTED":case"PHASE_COMPLETED":return a.jsx(la,{className:"h-3 w-3 text-green-500"});case"TASK_CREATED":case"TASK_STARTED":case"TASK_COMPLETED":return a.jsx(la,{className:"h-3 w-3 text-blue-500"});case"DOC_UPLOADED":case"DOC_APPROVED":return a.jsx(_n,{className:"h-3 w-3 text-purple-500"});case"COMMENT_ADDED":return a.jsx(of,{className:"h-3 w-3 text-gray-500"});case"TIME_LOG_ADDED":return a.jsx(Sr,{className:"h-3 w-3 text-orange-500"});default:return a.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-400"})}},G=x.useMemo(()=>N.filter(H=>{const Q=H.description.toLowerCase().includes(o.toLowerCase())||H.actorName?.toLowerCase().includes(o.toLowerCase()),te=u==="all"||H.phaseId===u,$=b==="all"||H.type===b;return Q&&te&&$}),[N,o,u,b]);return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800",children:[a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsx("div",{className:"mb-8 animate-fade-in",children:a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs(da,{to:"/completed-projects",className:"inline-flex items-center text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors duration-200",children:[a.jsx(w8,{className:"h-4 w-4 mr-2"}),"Back to Completed Projects"]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{className:"btn-secondary flex items-center space-x-2",children:[a.jsx(C9,{className:"h-4 w-4"}),a.jsx("span",{children:"Reopen Project"})]}),a.jsxs("button",{className:"btn-secondary flex items-center space-x-2",children:[a.jsx(nl,{className:"h-4 w-4"}),a.jsx("span",{children:"Export Report"})]}),a.jsxs("button",{className:"btn-primary flex items-center space-x-2",children:[a.jsx(nl,{className:"h-4 w-4"}),a.jsx("span",{children:"Download All Files"})]})]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 p-8",children:a.jsx("div",{className:"flex items-start justify-between mb-6",children:a.jsxs("div",{className:"flex-1",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:S.title}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:S.description}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-6",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Ca,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Duration"}),a.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:[X(S.startDate,S.endDate)," days"]}),a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[new Date(S.startDate).toLocaleDateString()," - ",new Date(S.endDate).toLocaleDateString()]})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Ed,{className:"h-5 w-5 text-green-600 dark:text-green-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Phases"}),a.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:S.totalPhases})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(la,{className:"h-5 w-5 text-orange-600 dark:text-orange-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Tasks Completed"}),a.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:[S.completedTasks,"/",S.totalTasks]})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(gn,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Team Size"}),a.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:S.uniqueAssignees})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Sr,{className:"h-5 w-5 text-indigo-600 dark:text-indigo-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Allocated Time"}),a.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:[S.allocatedHours,"h"]}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Estimated"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Sr,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Actual Time"}),a.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:[T,"h"]}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:`${Math.round(T/S.allocatedHours*100)}% of allocated`})]})]})]})]})})})]}),a.jsx("div",{className:"mb-8",children:a.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:a.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"timeline",name:"Timeline",icon:Sr},{id:"documents",name:"Documents",icon:_n},{id:"comments",name:"Comments",icon:of},{id:"time-logs",name:"Time Logs",icon:Sr},{id:"analytics",name:"Team Analytics",icon:Nb}].map(H=>a.jsxs("button",{onClick:()=>r(H.id),className:`flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-sm ${t===H.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[a.jsx(H.icon,{className:"h-4 w-4"}),a.jsx("span",{children:H.name})]},H.id))})})}),t==="timeline"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(D0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search timeline events...",value:o,onChange:H=>c(H.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]})}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("select",{value:n,onChange:H=>i(H.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Time"}),a.jsx("option",{value:"phase",children:"By Phase"}),a.jsx("option",{value:"month",children:"By Month"})]}),a.jsxs("select",{value:u,onChange:H=>m(H.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Phases"}),S.phases.map(H=>a.jsx("option",{value:H.id,children:H.title},H.id))]}),a.jsxs("select",{value:b,onChange:H=>C(H.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Events"}),a.jsx("option",{value:"PROJECT_KICKOFF",children:"Project Events"}),a.jsx("option",{value:"PHASE_STARTED",children:"Phase Events"}),a.jsx("option",{value:"TASK_CREATED",children:"Task Events"}),a.jsx("option",{value:"DOC_UPLOADED",children:"Document Events"}),a.jsx("option",{value:"COMMENT_ADDED",children:"Comment Events"}),a.jsx("option",{value:"TIME_LOG_ADDED",children:"Time Logs"})]})]})]})}),a.jsx("div",{className:"space-y-8",children:Object.entries(G.reduce((H,Q)=>{const te=new Date(Q.occurredAt),$=`${te.getFullYear()}-${String(te.getMonth()+1).padStart(2,"0")}`;return H[$]||(H[$]=[]),H[$].push(Q),H},{})).map(([H,Q])=>{const[te,$]=H.split("-"),re=new Date(parseInt(te),parseInt($)-1).toLocaleDateString("en-US",{month:"long",year:"numeric"});return a.jsxs("div",{className:"animate-fade-in",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(Ca,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:re})]}),a.jsxs("div",{className:"relative pl-8 space-y-4",children:[a.jsx("div",{className:"absolute left-2.5 top-2 bottom-2 w-px bg-gray-300 dark:bg-gray-600"}),Q.map(K=>a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute -left-[1.375rem] top-1.5 w-5 h-5 rounded-full bg-white dark:bg-gray-800 border-2 border-gray-300 dark:border-gray-600 flex items-center justify-center",children:W(K.type)}),a.jsx("div",{className:`bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4 hover:shadow-md transition-shadow ${K.type==="DOC_UPLOADED"||K.type==="DOC_APPROVED"?"cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700":""}`,onClick:()=>{if(K.type==="DOC_UPLOADED"||K.type==="DOC_APPROVED"){const J=A.find(I=>I.name===K.description);J&&ie(J,"view")}},children:a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:K.description}),K.type==="TIME_LOG_ADDED"&&K.duration&&a.jsxs("span",{className:"text-xs bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200 px-2 py-1 rounded",children:[K.duration,"h"]})]}),(K.type==="DOC_UPLOADED"||K.type==="DOC_APPROVED")&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:J=>{J.stopPropagation();const I=A.find(L=>L.name===K.description);I&&ie(I,"view")},className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 text-xs font-medium",children:"View"}),a.jsx("span",{className:"text-gray-300 dark:text-gray-600",children:""}),a.jsx("button",{onClick:J=>{J.stopPropagation();const I=A.find(L=>L.name===K.description);I&&ie(I,"download")},className:"text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-300 text-xs font-medium",children:"Download"})]})]}),K.actorName&&a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["by ",K.actorName]})]}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 whitespace-nowrap",children:new Date(K.occurredAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})})]},K.id))]})]},H)})})]}),t==="documents"&&a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Project Documents"}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("button",{className:"btn-secondary flex items-center space-x-2",children:[a.jsx(nl,{className:"h-4 w-4"}),a.jsx("span",{children:"Download All"})]})})]}),a.jsx("div",{className:"space-y-4",children:A.map(H=>a.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"h-10 w-10 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center",children:a.jsx(_n,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:H.name}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 dark:text-gray-400",children:[a.jsx("span",{children:H.type}),a.jsx("span",{children:H.size}),a.jsxs("span",{children:["by ",H.uploadedBy.name]}),a.jsx("span",{children:new Date(H.uploadedAt).toLocaleDateString()})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${H.reviewStatus==="approved"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":H.reviewStatus==="pending"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:H.reviewStatus}),a.jsxs("button",{className:"btn-secondary flex items-center space-x-1",children:[a.jsx(Oo,{className:"h-4 w-4"}),a.jsx("span",{children:"Preview"})]}),a.jsxs("button",{className:"btn-primary flex items-center space-x-1",children:[a.jsx(nl,{className:"h-4 w-4"}),a.jsx("span",{children:"Download"})]})]})]},H.id))})]})}),t==="comments"&&a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Project Comments"}),a.jsx("div",{className:"flex items-center space-x-4",children:a.jsxs("select",{value:u,onChange:H=>m(H.target.value),className:"text-sm border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"All Phases"}),S.phases.map(H=>a.jsx("option",{value:H.id,children:H.title},H.id))]})})]}),a.jsx("div",{className:"space-y-6",children:O.filter(H=>u==="all"||H.phaseId===u).map(H=>a.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-6 last:border-b-0 last:pb-0",children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-500 flex items-center justify-center text-white font-medium",children:H.author.avatar}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:H.author.name}),a.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(H.createdAt).toLocaleString()})]}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-3",children:H.content}),a.jsxs("div",{className:"flex items-center space-x-4",children:[H.phaseId&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Phase:"}),a.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200 px-2 py-1 rounded",children:S.phases.find(Q=>Q.id===H.phaseId)?.title})]}),H.taskId&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Task:"}),a.jsx("span",{className:"text-xs bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200 px-2 py-1 rounded",children:P.find(Q=>Q.id===H.taskId)?.name})]})]})]})]})},H.id))})]})}),t==="time-logs"&&a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Project Time Logs"}),a.jsx("div",{className:"flex items-center space-x-4",children:a.jsxs("select",{value:u,onChange:H=>m(H.target.value),className:"text-sm border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"All Phases"}),S.phases.map(H=>a.jsx("option",{value:H.id,children:H.title},H.id))]})})]}),a.jsxs("div",{className:"space-y-6",children:[(()=>{const Q=N.filter($=>$.type==="TIME_LOG_ADDED").reduce(($,V)=>{const re=V.actorName||"Unknown";return $[re]||($[re]=[]),$[re].push(V),$},{}),te=Object.entries(Q).reduce(($,[V,re])=>{const K=re.filter(J=>u==="all"||J.phaseId===u);return K.length>0&&($[V]=K),$},{});return Object.entries(te).map(([$,V])=>{const re=V.reduce((K,J)=>K+(J.duration||0),0);return a.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-orange-500 flex items-center justify-center text-white font-medium",children:$.split(" ").map(K=>K[0]).join("")}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:$}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[V.length," time log",V.length!==1?"s":"","  ",re.toFixed(1),"h total"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-lg font-bold text-orange-600 dark:text-orange-400",children:[re.toFixed(1),"h"]}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Total Time"})]})]}),a.jsx("div",{className:"space-y-3",children:V.sort((K,J)=>new Date(J.occurredAt).getTime()-new Date(K.occurredAt).getTime()).map(K=>{const J=S.phases.find(L=>L.id===K.phaseId),I=P.find(L=>L.id===K.taskId);return a.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(Sr,{className:"h-4 w-4 text-orange-500"}),a.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[K.duration,"h logged"]}),a.jsxs("span",{className:"text-xs bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200 px-2 py-1 rounded",children:[K.duration,"h"]})]}),a.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-2",children:K.description}),a.jsxs("div",{className:"flex items-center space-x-4",children:[J&&a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Phase:"}),a.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200 px-2 py-1 rounded",children:J.title})]}),I&&a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Task:"}),a.jsx("span",{className:"text-xs bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200 px-2 py-1 rounded",children:I.name})]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(K.occurredAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),a.jsx("div",{className:"text-xs text-gray-400 dark:text-gray-500",children:new Date(K.occurredAt).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]})]})},K.id)})})]},$)})})(),N.filter(te=>te.type==="TIME_LOG_ADDED").filter(te=>u==="all"||te.phaseId===u).length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Sr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Time Logs Found"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:u==="all"?"No time logs have been recorded for this project.":"No time logs found for the selected phase."})]}):null]})]})}),t==="analytics"&&a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Team Performance Analytics"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Member"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Tasks Completed"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"On-Time %"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Documents"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Comments"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Hours"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"KPI Score"})]})}),a.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:U.map(H=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-500 flex items-center justify-center text-white text-sm font-medium",children:H.member.avatar}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:H.member.name}),a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:H.member.role})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:H.tasksCompleted.toFixed(1)}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:[H.onTimeCompletion,"%"]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:H.documentsSent}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:H.commentsCount}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:H.hoursLogged}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:H.kpiScore}),a.jsx("div",{className:"w-16 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${H.kpiScore}%`}})})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("button",{onClick:()=>g(H),className:"btn-secondary text-sm",children:"View Details"})})]},H.member.id))})]})})]})}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6 mt-6 bg-opacity-50 backdrop-blur-sm animate-fade-in",style:{animationDelay:"0.4s"},children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[a.jsx(of,{className:"w-5 h-5"}),"Manager Notes & Final Comments"]}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 leading-relaxed",children:"Excellent project execution. Team demonstrated strong collaboration and met all deadlines. The project was completed successfully with 100% task completion rate and all phases delivered on time. Special recognition to the development team for their outstanding work on the UI/UX implementation."})]}),f&&a.jsx(zae,{member:f,onClose:()=>g(null)}),j&&p&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"h-12 w-12 bg-blue-100 dark:bg-blue-900/20 rounded-lg flex items-center justify-center",children:a.jsx(_n,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:p.name}),a.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Uploaded by ",p.uploadedBy.name,"  ",p.size]})]})]}),a.jsx("button",{onClick:()=>k(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors duration-200",children:a.jsx(eu,{className:"h-6 w-6 text-gray-500 dark:text-gray-400"})})]}),a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-8 text-center",children:[a.jsx(_n,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Document Preview"}),a.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:["Preview for ",p.name," is not available in this demo."]}),a.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[a.jsxs("button",{onClick:()=>ie(p,"download"),className:"btn-primary flex items-center space-x-2",children:[a.jsx(nl,{className:"h-4 w-4"}),a.jsx("span",{children:"Download Document"})]}),a.jsx("button",{onClick:()=>k(!1),className:"btn-secondary",children:"Close"})]})]})})]})})]})},Bae=({isOpen:e,onClose:t,event:r,selectedDate:n,onSave:i})=>{const[o,c]=x.useState({title:"",description:"",type:"task",startTime:"09:00",endTime:"10:00",date:n,priority:"medium",status:"scheduled",assignee:"",project:"",platform:"teams",meetingLink:"",attendees:[],isRecurring:!1,recurrenceType:"weekly"}),[u,m]=x.useState(""),[f,g]=x.useState({}),p=["Mobile App Redesign","Backend API Development","Design System","Database Migration","User Authentication"],y=["Sarah Johnson","Mike Chen","Emily Davis","James Wilson","Lisa Anderson","Alex Rodriguez","David Kim"];x.useEffect(()=>{c(r?{title:r.title,description:r.description,type:r.type,startTime:r.startTime,endTime:r.endTime,date:r.date,priority:r.priority,status:r.status,assignee:r.assignee||"",project:r.project||"",platform:r.platform||"teams",meetingLink:r.meetingLink||"",attendees:r.attendees||[],isRecurring:r.isRecurring||!1,recurrenceType:r.recurrenceType||"weekly"}:{title:"",description:"",type:"task",startTime:"09:00",endTime:"10:00",date:n,priority:"medium",status:"scheduled",assignee:"",project:"",platform:"teams",meetingLink:"",attendees:[],isRecurring:!1,recurrenceType:"weekly"}),g({})},[r,n]);const j=()=>{const N={};return o.title.trim()||(N.title="Title is required"),o.startTime||(N.startTime="Start time is required"),o.endTime||(N.endTime="End time is required"),o.startTime&&o.endTime&&o.startTime>=o.endTime&&(N.endTime="End time must be after start time"),o.type==="meeting"&&!o.meetingLink&&(o.platform==="teams"||o.platform==="zoom"||o.platform==="google-meet")&&(N.meetingLink="Meeting link is required for online meetings"),g(N),Object.keys(N).length===0},k=N=>{if(N.preventDefault(),!j())return;const A={id:r?.id||`event-${Date.now()}`,title:o.title,description:o.description,type:o.type,startTime:o.startTime,endTime:o.endTime,date:o.date,priority:o.priority,status:o.status,assignee:o.assignee||void 0,project:o.project||void 0,platform:o.platform==="teams"||o.platform==="zoom"||o.platform==="google-meet"?o.platform:void 0,meetingLink:o.meetingLink||void 0,attendees:o.attendees.length>0?o.attendees:void 0,isRecurring:o.isRecurring,recurrenceType:o.recurrenceType,createdBy:"Current User",createdAt:r?.createdAt||new Date().toISOString()};i(A),t()},b=()=>{u.trim()&&!o.attendees.includes(u.trim())&&(c(N=>({...N,attendees:[...N.attendees,u.trim()]})),m(""))},C=N=>{c(A=>({...A,attendees:A.attendees.filter(E=>E!==N)}))},S=()=>{const N={teams:"https://teams.microsoft.com/l/meetup-join/",zoom:"https://zoom.us/j/","google-meet":"https://meet.google.com/"},A=Math.random().toString(36).substring(2,15),E=N[o.platform]+A;c(T=>({...T,meetingLink:E}))};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:r?"Edit Event":"Create Event"}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:a.jsx(rr,{className:"h-5 w-5 text-gray-500"})})]}),a.jsxs("form",{onSubmit:k,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Event Title *"}),a.jsx("input",{type:"text",value:o.title,onChange:N=>c(A=>({...A,title:N.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white ${f.title?"border-red-500":"border-gray-300"}`,placeholder:"Enter event title"}),f.title&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.title})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Event Type"}),a.jsxs("select",{value:o.type,onChange:N=>c(A=>({...A,type:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",children:[a.jsx("option",{value:"task",children:"Task"}),a.jsx("option",{value:"meeting",children:"Meeting"}),a.jsx("option",{value:"reminder",children:"Reminder"}),a.jsx("option",{value:"personal",children:"Personal"}),a.jsx("option",{value:"outsourced",children:"Outsourced"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),a.jsx("textarea",{value:o.description,onChange:N=>c(A=>({...A,description:N.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Enter event description"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Date *"}),a.jsx("input",{type:"date",value:o.date,onChange:N=>c(A=>({...A,date:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Start Time *"}),a.jsx("input",{type:"time",value:o.startTime,onChange:N=>c(A=>({...A,startTime:N.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white ${f.startTime?"border-red-500":"border-gray-300"}`}),f.startTime&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.startTime})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"End Time *"}),a.jsx("input",{type:"time",value:o.endTime,onChange:N=>c(A=>({...A,endTime:N.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white ${f.endTime?"border-red-500":"border-gray-300"}`}),f.endTime&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.endTime})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Priority"}),a.jsxs("select",{value:o.priority,onChange:N=>c(A=>({...A,priority:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",children:[a.jsx("option",{value:"low",children:"Low"}),a.jsx("option",{value:"medium",children:"Medium"}),a.jsx("option",{value:"high",children:"High"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),a.jsxs("select",{value:o.status,onChange:N=>c(A=>({...A,status:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",children:[a.jsx("option",{value:"scheduled",children:"Scheduled"}),a.jsx("option",{value:"in-progress",children:"In Progress"}),a.jsx("option",{value:"completed",children:"Completed"}),a.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Project"}),a.jsxs("select",{value:o.project,onChange:N=>c(A=>({...A,project:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",children:[a.jsx("option",{value:"",children:"Select Project"}),p.map(N=>a.jsx("option",{value:N,children:N},N))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Assignee"}),a.jsxs("select",{value:o.assignee,onChange:N=>c(A=>({...A,assignee:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",children:[a.jsx("option",{value:"",children:"Select Assignee"}),y.map(N=>a.jsx("option",{value:N,children:N},N))]})]})]}),o.type==="meeting"&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Meeting Details"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Platform"}),a.jsxs("select",{value:o.platform,onChange:N=>c(A=>({...A,platform:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",children:[a.jsx("option",{value:"teams",children:"Microsoft Teams"}),a.jsx("option",{value:"zoom",children:"Zoom"}),a.jsx("option",{value:"google-meet",children:"Google Meet"}),a.jsx("option",{value:"physical",children:"Physical Location"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Meeting Link"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("input",{type:"text",value:o.meetingLink,onChange:N=>c(A=>({...A,meetingLink:N.target.value})),className:`flex-1 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white ${f.meetingLink?"border-red-500":"border-gray-300"}`,placeholder:"Enter meeting link"}),(o.platform==="teams"||o.platform==="zoom"||o.platform==="google-meet")&&a.jsx("button",{type:"button",onClick:S,className:"px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Generate"})]}),f.meetingLink&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.meetingLink})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Attendees"}),a.jsxs("div",{className:"flex space-x-2 mb-2",children:[a.jsx("input",{type:"text",value:u,onChange:N=>m(N.target.value),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Enter attendee email or name",onKeyPress:N=>N.key==="Enter"&&(N.preventDefault(),b())}),a.jsx("button",{type:"button",onClick:b,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Add"})]}),o.attendees.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2",children:o.attendees.map((N,A)=>a.jsxs("span",{className:"inline-flex items-center px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:[N,a.jsx("button",{type:"button",onClick:()=>C(N),className:"ml-2 text-blue-600 hover:text-blue-800",children:""})]},A))})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("input",{type:"checkbox",id:"recurring",checked:o.isRecurring,onChange:N=>c(A=>({...A,isRecurring:N.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"recurring",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Recurring Event"})]}),o.isRecurring&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Recurrence Type"}),a.jsxs("select",{value:o.recurrenceType,onChange:N=>c(A=>({...A,recurrenceType:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",children:[a.jsx("option",{value:"daily",children:"Daily"}),a.jsx("option",{value:"weekly",children:"Weekly"}),a.jsx("option",{value:"monthly",children:"Monthly"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:[a.jsx("button",{type:"button",onClick:t,className:"px-6 py-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:r?"Update Event":"Create Event"})]})]})]})})}):null},cl=e=>{const t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${n}`},mD=[{id:"today-1",title:"Daily Standup",description:"Product team daily standup meeting",type:"meeting",startTime:"10:00",endTime:"10:15",date:cl(new Date),priority:"high",status:"scheduled",assignee:"Sarah Johnson",project:"Mobile App Redesign",platform:"teams",meetingLink:"https://teams.microsoft.com/l/meetup-join/daily-standup-123",attendees:["Emma Wilson","John Doe","Sarah Johnson"],createdBy:"Sarah Johnson",createdAt:new Date().toISOString()},{id:"today-2",title:"Client Zoom Meeting",description:"Discuss project requirements with client",type:"meeting",startTime:"14:00",endTime:"15:00",date:cl(new Date),priority:"high",status:"scheduled",assignee:"Sarah Johnson",project:"Mobile App Redesign",platform:"zoom",meetingLink:"https://zoom.us/j/client-meeting-456",attendees:["Client Team"],createdBy:"Sarah Johnson",createdAt:new Date().toISOString()},{id:"today-3",title:"Submit Invoice Report",description:"Complete and submit monthly invoice report",type:"task",startTime:"09:00",endTime:"10:00",date:cl(new Date),priority:"high",status:"scheduled",assignee:"Sarah Johnson",project:"Administrative",createdBy:"Sarah Johnson",createdAt:new Date().toISOString()},{id:"1",title:"Daily Standup Meeting",description:"Team sync meeting to discuss progress and blockers",type:"meeting",startTime:"09:00",endTime:"09:30",date:"2025-01-15",priority:"high",status:"scheduled",assignee:"Sarah Johnson",project:"Mobile App Redesign",platform:"teams",meetingLink:"https://teams.microsoft.com/l/meetup-join/...",attendees:["Sarah Johnson","Mike Chen","Emily Davis"],createdBy:"Sarah Johnson",createdAt:"2025-01-10T10:00:00Z"},{id:"2",title:"Review Client Proposal",description:"Review and provide feedback on client proposal draft",type:"task",startTime:"10:00",endTime:"11:30",date:"2025-01-15",priority:"high",status:"in-progress",assignee:"Sarah Johnson",project:"Mobile App Redesign",createdBy:"Mike Chen",createdAt:"2025-01-12T14:00:00Z"},{id:"3",title:"Client Presentation",description:"Present design mockups to client",type:"meeting",startTime:"14:00",endTime:"15:00",date:"2025-01-15",priority:"high",status:"scheduled",assignee:"Sarah Johnson",project:"Mobile App Redesign",platform:"zoom",meetingLink:"https://zoom.us/j/123456789",attendees:["Sarah Johnson","Client Team"],createdBy:"Sarah Johnson",createdAt:"2025-01-08T09:00:00Z"},{id:"4",title:"Team Lunch",description:"Monthly team building lunch",type:"personal",startTime:"12:00",endTime:"13:00",date:"2025-01-15",priority:"low",status:"scheduled",assignee:"Sarah Johnson",createdBy:"Sarah Johnson",createdAt:"2025-01-05T16:00:00Z"},{id:"5",title:"Code Review Session",description:"Review backend API implementation",type:"task",startTime:"15:30",endTime:"17:00",date:"2025-01-16",priority:"medium",status:"scheduled",assignee:"Sarah Johnson",project:"Backend API Development",createdBy:"Mike Chen",createdAt:"2025-01-13T11:00:00Z"},{id:"6",title:"Design System Review",description:"Review component library updates",type:"meeting",startTime:"10:00",endTime:"11:00",date:"2025-01-16",priority:"medium",status:"scheduled",assignee:"Sarah Johnson",project:"Design System",platform:"teams",meetingLink:"https://teams.microsoft.com/l/meetup-join/...",attendees:["Sarah Johnson","Alex Rodriguez"],createdBy:"Alex Rodriguez",createdAt:"2025-01-11T15:30:00Z"},{id:"7",title:"Follow up with vendor",description:"Check on outsourced design work progress",type:"outsourced",startTime:"16:00",endTime:"16:30",date:"2025-01-17",priority:"medium",status:"scheduled",assignee:"Sarah Johnson",project:"Design System",createdBy:"Sarah Johnson",createdAt:"2025-01-14T10:00:00Z"},{id:"oct-12-1",title:"October 12th Meeting",description:"This event should stay on October 12th",type:"meeting",startTime:"10:00",endTime:"11:00",date:"2024-10-12",priority:"high",status:"scheduled",assignee:"Sarah Johnson",project:"Test Project",platform:"teams",meetingLink:"https://teams.microsoft.com/l/meetup-join/oct-12-test",attendees:["Sarah Johnson","Test Team"],createdBy:"Sarah Johnson",createdAt:"2024-10-10T10:00:00Z"},{id:"oct-12-2",title:"October 12th Task",description:"This task should also stay on October 12th",type:"task",startTime:"14:00",endTime:"15:00",date:"2024-10-12",priority:"medium",status:"scheduled",assignee:"Sarah Johnson",project:"Test Project",createdBy:"Sarah Johnson",createdAt:"2024-10-10T10:00:00Z"}],Hae=()=>{const{user:e}=Cl(),[t,r]=x.useState(new Date),[n,i]=x.useState("month"),[o,c]=x.useState(""),[u,m]=x.useState([]),[f,g]=x.useState([]),p=x.useMemo(()=>{const B=f.filter(Ae=>Ae.enabled).flatMap(Ae=>Ae.events||[]);return[...u.map(Ae=>({...Ae,sourceName:Ae.sourceName||"My Calendar",sourceType:Ae.sourceType||"local",sourceColor:Ae.sourceColor||"#6b7280"})),...B]},[u,f]),[y,j]=x.useState(!1),[k,b]=x.useState(null),[C,S]=x.useState([]),[N,A]=x.useState("all"),[E,T]=x.useState(!1),[P,O]=x.useState(""),[U,X]=x.useState(!1),[ie,W]=x.useState(""),[G,H]=x.useState(""),[Q,te]=x.useState(!1),[$,V]=x.useState(null),re=ht.useRef(new Set),[K,J]=x.useState(()=>{try{const B=e?.id||"guest",he=localStorage.getItem(`calendar.showHolidays.${B}`);return he?he==="true":!0}catch{return!0}}),[I,L]=x.useState(()=>{try{const B=e?.id||"guest";return localStorage.getItem(`calendar.holidayCountry.${B}`)||"LK"}catch{return"LK"}}),me=B=>{try{const he=B.match(/https?:\/\/\S+/),Ae=he?he[0]:B.trim(),Ie=new URL(Ae);return/^https?:$/i.test(Ie.protocol)?Ie.toString():null}catch{return null}},Z=()=>{try{let B=localStorage.getItem("userId");if(!B){const Ae=localStorage.getItem("user");if(Ae)try{B=String(JSON.parse(Ae)?.id||"")}catch{}}const he=localStorage.getItem("authToken");return{...B?{"x-user-id":B}:{},...he?{authorization:`Bearer ${he}`}:{}}}catch{return{}}},ye=B=>{try{return String(B||"").replace(/https?:\/\/\S+/g,"").replace(/[ \t]+\n/g,`
`).replace(/\n{3,}/g,`

`).trim()}catch{return String(B||"")}};x.useEffect(()=>{try{const B=e?.id||"guest",he=localStorage.getItem(`calendar.localEvents.${B}`);m(he?JSON.parse(he):mD)}catch{m(mD)}},[e?.id]),x.useEffect(()=>{try{const B=e?.id||"guest";localStorage.setItem(`calendar.localEvents.${B}`,JSON.stringify(u))}catch{}},[u,e?.id]),x.useEffect(()=>{try{const B=e?.id||"guest";localStorage.setItem(`calendar.showHolidays.${B}`,String(K))}catch{}},[K,e?.id]),x.useEffect(()=>{try{const B=e?.id||"guest";localStorage.setItem(`calendar.holidayCountry.${B}`,I)}catch{}},[I,e?.id]),x.useEffect(()=>{(async()=>{try{g([]),re.current=new Set;const he="http://localhost:4000",Ae=await fetch(`${String(he).replace(/\/+$/,"")}/api/calendar/accounts`,{headers:{"Content-Type":"application/json",...Z()},cache:"no-store"});if(!Ae.ok)return;const Ie=await Ae.json();if(!Array.isArray(Ie))return;g(Ue=>{const Te=[...Ue],ke=Re=>Te.some(Je=>Je.type===Re);for(const Re of Ie){const Je=String(Re.provider).toLowerCase()==="microsoft"?"outlook":"google";ke(Je)||Te.push({id:`${Je}-${Date.now()}`,type:Je,name:Je==="google"?Re.email?`Google (${Re.email})`:"Google Calendar":Re.email?`Outlook (${Re.email})`:"Outlook Calendar",color:Je==="google"?"#3b82f6":"#2563eb",enabled:!0,events:[],lastSyncAt:Re.updatedAt})}return Te});const Ke=await fetch(`${String(he).replace(/\/+$/,"")}/api/calendar/sources`,{headers:{...Z()},cache:"no-store"});if(Ke.ok){const Ue=await Ke.json();Array.isArray(Ue)&&g(Te=>{const ke=[...Te];for(const Re of Ue)ke.find(Je=>Je.id===Re.id)||ke.push({id:Re.id,type:"ics-url",name:Re.name,color:Re.color||"#10b981",enabled:!!Re.enabled,url:Re.url,events:[],lastSyncAt:Re.updatedAt});return K&&!ke.find(Re=>Re.type==="holidays")&&ke.push({id:"holidays",type:"holidays",name:"Public Holidays",color:"#ef4444",enabled:!0,events:[]}),ke})}g(Ue=>K?Ue.some(ke=>ke.type==="holidays")?Ue:[...Ue,{id:"holidays",type:"holidays",name:"Public Holidays",color:"#ef4444",enabled:!0,events:[]}]:Ue)}catch{}})()},[e?.id,K]);const Me=async B=>{try{const he="http://localhost:4000";if(B.type==="ics-url"){const Ae=await fetch(`${String(he).replace(/\/+$/,"")}/api/calendar/sources/${B.id}/events`,{headers:{...Z()},cache:"no-store"});return Ae.ok?(await Ae.json()||[]).map(Ke=>({...Ke,sourceName:B.name,sourceType:B.type,sourceColor:B.color})):null}if(B.type==="google"){const Ae=await fetch(`${String(he).replace(/\/+$/,"")}/api/calendar/google/events`,{headers:{...Z(),"Cache-Control":"no-cache"}});if(!Ae.ok)return null;const Ie=await Ae.json(),Ke=Te=>{const ke=(Te||"").toLowerCase();if(ke.includes("zoom.us"))return"zoom";if(ke.includes("meet.google.com"))return"google-meet";if(ke.includes("teams.microsoft"))return"teams"},Ue=Te=>{const ke=Te.hangoutLink,Re=Te.conferenceData?.entryPoints?.find(ar=>ar.entryPointType==="video")?.uri,Je=typeof Te.location=="string"&&/https?:\/\//i.test(Te.location)?Te.location:void 0,Zt=typeof Te.description=="string"?Te.description.match(/https?:\/\/\S+/)?.[0]:void 0;return Re||ke||Je||Zt};return Array.isArray(Ie)?Ie.map(Te=>{const ke=String(Te.start?.dateTime||Te.start?.date||""),Re=String(Te.end?.dateTime||Te.end?.date||""),Je=ke.slice(0,10),Zt=ke.length>10?ke.slice(11,16):"00:00",ar=Re.length>10?Re.slice(11,16):Zt,Jt=Ue(Te),Bt=Jt?Ke(Jt):void 0,Ur=Array.isArray(Te.attendees)?Te.attendees.map(xr=>xr.displayName||xr.email||"").filter(Boolean):[],Qt=!!Te.start?.date&&!Te.start?.dateTime,lr=Jt?"meeting":Qt?"reminder":"task";return{id:String(Te.id||`g-${Math.random()}`),title:String(Te.summary||Te.title||"(No title)"),description:ye(String(Te.description||"")),type:lr,startTime:Zt,endTime:ar,date:Je,priority:"medium",status:"scheduled",platform:Bt,meetingLink:Jt,attendees:Ur,createdBy:String(Te.organizer?.displayName||Te.organizer?.email||"Google"),createdAt:new Date().toISOString(),sourceName:B.name,sourceType:B.type,sourceColor:B.color}}):[]}if(B.type==="outlook"){const Ae=await fetch(`${String(he).replace(/\/+$/,"")}/api/calendar/microsoft/events`,{headers:{...Z(),"Cache-Control":"no-cache"}});if(!Ae.ok)return null;const Ie=await Ae.json(),Ke=Te=>{if(String(Te.onlineMeetingProvider||"").toLowerCase().includes("teams"))return"teams";const Re=String(Te.onlineMeeting?.joinUrl||Te.onlineMeetingUrl||"").toLowerCase();if(Re.includes("teams.microsoft"))return"teams";if(Re.includes("zoom.us"))return"zoom";if(Re.includes("meet.google.com"))return"google-meet"},Ue=Te=>Te.onlineMeeting?.joinUrl||Te.onlineMeetingUrl||void 0;return Array.isArray(Ie)?Ie.map(Te=>{const ke=String(Te.start?.dateTime||""),Re=String(Te.end?.dateTime||""),Je=ke.slice(0,10),Zt=ke.length>10?ke.slice(11,16):"00:00",ar=Re.length>10?Re.slice(11,16):Zt,Jt=Ue(Te),Bt=Ke(Te),Ur=Array.isArray(Te.attendees)?Te.attendees.map(lr=>lr.emailAddress?.name||lr.emailAddress?.address||"").filter(Boolean):[],Qt=Jt?"meeting":"task";return{id:String(Te.id||`o-${Math.random()}`),title:String(Te.subject||Te.title||"(No title)"),description:ye(String(Te.bodyPreview||"")),type:Qt,startTime:Zt,endTime:ar,date:Je,priority:"medium",status:"scheduled",platform:Bt,meetingLink:Jt,attendees:Ur,createdBy:String(Te.organizer?.emailAddress?.name||"Outlook"),createdAt:new Date().toISOString(),sourceName:B.name,sourceType:B.type,sourceColor:B.color}}):[]}if(B.type==="holidays"){const Ae=t.getFullYear(),Ie=await fetch(`${String(he).replace(/\/+$/,"")}/api/calendar/holidays?country=${encodeURIComponent(I)}&year=${Ae}`,{headers:{...Z(),"Cache-Control":"no-cache"}});if(!Ie.ok)return null;const Ke=await Ie.json();return Array.isArray(Ke)?Ke.map(Ue=>({id:String(Ue.id||`holiday-${Math.random()}`),title:String(Ue.title||Ue.name||"Public Holiday"),description:String(Ue.description||"Public holiday"),type:"reminder",startTime:String(Ue.startTime||"00:00"),endTime:String(Ue.endTime||"23:59"),date:String(Ue.date||"").slice(0,10),priority:"low",status:"scheduled",createdBy:"Public Holidays",createdAt:new Date().toISOString(),sourceName:B.name,sourceType:B.type,sourceColor:B.color})):[]}return null}catch{return null}};x.useEffect(()=>{g(K?B=>B.some(he=>he.type==="holidays")?B:[...B,{id:"holidays",type:"holidays",name:"Public Holidays",color:"#ef4444",enabled:!0,events:[]}]:B=>B.filter(he=>he.type!=="holidays"))},[K]),x.useEffect(()=>{if(!K)return;const B=f.find(he=>he.type==="holidays"&&he.enabled);B&&(async()=>{const he=await Me(B);he&&g(Ae=>Ae.map(Ie=>Ie.id===B.id?{...Ie,events:he,lastSyncAt:new Date().toISOString()}:Ie))})()},[K,I,t]),x.useEffect(()=>{if(!f||f.length===0)return;const B=f.filter(he=>he.enabled&&(!he.events||he.events.length===0)&&!re.current.has(he.id));B.length!==0&&(async()=>{for(const he of B){const Ae=await Me(he);Ae&&g(Ie=>Ie.map(Ke=>Ke.id===he.id?{...Ke,events:Ae,lastSyncAt:new Date().toISOString()}:Ke)),re.current.add(he.id)}})()},[f]),x.useEffect(()=>{if(!f||f.length===0)return;const B=setInterval(async()=>{const he=f.filter(Ae=>Ae.enabled);for(const Ae of he){const Ie=await Me(Ae);Ie&&g(Ke=>Ke.map(Ue=>Ue.id===Ae.id?{...Ue,events:Ie,lastSyncAt:new Date().toISOString()}:Ue))}},600*1e3);return()=>clearInterval(B)},[f]);const ve=cl(new Date),_e=p.filter(B=>B.date===ve),we=p.reduce((B,he)=>(B[he.date]||(B[he.date]=[]),B[he.date].push(he),B),{}),F=B=>{r(he=>{const Ae=new Date(he);return B==="prev"?Ae.setMonth(he.getMonth()-1):Ae.setMonth(he.getMonth()+1),Ae})},ue=()=>{const B=t.getFullYear(),he=t.getMonth(),Ae=new Date(B,he,1),Ie=new Date(Ae);Ie.setDate(Ie.getDate()-Ae.getDay());const Ke=[],Ue=new Date(Ie);for(let Te=0;Te<42;Te++){const ke=new Date(Ue);ke.getMonth()===he?Ke.push(ke):Ke.push(null),Ue.setDate(Ue.getDate()+1)}return Ke},R=B=>{const he=cl(B),Ae=we[he]||[];c(he),S(Ae),Ae.length>0?(O(he),T(!0)):(b(null),j(!0))},be=B=>{c(B),b(null),j(!0)},Ee=B=>{b(B),j(!0)},Ve=B=>{k?(m(he=>he.map(Ae=>Ae.id===B.id?B:Ae)),S(he=>he.map(Ae=>Ae.id===B.id?B:Ae))):(m(he=>[...he,B]),B.date===o&&S(he=>[...he,B]))},qe=B=>{m(he=>he.filter(Ae=>Ae.id!==B)),S(he=>he.filter(Ae=>Ae.id!==B))},dt=B=>{switch(B){case"task":return"bg-green-100 text-green-800 border-green-200";case"meeting":return"bg-blue-100 text-blue-800 border-blue-200";case"reminder":return"bg-purple-100 text-purple-800 border-purple-200";case"personal":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"outsourced":return"bg-orange-100 text-orange-800 border-orange-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},Ut=B=>{switch(B){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},_=B=>{switch(B){case"completed":return a.jsx(la,{className:"h-4 w-4 text-green-600"});case"in-progress":return a.jsx(Sr,{className:"h-4 w-4 text-blue-600"});case"cancelled":return a.jsx(js,{className:"h-4 w-4 text-red-600"});default:return a.jsx(Sr,{className:"h-4 w-4 text-gray-600"})}},ne=N==="all"?_e:_e.filter(B=>B.type===N),Ce=N==="all"?C:C.filter(B=>B.type===N),Le=B=>{const he=String(B).trim(),Ae=he.slice(0,8),Ie=Number(Ae.slice(0,4)),Ke=Number(Ae.slice(4,6)),Ue=Number(Ae.slice(6,8));let Te=0,ke=0;he.length>=15&&he[8]==="T"&&(Te=Number(he.slice(9,11)),ke=Number(he.slice(11,13)));const Re=`${Ie}-${String(Ke).padStart(2,"0")}-${String(Ue).padStart(2,"0")}`,Je=`${String(Te).padStart(2,"0")}:${String(ke).padStart(2,"0")}`;return{date:Re,time:Je}},q=(B,he)=>{const Ae=B.split(/\r?\n/),Ie=[];for(let Te=0;Te<Ae.length;Te++){const ke=Ae[Te];ke.startsWith(" ")&&Ie.length>0?Ie[Ie.length-1]+=ke.slice(1):Ie.push(ke)}const Ke=[];let Ue=null;for(const Te of Ie)if(Te.startsWith("BEGIN:VEVENT"))Ue={};else if(Te.startsWith("END:VEVENT")){if(Ue){const ke=Ue.UID||Math.random().toString(36).slice(2),Re=Ue.SUMMARY||"(No title)",Je=(Ue.DESCRIPTION||"").replace(/\\n/g,`
`),Zt=Ue.DTSTART||Ue["DTSTART;VALUE=DATE"]||"",ar=Ue.DTEND||Ue["DTEND;VALUE=DATE"]||"",Jt=Zt?Le(Zt):{date:cl(new Date),time:"00:00"},Bt=ar?Le(ar):Jt,Ur=Ue.LOCATION||"",xr=`${Ue.URL||""}
${Je}
${Ur}`.match(/https?:\/\/\S+/g)||[],Vn=((...Er)=>xr.find(ma=>Er.some(Ml=>Ml(ma.toLowerCase()))))(Er=>Er.includes("teams.microsoft"),Er=>Er.includes("zoom.us"),Er=>Er.includes("meet.google.com"))||xr[0],Oi=Er=>{const ma=String(Er||"").toLowerCase();if(ma.includes("aka.ms/jointeams")||ma.includes("teams.microsoft"))return"teams";if(ma.includes("zoom.us"))return"zoom";if(ma.includes("meet.google.com"))return"google-meet"},sn=!!!(Zt&&!/VALUE=DATE/i.test(Zt)),Ol=Vn?"meeting":sn?"reminder":"task";Ke.push({id:`ics-${ke}`,title:Re,description:ye(Je),type:Ol,startTime:Jt.time||"00:00",endTime:Bt.time||Jt.time||"00:00",date:Jt.date,priority:"medium",status:"scheduled",assignee:"",project:he,platform:Oi(Vn),meetingLink:Vn,attendees:[],isRecurring:void 0,recurrenceType:void 0,createdBy:he,createdAt:new Date().toISOString()})}Ue=null}else if(Ue){const ke=Te.indexOf(":");if(ke>0){const Re=Te.slice(0,ke).split(";")[0].toUpperCase(),Je=Te.slice(ke+1);Ue[Re]=Je}}return Ke},le=async()=>{if(!(!ie.trim()||!G.trim())){X(!0),V(null);try{const B=me(ie);if(!B){V("Please paste a valid ICS link (must start with http/https)."),X(!1);return}const he="http://localhost:4000",Ae=await fetch(`${String(he).replace(/\/+$/,"")}/api/calendar/sources`,{method:"POST",headers:{"Content-Type":"application/json",...Z()},body:JSON.stringify({name:G,url:B,color:"#10b981"})});if(!Ae.ok)throw new Error(await Ae.text());const Ie=await Ae.json(),Ke=await fetch(`${String(he).replace(/\/+$/,"")}/api/calendar/sources/${Ie.id}/events`,{headers:{...Z()},cache:"no-store"}),Ue=Ke.ok?await Ke.json():[],Te={id:Ie.id,type:"ics-url",name:Ie.name,color:Ie.color||"#10b981",enabled:!!Ie.enabled,url:B,events:(Ue||[]).map(ke=>({...ke,sourceName:Ie.name,sourceType:"ics-url",sourceColor:Ie.color||"#10b981"})),lastSyncAt:new Date().toISOString()};g(ke=>[...ke,Te]),W(""),H(""),te(!1)}catch(B){V(B?.message||"Unable to add ICS URL (CORS may block direct fetch). Consider uploading .ics file or enabling a server proxy.")}finally{X(!1)}}},De=async B=>{X(!0),V(null);try{const he=await B.text(),Ae=q(he,B.name),Ie={id:`ics-upload-${Date.now()}`,type:"ics-upload",name:B.name.replace(/\.ics$/i,""),color:"#8b5cf6",enabled:!0,events:Ae.map(Ke=>({...Ke,sourceName:B.name.replace(/\.ics$/i,""),sourceType:"ics-upload",sourceColor:"#8b5cf6"})),lastSyncAt:new Date().toISOString()};g(Ke=>[...Ke,Ie])}catch(he){V(he?.message||"Failed to parse ICS file")}finally{X(!1)}},et=async B=>{X(!0),V(null);try{if(B.type==="ics-url"){const Ae=await fetch(`${String("http://localhost:4000").replace(/\/+$/,"")}/api/calendar/sources/${B.id}/events`,{headers:{...Z()},cache:"no-store"});if(!Ae.ok)throw new Error(await Ae.text());const Ke=(await Ae.json()||[]).map(Ue=>({...Ue,sourceName:B.name,sourceType:B.type,sourceColor:B.color}));g(Ue=>Ue.map(Te=>Te.id===B.id?{...Te,events:Ke,lastSyncAt:new Date().toISOString()}:Te))}else if(B.type==="google"){const Ae=await fetch(`${String("http://localhost:4000").replace(/\/+$/,"")}/api/calendar/google/events`,{headers:{"Cache-Control":"no-cache",...Z()}});if(!Ae.ok)throw new Error("Google calendar sync endpoint not available. See setup notes below.");const Ie=await Ae.json(),Ke=ke=>{const Re=(ke||"").toLowerCase();if(Re.includes("zoom.us"))return"zoom";if(Re.includes("meet.google.com"))return"google-meet";if(Re.includes("teams.microsoft"))return"teams"},Ue=ke=>{const Re=ke.hangoutLink,Je=ke.conferenceData?.entryPoints?.find(Jt=>Jt.entryPointType==="video")?.uri,Zt=typeof ke.location=="string"&&/https?:\/\//i.test(ke.location)?ke.location:void 0,ar=typeof ke.description=="string"?ke.description.match(/https?:\/\/\S+/)?.[0]:void 0;return Je||Re||Zt||ar},Te=Array.isArray(Ie)?Ie.map(ke=>{const Re=String(ke.start?.dateTime||ke.start?.date||""),Je=String(ke.end?.dateTime||ke.end?.date||""),Zt=Re.slice(0,10),ar=Re.length>10?Re.slice(11,16):"00:00",Jt=Je.length>10?Je.slice(11,16):ar,Bt=Ue(ke),Ur=Bt?Ke(Bt):void 0,Qt=Array.isArray(ke.attendees)?ke.attendees.map(Pa=>Pa.displayName||Pa.email||"").filter(Boolean):[],lr=!!ke.start?.date&&!ke.start?.dateTime,xr=Bt?"meeting":lr?"reminder":"task";return{id:String(ke.id||`g-${Math.random()}`),title:String(ke.summary||ke.title||"(No title)"),description:ye(String(ke.description||"")),type:xr,startTime:ar,endTime:Jt,date:Zt,priority:"medium",status:"scheduled",platform:Ur,meetingLink:Bt,attendees:Qt,createdBy:String(ke.organizer?.displayName||ke.organizer?.email||"Google"),createdAt:new Date().toISOString(),sourceName:B.name,sourceType:B.type,sourceColor:B.color}}):[];g(ke=>ke.map(Re=>Re.id===B.id?{...Re,events:Te,lastSyncAt:new Date().toISOString()}:Re))}else if(B.type==="outlook"){const Ae=await fetch(`${String("http://localhost:4000").replace(/\/+$/,"")}/api/calendar/microsoft/events`,{headers:{"Cache-Control":"no-cache",...Z()}});if(!Ae.ok)throw new Error("Outlook calendar sync endpoint not available. See setup notes below.");const Ie=await Ae.json(),Ke=ke=>{if(String(ke.onlineMeetingProvider||"").toLowerCase().includes("teams"))return"teams";const Je=String(ke.onlineMeeting?.joinUrl||ke.onlineMeetingUrl||"").toLowerCase();if(Je.includes("teams.microsoft"))return"teams";if(Je.includes("zoom.us"))return"zoom";if(Je.includes("meet.google.com"))return"google-meet"},Ue=ke=>ke.onlineMeeting?.joinUrl||ke.onlineMeetingUrl||void 0,Te=Array.isArray(Ie)?Ie.map(ke=>{const Re=String(ke.start?.dateTime||""),Je=String(ke.end?.dateTime||""),Zt=Re.slice(0,10),ar=Re.length>10?Re.slice(11,16):"00:00",Jt=Je.length>10?Je.slice(11,16):ar,Bt=Ue(ke),Ur=Ke(ke),Qt=Array.isArray(ke.attendees)?ke.attendees.map(xr=>xr.emailAddress?.name||xr.emailAddress?.address||"").filter(Boolean):[],lr=Bt?"meeting":"task";return{id:String(ke.id||`o-${Math.random()}`),title:String(ke.subject||ke.title||"(No title)"),description:ye(String(ke.bodyPreview||"")),type:lr,startTime:ar,endTime:Jt,date:Zt,priority:"medium",status:"scheduled",platform:Ur,meetingLink:Bt,attendees:Qt,createdBy:String(ke.organizer?.emailAddress?.name||"Outlook"),createdAt:new Date().toISOString(),sourceName:B.name,sourceType:B.type,sourceColor:B.color}}):[];g(ke=>ke.map(Re=>Re.id===B.id?{...Re,events:Te,lastSyncAt:new Date().toISOString()}:Re))}else if(B.type==="holidays"){const he="http://localhost:4000",Ae=t.getFullYear(),Ie=await fetch(`${String(he).replace(/\/+$/,"")}/api/calendar/holidays?country=${encodeURIComponent(I)}&year=${Ae}`,{headers:{...Z(),"Cache-Control":"no-cache"}});if(!Ie.ok)throw new Error(await Ie.text());const Ke=await Ie.json(),Ue=Array.isArray(Ke)?Ke.map(Te=>({id:String(Te.id||`holiday-${Math.random()}`),title:String(Te.title||Te.name||"Public Holiday"),description:String(Te.description||"Public holiday"),type:"reminder",startTime:String(Te.startTime||"00:00"),endTime:String(Te.endTime||"23:59"),date:String(Te.date||"").slice(0,10),priority:"low",status:"scheduled",createdBy:"Public Holidays",createdAt:new Date().toISOString(),sourceName:B.name,sourceType:B.type,sourceColor:B.color})):[];g(Te=>Te.map(ke=>ke.id===B.id?{...ke,events:Ue,lastSyncAt:new Date().toISOString()}:ke))}}catch(he){V(he?.message||"Sync failed")}finally{X(!1)}};return a.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Calendar Dashboard"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>i("day"),className:`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${n==="day"?"bg-blue-600 text-white":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:"Day"}),a.jsx("button",{onClick:()=>i("week"),className:`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${n==="week"?"bg-blue-600 text-white":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:"Week"}),a.jsx("button",{onClick:()=>i("month"),className:`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${n==="month"?"bg-blue-600 text-white":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:"Month"})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[U&&a.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Syncing"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Holidays"}),a.jsx("input",{type:"checkbox",checked:K,onChange:B=>J(B.target.checked)}),K&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Country"}),a.jsx("input",{value:I,onChange:B=>L(B.target.value.toUpperCase()),className:"px-2 py-1 w-16 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm",placeholder:"LK",maxLength:2})]})]}),a.jsxs("select",{value:N,onChange:B=>A(B.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Events"}),a.jsx("option",{value:"task",children:"Tasks"}),a.jsx("option",{value:"meeting",children:"Meetings"}),a.jsx("option",{value:"reminder",children:"Reminders"}),a.jsx("option",{value:"personal",children:"Personal"}),a.jsx("option",{value:"outsourced",children:"Outsourced"})]}),a.jsxs("button",{onClick:()=>be(ve),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx(yf,{className:"h-4 w-4"}),a.jsx("span",{children:"Add Event"})]})]})]})})}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 mb-6",children:[a.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Connected Calendars"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:async()=>{const B="http://localhost:4000";try{const he=await fetch(`${String(B).replace(/\/+$/,"")}/api/calendar/google/session`,{method:"POST",headers:{"Content-Type":"application/json",...Z()}});if(!he.ok)throw new Error(await he.text());const Ae=await he.json();window.location.href=Ae.redirectUrl}catch{alert("Failed to start Google OAuth. Please ensure you are logged in.")}},className:"px-3 py-2 text-sm bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600",title:"Connect Google Calendar (requires backend OAuth setup)",children:"Connect Google"}),a.jsx("button",{onClick:async()=>{const B="http://localhost:4000";try{const he=await fetch(`${String(B).replace(/\/+$/,"")}/api/calendar/microsoft/session`,{method:"POST",headers:{"Content-Type":"application/json",...Z()}});if(!he.ok)throw new Error(await he.text());const Ae=await he.json();window.location.href=Ae.redirectUrl}catch{alert("Failed to start Microsoft OAuth. Please ensure you are logged in.")}},className:"px-3 py-2 text-sm bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600",title:"Connect Outlook Calendar (requires backend OAuth setup)",children:"Connect Outlook"}),a.jsx("button",{onClick:()=>te(B=>!B),className:"px-3 py-2 text-sm bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600",children:Q?"Cancel":"Add ICS URL"}),a.jsxs("label",{className:"px-3 py-2 text-sm bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 cursor-pointer",children:["Upload .ics",a.jsx("input",{type:"file",accept:".ics,text/calendar",className:"hidden",onChange:B=>{const he=B.target.files?.[0];he&&De(he),B.currentTarget.value=""}})]})]})]}),$&&a.jsx("div",{className:"px-6 py-3 text-sm text-red-700 bg-red-50 dark:bg-red-900/20 dark:text-red-300 border-b border-red-200 dark:border-red-800",children:$}),Q&&a.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 flex items-center space-x-3",children:[a.jsx("input",{value:G,onChange:B=>H(B.target.value),placeholder:"Calendar name",className:"flex-1 px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),a.jsx("input",{value:ie,onChange:B=>W(B.target.value),placeholder:"https://... (ICS feed URL)",className:"flex-[2] px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),a.jsx("button",{onClick:le,disabled:U||!ie.trim()||!G.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg disabled:opacity-50",children:"Add"})]}),a.jsx("div",{className:"p-6",children:f.length===0?a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"No calendars connected. Connect Google/Outlook (requires backend), or add an ICS URL or upload an .ics file."}):a.jsx("div",{className:"space-y-3",children:f.map(B=>a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:B.color}}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:B.name}),a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[B.type," ",B.lastSyncAt?` synced ${new Date(B.lastSyncAt).toLocaleString()}`:""]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("label",{className:"text-sm text-gray-600 dark:text-gray-300 flex items-center space-x-1 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:B.enabled,onChange:async he=>{const Ae=he.target.checked;if(g(Ie=>Ie.map(Ke=>Ke.id===B.id?{...Ke,enabled:Ae}:Ke)),B.type==="ics-url")try{await fetch(`${String("http://localhost:4000").replace(/\/+$/,"")}/api/calendar/sources/${B.id}`,{method:"PATCH",headers:{"Content-Type":"application/json",...Z()},body:JSON.stringify({enabled:Ae})})}catch{}}}),a.jsx("span",{children:"Show"})]}),a.jsx("button",{onClick:()=>et(B),className:"px-3 py-1.5 text-sm bg-gray-100 dark:bg-gray-700 rounded hover:bg-gray-200 dark:hover:bg-gray-600",children:"Sync"}),a.jsx("button",{onClick:async()=>{if(B.type==="ics-url")try{await fetch(`${String("http://localhost:4000").replace(/\/+$/,"")}/api/calendar/sources/${B.id}`,{method:"DELETE",headers:{...Z()}})}catch{}g(he=>he.filter(Ae=>Ae.id!==B.id))},className:"px-3 py-1.5 text-sm bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-300 rounded hover:bg-red-100 dark:hover:bg-red-900/40",children:"Remove"})]})]},B.id))})}),a.jsx("div",{className:"px-6 py-4 border-t border-gray-200 dark:border-gray-700 text-xs text-gray-500 dark:text-gray-400",children:"To enable Google/Outlook login and live sync, set up backend OAuth routes: GET /api/calendar/google/events, GET /api/calendar/microsoft/events and corresponding connect/login flows. I can add these server routes if you want."})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>F("prev"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:a.jsx(P8,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"})}),a.jsx("button",{onClick:()=>r(new Date),className:"px-4 py-2 text-sm text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"Today"}),a.jsx("button",{onClick:()=>F("next"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:a.jsx(XD,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"})})]})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"grid grid-cols-7 gap-1 mb-4",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(B=>a.jsx("div",{className:"p-3 text-center text-sm font-semibold text-gray-600 dark:text-gray-400",children:B},B))}),a.jsx("div",{className:"grid grid-cols-7 gap-1",children:ue().map((B,he)=>{if(B===null)return a.jsx("div",{className:"min-h-[140px] p-3 border border-gray-100 dark:border-gray-800 bg-gray-50 dark:bg-gray-900/50"},he);const Ae=cl(B),Ie=we[Ae]||[],Ke=Ae===ve,Ue=Ae===o;return a.jsxs("div",{className:`
                      min-h-[140px] p-3 border border-gray-200 dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 hover:shadow-md transition-all duration-200 group
                      ${Ke?"bg-blue-50 dark:bg-blue-900/20 border-blue-300 dark:border-blue-600":""}
                      ${Ue?"bg-blue-100 dark:bg-blue-900/40 border-blue-400 dark:border-blue-500":""}
                    `,onClick:()=>R(B),title:"Click to create event",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:`text-lg font-semibold ${Ke?"text-white":""}`,children:Ke?a.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center",children:B.getDate()}):B.getDate()}),a.jsx("button",{onClick:Te=>{Te.stopPropagation(),be(Ae)},className:"opacity-0 group-hover:opacity-100 p-2 hover:bg-blue-100 dark:hover:bg-blue-900/20 rounded-full transition-all duration-200 hover:scale-110",title:"Add event to this date",children:a.jsx(yf,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})})]}),a.jsxs("div",{className:"space-y-1",children:[Ie.slice(0,4).map(Te=>a.jsx("div",{className:`text-xs p-2 rounded border ${dt(Te.type)} cursor-pointer hover:shadow-sm transition-shadow`,onClick:ke=>{ke.stopPropagation(),Ee(Te)},children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{className:"text-xs font-medium",children:Te.startTime}),a.jsx("span",{className:"truncate",children:Te.title})]})},Te.id)),Ie.length>4&&a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:["+",Ie.length-4," more"]})]})]},he)})})]}),a.jsx("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-center space-x-6",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Tasks"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Meetings"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Reminders"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Outsourcing"})]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Today's Events"}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[_e.length," events scheduled"]})]}),a.jsx("div",{className:"p-6",children:ne.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Ca,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No events today"})]}):a.jsx("div",{className:"space-y-4",children:ne.map(B=>a.jsx("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer transition-colors",onClick:()=>Ee(B),children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsx("span",{className:`px-3 py-1 text-sm rounded-full ${dt(B.type)}`,children:B.type}),a.jsx("span",{className:`px-3 py-1 text-sm rounded-full ${Ut(B.priority)}`,children:B.priority}),a.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[B.startTime," - ",B.endTime]})]}),a.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white text-lg mb-1",children:B.title}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:B.description}),B.project&&a.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-500 dark:text-gray-400",children:[a.jsx(gn,{className:"h-4 w-4"}),a.jsx("span",{children:B.project})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[_(B.status),a.jsx("button",{onClick:he=>{he.stopPropagation(),qe(B.id)},className:"p-2 hover:bg-red-100 dark:hover:bg-red-900/20 rounded transition-colors",children:a.jsx(Zy,{className:"h-4 w-4 text-red-500"})})]})]})},B.id))})})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:o?new Date(o+"T00:00:00").toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"}):"Select a Date"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:o?`${C.length} events scheduled`:"Click on a date to view events"})]}),a.jsx("div",{className:"p-6",children:o?Ce.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Ca,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No events on this day"}),a.jsx("button",{onClick:()=>be(o),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:"Add Event"})]}):a.jsx("div",{className:"space-y-4",children:Ce.map(B=>a.jsx("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer transition-colors",onClick:()=>Ee(B),children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsx("span",{className:`px-3 py-1 text-sm rounded-full ${dt(B.type)}`,children:B.type}),a.jsx("span",{className:`px-3 py-1 text-sm rounded-full ${Ut(B.priority)}`,children:B.priority}),a.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[B.startTime," - ",B.endTime]})]}),a.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white text-lg mb-1",children:B.title}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:B.description}),B.project&&a.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-500 dark:text-gray-400",children:[a.jsx(gn,{className:"h-4 w-4"}),a.jsx("span",{children:B.project})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[_(B.status),a.jsx("button",{onClick:he=>{he.stopPropagation(),qe(B.id)},className:"p-2 hover:bg-red-100 dark:hover:bg-red-900/20 rounded transition-colors",children:a.jsx(Zy,{className:"h-4 w-4 text-red-500"})})]})]})},B.id))}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Ca,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Click on a date to view events"})]})})]})]})]}),a.jsx(Bae,{isOpen:y,onClose:()=>{j(!1),b(null)},event:k,selectedDate:o,onSave:Ve}),E&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md mx-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:new Date(P).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:[C.length," event",C.length!==1?"s":""]})]}),a.jsx("button",{onClick:()=>T(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsx("div",{className:"p-6 max-h-96 overflow-y-auto",children:a.jsx("div",{className:"space-y-3",children:C.map(B=>a.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",onClick:()=>{T(!1),Ee(B)},children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:`w-3 h-3 rounded-full mt-1 ${B.type==="task"?"bg-green-500":B.type==="meeting"?"bg-blue-500":B.type==="reminder"?"bg-yellow-500":B.type==="personal"?"bg-purple-500":"bg-orange-500"}`}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded",children:B.type.charAt(0).toUpperCase()+B.type.slice(1)}),B.priority==="high"&&a.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300 rounded",children:"High Priority"})]}),a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:B.title}),B.description&&a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:B.description}),a.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[B.startTime," - ",B.endTime]}),a.jsxs("div",{className:"mt-1 flex items-center text-xs text-gray-500 dark:text-gray-400",children:[a.jsx("span",{className:"inline-block w-2 h-2 rounded-full mr-2",style:{backgroundColor:B.sourceColor||"#9ca3af"}}),a.jsxs("span",{children:["From ",B.sourceName||"My Calendar"]})]}),B.type==="meeting"&&a.jsxs("div",{className:"mt-3",children:[B.platform&&a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}),a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:B.platform==="teams"?"Teams":B.platform==="zoom"?"Zoom":B.platform==="google-meet"?"Google Meet":"Physical"})]}),B.meetingLink&&a.jsxs("button",{onClick:he=>{he.stopPropagation(),window.open(B.meetingLink,"_blank")},className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg transition-colors flex items-center justify-center space-x-2",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),a.jsx("span",{children:B.platform==="teams"?"Join via Teams":B.platform==="zoom"?"Join via Zoom":B.platform==="google-meet"?"Join via Google Meet":"Open Meeting"})]})]})]})]})},B.id))})}),a.jsx("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700",children:a.jsxs("button",{onClick:()=>{T(!1),c(P),b(null),j(!0)},className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-4 rounded-lg transition-colors flex items-center justify-center space-x-2",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),a.jsx("span",{children:"Add Another Event"})]})})]})})]})};class Fae{invoices=[];paymentReceipts=[];bankCredits=[];unmatchedEmails=[];paymentMatches=[];constructor(){this.initializeMockData()}delay(t){return new Promise(r=>setTimeout(r,t))}initializeMockData(){this.invoices=[{id:"inv-001",invoiceNo:"INV-2025-001",projectId:"proj-1",phaseId:"phase-1",projectName:"Mobile App Redesign",phaseName:"Design Phase",issueDate:"2025-01-15",dueDate:"2025-02-15",currency:"USD",subtotal:5e3,taxAmount:500,total:5500,collected:5500,outstanding:0,status:"Paid",pdfKey:"invoices/inv-001.pdf",notes:"Client requested expedited delivery. All requirements completed ahead of schedule.",createdAt:"2025-01-15T10:00:00Z",updatedAt:"2025-01-20T15:30:00Z"},{id:"inv-002",invoiceNo:"INV-2025-002",projectId:"proj-2",phaseId:"phase-2",projectName:"Backend API Development",phaseName:"Development Phase",issueDate:"2025-01-20",dueDate:"2025-02-20",currency:"USD",subtotal:8e3,taxAmount:800,total:8800,collected:4400,outstanding:4400,status:"PartiallyPaid",pdfKey:"invoices/inv-002.pdf",notes:"Payment received for first milestone. Client confirmed satisfaction with progress.",createdAt:"2025-01-20T10:00:00Z",updatedAt:"2025-01-25T14:20:00Z"},{id:"inv-003",invoiceNo:"INV-2025-003",projectId:"proj-3",phaseId:"phase-3",projectName:"Design System",phaseName:"Implementation Phase",issueDate:"2025-01-10",dueDate:"2025-01-25",currency:"USD",subtotal:3e3,taxAmount:300,total:3300,collected:0,outstanding:3300,status:"Overdue",pdfKey:"invoices/inv-003.pdf",notes:"Client experiencing budget constraints. Follow-up call scheduled for next week.",createdAt:"2025-01-10T10:00:00Z",updatedAt:"2025-01-10T10:00:00Z"},{id:"inv-004",invoiceNo:"INV-2025-004",projectId:"proj-1",phaseId:"phase-2",projectName:"Mobile App Redesign",phaseName:"Development Phase",issueDate:"2025-01-25",dueDate:"2025-02-25",currency:"USD",subtotal:12e3,taxAmount:1200,total:13200,collected:0,outstanding:13200,status:"Sent",pdfKey:"invoices/inv-004.pdf",notes:"Large project with multiple phases. Client approved all design mockups before development started.",createdAt:"2025-01-25T10:00:00Z",updatedAt:"2025-01-25T10:00:00Z"},{id:"inv-005",invoiceNo:"INV-2025-005",projectId:"proj-2",phaseId:"phase-3",projectName:"Backend API Development",phaseName:"Testing Phase",issueDate:"2025-01-30",dueDate:"2025-02-15",currency:"USD",subtotal:4500,taxAmount:450,total:4950,collected:0,outstanding:4950,status:"Draft",pdfKey:"invoices/inv-005.pdf",notes:"Final testing phase includes performance optimization and security audit. Estimated completion in 2 weeks.",createdAt:"2025-01-30T10:00:00Z",updatedAt:"2025-01-30T10:00:00Z"},{id:"inv-006",invoiceNo:"INV-2025-006",projectId:"proj-3",phaseId:"phase-1",projectName:"Design System",phaseName:"Research Phase",issueDate:"2025-02-01",dueDate:"2025-02-16",currency:"USD",subtotal:2500,taxAmount:250,total:2750,collected:2750,outstanding:0,status:"Paid",pdfKey:"invoices/inv-006.pdf",notes:"Research phase completed successfully. Client provided excellent feedback on user interviews.",createdAt:"2025-02-01T10:00:00Z",updatedAt:"2025-02-05T16:45:00Z"},{id:"inv-007",invoiceNo:"INV-2025-007",projectId:"proj-1",phaseId:"phase-3",projectName:"Mobile App Redesign",phaseName:"Testing Phase",issueDate:"2025-02-05",dueDate:"2025-02-20",currency:"USD",subtotal:6e3,taxAmount:600,total:6600,collected:0,outstanding:6600,status:"Draft",pdfKey:"invoices/inv-007.pdf",notes:"",createdAt:"2025-02-05T10:00:00Z",updatedAt:"2025-02-05T10:00:00Z"},{id:"inv-008",invoiceNo:"INV-2025-008",projectId:"proj-2",phaseId:"phase-1",projectName:"Backend API Development",phaseName:"Planning Phase",issueDate:"2025-02-10",dueDate:"2025-02-25",currency:"USD",subtotal:3500,taxAmount:350,total:3850,collected:0,outstanding:3850,status:"Sent",pdfKey:"invoices/inv-008.pdf",notes:"Planning phase includes architecture design and database schema. Client approved technical specifications.",createdAt:"2025-02-10T10:00:00Z",updatedAt:"2025-02-10T10:00:00Z"}],this.paymentReceipts=[{id:"receipt-001",paymentRequestId:"PR-001",invoiceId:"inv-001",projectId:"proj-1",phaseId:"phase-1",projectName:"Mobile App Redesign",phaseName:"Design Phase",source:"email",fileKey:"https://dummyimage.com/600x800/1f2937/e5e7eb.png&text=Payment+Slip",fileName:"payment_slip_001.png",fileType:"image/png",fileSize:245760,amount:5500,paidDate:"2025-01-20",transactionRef:"TXN-001",payerName:"John Smith",payerEmail:"john@client.com",status:"Verified",confidence:.95,matchedInvoiceId:"inv-001",matchedAmount:5500,senderEmail:"john@client.com",messageId:"msg-001",gmailThreadId:"thread-001",receivedAt:"2025-01-20T09:30:00Z",reviewedBy:"finance@company.com",reviewedAt:"2025-01-20T10:15:00Z"},{id:"receipt-002",projectId:"proj-2",phaseId:"phase-2",projectName:"Backend API Development",phaseName:"Development Phase",source:"email",fileKey:"https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf",fileName:"payment_confirmation.pdf",fileType:"application/pdf",fileSize:189440,amount:4400,paidDate:"2025-01-25",transactionRef:"TXN-002",payerName:"Jane Doe",payerEmail:"jane@client.com",status:"Submitted",confidence:.75,flags:["awaiting_bank"],senderEmail:"jane@client.com",messageId:"msg-002",receivedAt:"2025-01-25T14:20:00Z"},{id:"receipt-003",projectId:"proj-4",phaseId:"phase-4",projectName:"Database Migration",phaseName:"Migration Phase",source:"email",fileKey:"https://dummyimage.com/600x800/f3f4f6/111827.png&text=Payment+Slip",fileName:"payment_slip_003.png",fileType:"image/png",fileSize:156800,amount:2e3,paidDate:"2025-01-28",transactionRef:"TXN-003",payerName:"Bob Wilson",payerEmail:"bob@client.com",status:"Submitted",confidence:.6,flags:["awaiting_bank","no_slip"],senderEmail:"bob@client.com",messageId:"msg-003",receivedAt:"2025-01-28T11:45:00Z"}],this.bankCredits=[{id:"bank-001",amount:3300,currency:"USD",valueDate:"2025-01-26",payerName:"Design System Client",bankRef:"REF-001",memo:"Payment for design system project",sourceMailbox:"bank@company.com",messageId:"bank-msg-001",receivedAt:"2025-01-26T08:00:00Z",matchedInvoiceId:"inv-003",matchedAmount:3300,confidence:.9,status:"Matched",suggestions:[{invoiceId:"inv-003",reason:"Amount matches exactly",confidence:.9}]},{id:"bank-002",amount:1500,currency:"USD",valueDate:"2025-01-27",payerName:"Unknown Payer",bankRef:"REF-002",memo:"Payment received",sourceMailbox:"bank@company.com",messageId:"bank-msg-002",receivedAt:"2025-01-27T10:30:00Z",confidence:.45,status:"Unmatched",suggestions:[{invoiceId:"inv-002",reason:"Similar amount to partial payment",confidence:.45}]}],this.unmatchedEmails=[{id:"email-001",senderEmail:"client@example.com",subject:"Payment confirmation",snippet:"Please find attached payment slip for invoice INV-2025-004",receivedAt:"2025-01-29T16:20:00Z",reason:"paymentId_unknown",messageId:"email-msg-001",archived:!1},{id:"email-002",senderEmail:"another@client.com",subject:"Invoice payment",snippet:"I have made payment for the recent invoice",receivedAt:"2025-01-30T09:15:00Z",reason:"no_valid_attachment",messageId:"email-msg-002",archived:!1},{id:"email-003",senderEmail:"largefile@client.com",subject:"Payment slip attached",snippet:"Please find the payment slip attached",receivedAt:"2025-01-30T11:30:00Z",reason:"oversize",messageId:"email-msg-003",archived:!1}],this.paymentMatches=[{id:"match-001",invoiceId:"inv-001",receiptId:"receipt-001",amount:5500,matchedAt:"2025-01-20T10:15:00Z",matchedBy:"finance@company.com",type:"receipt"},{id:"match-002",invoiceId:"inv-003",bankCreditId:"bank-001",amount:3300,matchedAt:"2025-01-26T09:00:00Z",matchedBy:"system@company.com",type:"bank_credit"}]}async getCashSummary(t){try{const r=await fetch(`${tt}/invoices`,{headers:{"content-type":"application/json"}}),n=r.ok?await r.json():[],i=await fetch(`${tt}/api/receipts`,{headers:{"x-user-id":localStorage.getItem("userId")||""}}),o=i.ok?await i.json():[],c=await fetch(`${tt}/api/bank-credits`,{headers:{"x-user-id":localStorage.getItem("userId")||""}}),u=c.ok?await c.json():[],m=o.map(b=>({id:String(b.id||b.messageId||`rcpt-${Math.random()}`),paymentRequestId:b.paymentRequestId,invoiceId:b.invoiceId,projectId:b.projectId||"unknown",phaseId:b.phaseId||"unknown",projectName:b.projectName||"",phaseName:b.phaseName||"",source:"email",fileKey:b.fileKey,fileName:b.fileName,fileType:b.fileType,fileSize:b.fileSize,amount:typeof b.amount=="number"?b.amount:void 0,paidDate:b.paidDate,transactionRef:b.transactionRef,payerName:b.payerName,payerEmail:b.payerEmail||b.senderEmail,status:b.status||"Submitted",confidence:b.confidence,matchedInvoiceId:b.matchedInvoiceId,matchedAmount:b.matchedAmount,flags:b.flags||[],senderEmail:b.senderEmail,messageId:b.messageId,gmailThreadId:b.gmailThreadId,receivedAt:b.receivedAt||new Date().toISOString()})),f=u.map(b=>({id:String(b.id||b.messageId||`bc-${Math.random()}`),amount:Number(b.amount)||0,currency:b.currency||"USD",valueDate:b.valueDate||b.receivedAt||new Date().toISOString(),payerName:b.payerName,bankRef:b.bankRef,memo:b.memo,sourceMailbox:b.sourceMailbox||"gmail",messageId:b.messageId||"",receivedAt:b.receivedAt||new Date().toISOString(),matchedInvoiceId:b.matchedInvoiceId,matchedAmount:b.matchedAmount,confidence:b.confidence||.5,status:b.status||"Unmatched",suggestions:b.suggestions||[]})),g={count:n.length,total:n.reduce((b,C)=>b+C.total,0)},p={count:m.length,total:m.reduce((b,C)=>b+(C.amount||0),0),verified:m.filter(b=>b.status==="Verified").length},y={collected:m.reduce((b,C)=>b+(C.amount||0),0),invoiced:n.reduce((b,C)=>b+C.total,0),percentage:0};y.percentage=y.invoiced>0?Math.round(y.collected/y.invoiced*100):0;const j={count:n.filter(b=>b.status==="Overdue").length,total:n.filter(b=>b.status==="Overdue").reduce((b,C)=>b+C.outstanding,0)},k={count:m.filter(b=>!b.matchedInvoiceId).length+f.filter(b=>b.status==="Unmatched").length,receipts:m.filter(b=>!b.matchedInvoiceId).length,bankCredits:f.filter(b=>b.status==="Unmatched").length,emails:0};return{success:!0,data:{invoicesIssued:g,receiptsReceived:p,collectedVsInvoiced:y,overdueInvoices:j,unmatchedItems:k}}}catch(r){return{success:!1,message:r?.message||"Failed to load summary",data:{invoicesIssued:{count:0,total:0},receiptsReceived:{count:0,total:0,verified:0},collectedVsInvoiced:{collected:0,invoiced:0,percentage:0},overdueInvoices:{count:0,total:0},unmatchedItems:{count:0,receipts:0,bankCredits:0,emails:0}}}}}async getInvoices(t={}){try{const r=await fetch(`${tt}/invoices`,{headers:{"content-type":"application/json"}});if(!r.ok)throw new Error(await r.text());let i=await r.json();return t.status&&t.status.length>0&&(i=i.filter(o=>t.status.includes(o.status))),t.projectId&&(i=i.filter(o=>o.projectId===t.projectId)),t.phaseId&&(i=i.filter(o=>o.phaseId===t.phaseId)),t.overdueOnly&&(i=i.filter(o=>o.status==="Overdue")),t.dateRange&&(i=i.filter(o=>{const c=new Date(o.issueDate);return c>=new Date(t.dateRange.start)&&c<=new Date(t.dateRange.end)})),{success:!0,data:{data:i,total:i.length,page:1,limit:100,hasMore:!1}}}catch(r){return{success:!1,message:r?.message||"Failed to load invoices",data:{data:[],total:0,page:1,limit:50,hasMore:!1}}}}async getOverdueInvoices(){return{data:this.invoices.filter(r=>r.status==="Overdue"),success:!0}}async markInvoicePaid(t){try{const r=await fetch(`${tt}/invoices/${t.invoiceId}/mark-paid`,{method:"POST"});if(!r.ok)throw new Error(await r.text());return{success:!0,data:await r.json()}}catch(r){return{success:!1,message:r?.message||"Failed to mark invoice as paid",data:{}}}}async sendInvoice(t,r){let n=this.invoices.find(i=>i.id===t);if(!n)try{const i=await fetch(`${tt}/invoices`,{headers:{"content-type":"application/json"}});i.ok&&(n=(await i.json()).find(c=>c.id===t))}catch{}if(!n)return{success:!1,message:"Invoice not found",data:{success:!1}};try{let i=(r||"").trim();if(!i){i="client@example.com";try{const m=await fetch(`${tt}/projects/${n.projectId}`,{headers:{"content-type":"application/json"}});if(m.ok){const f=await m.json();i=f?.owner?.email||Array.isArray(f?.memberships)&&f.memberships.find(g=>g?.user?.email)?.user?.email||i}}catch{}}const o=`Invoice ${n.invoiceNo}  ${n.projectName} / ${n.phaseName}`,c=`Dear Client,

Please find your invoice ${n.invoiceNo} for the phase "${n.phaseName}" under project "${n.projectName}".
Total due: ${n.currency} ${n.total}.

PaymentID: ${n.invoiceNo}

Please reply to this email with the payment slip once paid.

Thank you.
`,u=await fetch(`${tt}/api/gmail/send`,{method:"POST",headers:{"content-type":"application/json","x-user-id":localStorage.getItem("userId")||""},body:JSON.stringify({to:i,subject:o,text:c,template:"invoice",invoice:{invoiceNo:n.invoiceNo,projectName:n.projectName,phaseName:n.phaseName,clientName:"",issueDate:n.issueDate,dueDate:n.dueDate,currency:n.currency,total:n.total,description:"Project work"}})});if(!u.ok){let m="";try{m=await u.text()}catch{}return u.status===409&&!m&&(m="Gmail scopes not granted. Reconnect and allow send permission."),{success:!1,message:m||`Failed to send (HTTP ${u.status})`,data:{success:!1}}}}catch{}return{data:{success:!0},success:!0}}async ingestBankEmailsFromGmail(){try{const t=await fetch(`${tt}/api/gmail/bank-credits`,{headers:{"x-user-id":localStorage.getItem("userId")||""}});if(!t.ok)throw new Error(await t.text());const r=await t.json();let n=0;for(const i of r)if(!this.bankCredits.find(o=>o.messageId===i.messageId)){const o={id:String(i.id||`bc-${Date.now()}-${Math.random()}`),amount:Number(i.amount)||0,currency:i.currency||"USD",valueDate:i.valueDate||i.receivedAt||new Date().toISOString(),payerName:i.payerName||"Unknown",bankRef:i.bankRef||"",memo:i.memo||"",sourceMailbox:i.sourceMailbox||"gmail",messageId:i.messageId||"",receivedAt:i.receivedAt||new Date().toISOString(),status:"Unmatched",confidence:.5,matchedInvoiceId:void 0,matchedAmount:void 0,suggestions:[]},u=this.invoices.filter(m=>m.status!=="Paid").map(m=>({invoiceId:m.id,reason:Math.abs(m.outstanding-o.amount)<1?"Exact amount match":"Amount proximity",confidence:Math.abs(m.outstanding-o.amount)<1?.9:.6})).filter(m=>m.confidence>=.6).slice(0,3);o.suggestions=u,this.bankCredits.unshift(o),n++}return{success:!0,data:{count:n}}}catch(t){return{success:!1,message:t?.message||"Failed to ingest Gmail bank credits",data:{count:0}}}}async ingestReceiptsFromGmail(){try{const t=await fetch(`${tt}/api/gmail/receipts`,{headers:{"x-user-id":localStorage.getItem("userId")||""}});if(!t.ok)throw new Error(await t.text());const r=await t.json();let n=0;try{if(this.invoices.length===0){const i=await fetch(`${tt}/invoices`,{headers:{"content-type":"application/json"}});if(i.ok){const o=await i.json();Array.isArray(o)&&(this.invoices=o)}}}catch{}for(const i of r){if(this.paymentReceipts.find(c=>c.messageId===i.messageId&&c.fileKey===i.fileKey))continue;const o={id:String(i.id||`rcpt-${Date.now()}-${Math.random()}`),paymentRequestId:i.paymentRequestId||void 0,invoiceId:i.invoiceId||void 0,projectId:i.projectId||"unknown",phaseId:i.phaseId||"unknown",projectName:i.projectName||"Unknown Project",phaseName:i.phaseName||"Unknown Phase",source:"email",fileKey:i.fileKey||void 0,fileName:i.fileName||void 0,fileType:i.fileType||void 0,fileSize:i.fileSize||void 0,amount:typeof i.amount=="number"?i.amount:void 0,paidDate:i.paidDate||void 0,transactionRef:i.transactionRef||void 0,payerName:i.payerName||void 0,payerEmail:i.payerEmail||void 0,status:"Submitted",confidence:i.confidence||(i.invoiceId?.9:.6),matchedInvoiceId:i.invoiceId||void 0,matchedAmount:i.invoiceId&&typeof i.amount=="number"?i.amount:void 0,flags:Array.isArray(i.flags)?i.flags:[],senderEmail:i.senderEmail||void 0,messageId:i.messageId||void 0,gmailThreadId:i.gmailThreadId||void 0,receivedAt:i.receivedAt||new Date().toISOString()};if(!o.matchedInvoiceId&&o.fileName){const c=o.fileName.match(/INV[-_ ]?\d{4}[-_ ]?\d{3,}/i),u=c?c[0].replace(/[_ ]/g,"-").toUpperCase():null;if(u){const m=this.invoices.find(f=>f.invoiceNo===u);m&&(o.matchedInvoiceId=m.id,o.invoiceId=m.id,o.projectId=m.projectId,o.phaseId=m.phaseId,o.projectName=m.projectName,o.phaseName=m.phaseName,o.confidence=Math.max(o.confidence||.6,.85))}}this.paymentReceipts.unshift(o),n++}return{success:!0,data:{count:n}}}catch(t){return{success:!1,message:t?.message||"Failed to ingest Gmail receipts",data:{count:0}}}}async getReceipts(t={}){try{let r=null,n=!1;try{const o=await fetch(`${tt}/api/receipts`,{headers:{"x-user-id":localStorage.getItem("userId")||""}});o.ok&&(r=await o.json(),n=!0)}catch{}if(!n||!Array.isArray(r)||r.length===0){const o=await fetch(`${tt}/api/gmail/receipts`,{headers:{"x-user-id":localStorage.getItem("userId")||""}});if(!o.ok)throw new Error(await o.text());r=await o.json()}let i=(r||[]).map(o=>({id:String(o.id||o.messageId||`rcpt-${Math.random()}`),paymentRequestId:o.paymentRequestId,invoiceId:o.invoiceId,matchedInvoiceNo:o.matchedInvoiceNo||o.invoiceNo,receiptCode:o.receiptCode,projectId:o.projectId||"unknown",phaseId:o.phaseId||"unknown",projectName:o.projectName||"",phaseName:o.phaseName||"",source:"email",fileKey:o.fileKey,fileName:o.fileName,fileType:o.fileType,fileSize:o.fileSize,amount:typeof o.amount=="number"?o.amount:void 0,paidDate:o.paidDate,transactionRef:o.transactionRef,payerName:o.payerName,payerEmail:o.payerEmail||o.senderEmail,status:o.status||"Submitted",confidence:o.confidence,matchedInvoiceId:o.matchedInvoiceId,matchedAmount:o.matchedAmount,flags:o.flags||[],senderEmail:o.senderEmail,messageId:o.messageId,gmailThreadId:o.gmailThreadId,receivedAt:o.receivedAt||new Date().toISOString()}));return t.status&&t.status.length>0&&(i=i.filter(o=>t.status.includes(o.status))),t.unmatchedOnly&&(i=i.filter(o=>!o.matchedInvoiceId)),t.hasAmount&&(i=i.filter(o=>(o.amount||0)>0)),t.projectId&&(i=i.filter(o=>o.projectId===t.projectId)),t.phaseId&&(i=i.filter(o=>o.phaseId===t.phaseId)),t.flags&&t.flags.length>0&&(i=i.filter(o=>o.flags&&t.flags.some(c=>o.flags.includes(c)))),typeof t.confidenceThreshold=="number"&&(i=i.filter(o=>(o.confidence||0)>=t.confidenceThreshold)),{success:!0,data:{data:i,total:i.length,page:1,limit:100,hasMore:!1}}}catch(r){return{success:!1,message:r?.message||"Failed to load receipts",data:{data:[],total:0,page:1,limit:50,hasMore:!1}}}}async verifyReceipt(t){try{const r=await fetch(`${tt}/api/receipts/${t.receiptId}/verify`,{method:"POST",headers:{"content-type":"application/json","x-user-id":localStorage.getItem("userId")||""},body:JSON.stringify({reviewNote:t.reviewNote||""})});if(!r.ok)throw new Error(await r.text());return{success:!0,data:await r.json()}}catch(r){return{success:!1,message:r?.message||"Failed to verify receipt",data:{}}}}async rejectReceipt(t){try{const r=await fetch(`${tt}/api/receipts/${t.receiptId}/reject`,{method:"POST",headers:{"content-type":"application/json","x-user-id":localStorage.getItem("userId")||""},body:JSON.stringify({reason:t.reason,reviewNote:t.reviewNote})});if(!r.ok)throw new Error(await r.text());return{success:!0,data:await r.json()}}catch(r){return{success:!1,message:r?.message||"Failed to reject receipt",data:{}}}}async createMatch(t){const r=this.invoices.find(i=>i.id===t.invoiceId);if(!r)return{data:{},success:!1,message:"Invoice not found"};if(t.amount>r.outstanding)return{data:{},success:!1,message:"Match amount exceeds invoice outstanding balance"};const n={id:`match-${Date.now()}`,invoiceId:t.invoiceId,receiptId:t.receiptId,bankCreditId:t.bankCreditId,amount:t.amount,matchedAt:new Date().toISOString(),matchedBy:"current-user@company.com",type:t.receiptId?"receipt":"bank_credit"};if(this.paymentMatches.push(n),r.collected+=t.amount,r.outstanding-=t.amount,r.outstanding===0?r.status="Paid":r.collected>0&&(r.status="PartiallyPaid"),r.updatedAt=new Date().toISOString(),t.receiptId){const i=this.paymentReceipts.find(o=>o.id===t.receiptId);i&&(i.matchedInvoiceId=t.invoiceId,i.matchedAmount=t.amount)}if(t.bankCreditId){const i=this.bankCredits.find(o=>o.id===t.bankCreditId);i&&(i.matchedInvoiceId=t.invoiceId,i.matchedAmount=t.amount,i.status="Matched")}return{data:n,success:!0}}async getReceiptFile(t){const r=this.paymentReceipts.find(n=>n.id===t);return!r||!r.fileKey?{data:{url:""},success:!1,message:"File not found"}:{data:{url:`https://storage.example.com/${r.fileKey}`},success:!0}}async getBankCredits(t={}){try{let r=null,n=!1;try{const o=await fetch(`${tt}/api/bank-credits`,{headers:{"x-user-id":localStorage.getItem("userId")||""}});o.ok&&(r=await o.json(),n=!0)}catch{}if(!n||!Array.isArray(r)||r.length===0){const o=await fetch(`${tt}/api/gmail/bank-credits`,{headers:{"x-user-id":localStorage.getItem("userId")||""}});if(!o.ok)throw new Error(await o.text());r=await o.json()}let i=(r||[]).map(o=>({id:String(o.id||o.messageId||`bc-${Math.random()}`),amount:Number(o.amount)||0,currency:o.currency||"USD",valueDate:o.valueDate||o.receivedAt||new Date().toISOString(),payerName:o.payerName,bankRef:o.bankRef,memo:o.memo,sourceMailbox:o.sourceMailbox||"gmail",messageId:o.messageId||"",receivedAt:o.receivedAt||new Date().toISOString(),matchedInvoiceId:o.matchedInvoiceId,matchedAmount:o.matchedAmount,confidence:o.confidence||.5,status:o.status||"Unmatched",suggestions:o.suggestions||[]}));if(t.status&&t.status.length>0&&(i=i.filter(o=>t.status.includes(o.status))),t.unmatchedOnly&&(i=i.filter(o=>o.status==="Unmatched")),t.confidence){const o=t.confidence==="high"?.8:t.confidence==="medium"?.5:0;i=i.filter(c=>(c.confidence||0)>=o)}if(t.dateRange){const o=new Date(t.dateRange.start),c=new Date(t.dateRange.end);i=i.filter(u=>{const m=new Date(u.valueDate);return m>=o&&m<=c})}return{success:!0,data:{data:i,total:i.length,page:1,limit:100,hasMore:!1}}}catch(r){return{success:!1,message:r?.message||"Failed to load bank credits",data:{data:[],total:0,page:1,limit:50,hasMore:!1}}}}async markBankCreditNotOurs(t){try{const r=await fetch(`${tt}/api/bank-credits/${t.id}/not-ours`,{method:"POST",headers:{"x-user-id":localStorage.getItem("userId")||""}});if(!r.ok)throw new Error(await r.text());return{success:!0,data:await r.json()}}catch(r){return{success:!1,message:r?.message||"Failed to mark bank credit",data:{}}}}async getInvoiceSuggestionsForBankCredit(t){await this.delay(200);const r=this.bankCredits.find(i=>i.id===t);return r?{success:!0,data:this.invoices.filter(i=>Math.abs(i.total-r.amount)<100&&i.status!=="Paid"&&i.status!=="Canceled").slice(0,3)}:{success:!1,message:"Bank credit not found",data:[]}}async matchBankCreditToInvoice(t){try{const r=await fetch(`${tt}/api/bank-credits/${t.creditId}/match`,{method:"POST",headers:{"content-type":"application/json","x-user-id":localStorage.getItem("userId")||""},body:JSON.stringify({invoiceId:t.invoiceId,confirm:t.confirm})});if(!r.ok)throw new Error(await r.text());return{success:!0,data:await r.json()}}catch(r){return{success:!1,message:r?.message||"Failed to match bank credit",data:{}}}}async unmatchBankCredit(t){await this.delay(200);const r=this.bankCredits.find(i=>i.id===t);if(!r)return{success:!1,message:"Bank credit not found",data:{}};const n=r.matchedInvoiceId;if(r.matchedInvoiceId=void 0,r.matchedAmount=void 0,r.status="Unmatched",r.confidence=void 0,n){const i=this.invoices.find(o=>o.id===n);i&&(i.collected=Math.max(0,i.collected-r.amount),i.outstanding=i.total-i.collected,i.collected===0?i.status="Sent":i.collected>0&&(i.status="PartiallyPaid"))}return{success:!0,data:r}}async markBankCreditForReview(t){await this.delay(200);const r=this.bankCredits.find(n=>n.id===t);return r?(r.status="NeedsReview",{success:!0,data:r}):{success:!1,message:"Bank credit not found",data:{}}}async archiveUnmatchedEmail(t){await this.delay(200);const r=this.unmatchedEmails.find(n=>n.id===t.id);return r?(r.archived=!0,{success:!0,data:r}):{success:!1,message:"Email not found",data:{}}}async retryProcessingEmail(t){await this.delay(200);const r=this.unmatchedEmails.find(n=>n.id===t);return r?{success:!0,data:r}:{success:!1,message:"Email not found",data:{}}}async pullPaymentSlipFromEmail(t){await this.delay(200);const r=this.paymentReceipts.find(n=>n.id===t);return r?(r.fileKey="https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf",r.fileName=`payment-slip-${t}.pdf`,r.fileType="application/pdf",r.fileSize=Math.floor(Math.random()*5e5)+1e5,{success:!0,data:r}):{success:!1,message:"Receipt not found",data:{}}}async getInvoiceSuggestions(t){try{const r=await fetch(`${tt}/api/receipts/${t}/suggestions`,{headers:{"x-user-id":localStorage.getItem("userId")||""}});if(!r.ok)throw new Error(await r.text());return{success:!0,data:await r.json()}}catch(r){return{success:!1,message:r?.message||"Failed to load suggestions",data:[]}}}async matchReceiptToInvoice(t){try{const r=await fetch(`${tt}/api/receipts/${t.receiptId}/match`,{method:"POST",headers:{"content-type":"application/json","x-user-id":localStorage.getItem("userId")||""},body:JSON.stringify({invoiceId:t.invoiceId,amount:t.amount})});if(!r.ok)throw new Error(await r.text());return{success:!0,data:{id:`match-${Date.now()}`,invoiceId:t.invoiceId,receiptId:t.receiptId,amount:t.amount,matchedAt:new Date().toISOString(),matchedBy:"current-user@company.com",type:"receipt"}}}catch(r){return{success:!1,message:r?.message||"Failed to match receipt",data:{}}}}async unmatchReceipt(t){try{const r=await fetch(`${tt}/api/receipts/${t}/unmatch`,{method:"POST",headers:{"x-user-id":localStorage.getItem("userId")||""}});if(!r.ok)throw new Error(await r.text());return{success:!0,data:await r.json()}}catch(r){return{success:!1,message:r?.message||"Failed to unmatch receipt",data:{}}}}async reextractReceiptAmount(t){try{const r=await fetch(`${tt}/api/receipts/${t}/reextract`,{method:"POST",headers:{"x-user-id":localStorage.getItem("userId")||""}});if(!r.ok)throw new Error(await r.text());return{success:!0,data:await r.json()}}catch(r){return{success:!1,message:r?.message||"Failed to re-extract amount",data:{}}}}async getUnmatchedEmails(t={}){let r=this.unmatchedEmails.filter(n=>!n.archived);return t.type&&t.type.length>0&&(r=r.filter(n=>t.type.includes(n.reason))),t.dateRange&&(r=r.filter(n=>{const i=new Date(n.receivedAt);return i>=new Date(t.dateRange.start)&&i<=new Date(t.dateRange.end)})),{data:{data:r,total:r.length,page:1,limit:50,hasMore:!1},success:!0}}async assignPaymentId(t){const r=this.unmatchedEmails.find(i=>i.id===t.emailId);if(!r)return{data:{},success:!1,message:"Email not found"};const n={id:`receipt-${Date.now()}`,paymentRequestId:t.paymentId,projectId:t.projectId||"unknown",phaseId:t.phaseId||"unknown",projectName:"Unknown Project",phaseName:"Unknown Phase",source:"email",senderEmail:r.senderEmail,messageId:r.messageId,receivedAt:r.receivedAt,status:"Submitted",confidence:.5};return this.paymentReceipts.push(n),r.archived=!0,{data:n,success:!0}}async createInvoice(t){try{const r=await fetch(`${tt}/invoices`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({invoiceNo:t.invoiceNo,projectId:t.projectId,phaseId:t.phaseId,issueDate:t.issueDate,dueDate:t.dueDate,currency:t.currency,subtotal:t.subtotal,taxAmount:t.taxAmount,total:t.total,notes:t.notes||""})});if(!r.ok)throw new Error(await r.text());return{success:!0,data:await r.json()}}catch(r){return{success:!1,message:r?.message||"Failed to create invoice",data:{}}}}async updateInvoice(t,r){try{const n=await fetch(`${tt}/invoices/${t}`,{method:"PATCH",headers:{"content-type":"application/json"},body:JSON.stringify({projectId:r.projectId,phaseId:r.phaseId,issueDate:r.issueDate,dueDate:r.dueDate,currency:r.currency,subtotal:r.subtotal,taxAmount:r.taxAmount,total:r.total,notes:r.notes||""})});if(!n.ok)throw new Error(await n.text());return{success:!0,data:await n.json()}}catch(n){return{success:!1,message:n?.message||"Failed to update invoice",data:{}}}}async deleteInvoice(t){try{const r=await fetch(`${tt}/invoices/${t}`,{method:"DELETE"});if(!r.ok&&r.status!==204)throw new Error(await r.text());return{success:!0,data:void 0}}catch(r){return{success:!1,message:r?.message||"Failed to delete invoice",data:void 0}}}async exportCashIn(t){return{data:{url:`https://exports.example.com/cashin-${t}.csv`},success:!0}}}const kt=new Fae,qae=({invoices:e,filters:t,onFiltersChange:r,onRefresh:n})=>{const[i,o]=x.useState(null),[c,u]=x.useState(!1),[m,f]=x.useState(!1),[g,p]=x.useState(!1),[y,j]=x.useState(null),[k,b]=x.useState(!1),[C,S]=x.useState(null),[N,A]=x.useState(!1),[E,T]=x.useState(null),[P,O]=x.useState(!1),[U,X]=x.useState(null),[ie,W]=x.useState({});x.useEffect(()=>{let Z=!0;return(async()=>{try{const ye=await kt.getReceipts({});if(!ye.success)return;const Me=ye.data.data,ve={};for(const _e of Me){const we=_e.matchedInvoiceId||_e.invoiceId;we&&(ve[we]||(ve[we]={submitted:0,verified:0}),_e.status==="Verified"?ve[we].verified++:ve[we].submitted++)}Z&&W(ve)}catch{}})(),()=>{Z=!1}},[e]);const G=Z=>{const ye=ie[Z.id];return ye&&ye.submitted>0&&!["Paid","PartiallyPaid"].includes(Z.status)?"Received":Z.status},H=Z=>{o(Z),u(!0)},Q=async Z=>{if(!(Z.outstanding>0&&!window.confirm(`Mark invoice ${Z.invoiceNo} as paid? This will set the outstanding balance to $0.`)))try{O(!0);const ye=await kt.markInvoicePaid({invoiceId:Z.id,reason:"Marked as paid by director",confirm:!0});ye.success?(n(),X(null)):X(ye.message||"Failed to mark invoice as paid")}catch{X("Error marking invoice as paid")}finally{O(!1)}},te=Z=>{S(Z),b(!0)},$=Z=>{j(Z),p(!0)},V=async Z=>{if(window.confirm(`Are you sure you want to delete invoice ${Z.invoiceNo}? This action cannot be undone.`))try{O(!0);const Me=await kt.deleteInvoice(Z.id);Me.success?(n(),X(null)):X(Me.message||"Failed to delete invoice")}catch{X("Error deleting invoice")}finally{O(!1)}},re=Z=>{T(Z),A(!0)},K=async(Z,ye)=>{try{O(!0);const Me={...Z,status:ye,updatedAt:new Date().toISOString()},ve=await kt.updateInvoice(Z.id,Me);ve.success?(n(),X(null)):X(ve.message||"Failed to update status")}catch{X("Error updating status")}finally{O(!1)}},J=Z=>{const ye="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium";switch(Z){case"Paid":return`${ye} bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200`;case"PartiallyPaid":return`${ye} bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200`;case"Received":return`${ye} bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200`;case"Overdue":return`${ye} bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200`;case"Sent":return`${ye} bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200`;case"Draft":return`${ye} bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200`;case"Canceled":return`${ye} bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200`;default:return`${ye} bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200`}},I=Z=>new Date(Z)<new Date&&!e.find(ye=>ye.dueDate===Z)?.status.includes("Paid"),L=(Z,ye="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:ye}).format(Z),me=Z=>new Date(Z).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return e.length===0?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"text-center py-12",children:[a.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No invoices found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:t.overdueOnly?"No overdue invoices this week.":"No invoices issued this week."}),a.jsxs("div",{className:"mt-6 flex items-center justify-center gap-3",children:[a.jsx("button",{onClick:()=>f(!0),className:"btn-primary",children:"Create Invoice"}),t.overdueOnly&&a.jsx("button",{onClick:()=>r({...t,overdueOnly:!1}),className:"text-sm text-primary-600 hover:text-primary-500",children:"View all invoices"})]})]}),m&&a.jsx(fD,{onClose:()=>f(!1),onRefresh:n})]}):a.jsxs("div",{className:"space-y-4",children:[U&&a.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:"Error"}),a.jsx("div",{className:"mt-2 text-sm text-red-700 dark:text-red-300",children:U})]}),a.jsx("div",{className:"ml-auto pl-3",children:a.jsx("button",{onClick:()=>X(null),className:"text-red-400 hover:text-red-600",children:a.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})})]})}),a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Invoices"}),a.jsxs("button",{onClick:()=>f(!0),className:"btn-primary flex items-center space-x-2",children:[a.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),a.jsx("span",{children:"Create Invoice"})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Status:"}),a.jsxs("select",{value:t.status?.[0]||"all",onChange:Z=>{const ye=Z.target.value==="all"?void 0:[Z.target.value];r({...t,status:ye})},className:"text-sm border border-gray-300 dark:border-gray-600 rounded-md px-3 py-1 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"Draft",children:"Draft"}),a.jsx("option",{value:"Sent",children:"Sent"}),a.jsx("option",{value:"PartiallyPaid",children:"Partially Paid"}),a.jsx("option",{value:"Paid",children:"Paid"}),a.jsx("option",{value:"Overdue",children:"Overdue"}),a.jsx("option",{value:"Canceled",children:"Canceled"})]})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:t.overdueOnly||!1,onChange:Z=>r({...t,overdueOnly:Z.target.checked}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Overdue only"})]})}),(t.status||t.overdueOnly)&&a.jsx("button",{onClick:()=>r({}),className:"text-sm text-primary-600 hover:text-primary-500",children:"Clear filters"})]}),a.jsx("div",{className:"overflow-x-auto shadow ring-1 ring-black ring-opacity-5 md:rounded-lg",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-300 dark:divide-gray-700",style:{minWidth:"1250px"},children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider w-32",children:"Invoice No"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider w-48",children:"Project  Phase"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider w-28",children:"Issue Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider w-28",children:"Due Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider w-20",children:"Comments"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider w-24",children:"Total"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider w-24",children:"Collected"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider w-32",children:"Outstanding"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider w-32",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider w-24",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700",children:e.map(Z=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("button",{onClick:()=>H(Z),className:"text-sm font-medium text-primary-600 hover:text-primary-500",children:Z.invoiceNo})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:[a.jsx("div",{children:Z.projectName}),a.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:Z.phaseName})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:me(Z.issueDate)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:a.jsxs("div",{className:"flex items-center",children:[me(Z.dueDate),I(Z.dueDate)&&a.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",children:"Overdue"})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:a.jsx("div",{className:"flex items-center justify-center",children:Z.notes?a.jsxs("div",{className:"relative group",children:[a.jsx("button",{onClick:()=>re(Z.notes||""),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",title:Z.notes,children:a.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),a.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 dark:bg-gray-700 text-white text-sm rounded-lg shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none z-10 max-w-xs",children:[a.jsx("div",{className:"whitespace-pre-wrap break-words",children:Z.notes}),a.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900 dark:border-t-gray-700"})]})]}):a.jsx("span",{className:"text-gray-300 dark:text-gray-600",children:"-"})})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:L(Z.total,Z.currency)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:L(Z.collected,Z.currency)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:L(Z.outstanding,Z.currency)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Z.status==="Draft"?a.jsxs("select",{value:Z.status,onChange:ye=>K(Z,ye.target.value),disabled:P,className:"border border-gray-300 dark:border-gray-600 rounded-md px-2 py-1 bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-xs disabled:opacity-50",children:[a.jsx("option",{value:"Draft",children:"Draft"}),a.jsx("option",{value:"Sent",children:"Sent"}),a.jsx("option",{value:"Paid",children:"Paid"}),a.jsx("option",{value:"Overdue",children:"Overdue"})]}):a.jsx("span",{className:J(G(Z)),children:G(Z)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[a.jsx("button",{onClick:()=>H(Z),className:"text-primary-600 hover:text-primary-500",title:"View Details",children:a.jsxs("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),Z.status==="Draft"&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>$(Z),className:"text-yellow-600 hover:text-yellow-500",title:"Edit Invoice",children:a.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),a.jsx("button",{onClick:()=>te(Z),disabled:P,className:"text-blue-600 hover:text-blue-500 disabled:opacity-50",title:"Send Invoice",children:a.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),a.jsx("button",{onClick:()=>V(Z),disabled:P,className:"text-red-600 hover:text-red-500 disabled:opacity-50",title:"Delete Invoice",children:a.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),Z.outstanding===0&&Z.status!=="Paid"&&Z.status!=="Draft"&&a.jsx("button",{onClick:()=>Q(Z),disabled:P,className:"text-green-600 hover:text-green-500 disabled:opacity-50",title:"Mark as Paid",children:a.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),Z.status!=="Draft"&&a.jsx("button",{onClick:()=>te(Z),disabled:P,className:"text-blue-600 hover:text-blue-500 disabled:opacity-50",title:"Send Invoice",children:a.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})})]})})]},Z.id))})]})}),c&&i&&a.jsx(Wae,{invoice:i,onClose:()=>{u(!1),o(null)},onRefresh:n,onStatusChange:K,loading:P}),m&&a.jsx(fD,{onClose:()=>f(!1),onRefresh:n}),k&&C&&a.jsx(oM,{invoice:C,onClose:()=>{b(!1),S(null)},onSent:()=>{b(!1),S(null),n()}}),g&&y&&a.jsx(Vae,{invoice:y,onClose:()=>{p(!1),j(null)},onRefresh:n}),N&&E&&a.jsx(Yae,{comment:E,onClose:()=>{A(!1),T(null)}})]})},Wae=({invoice:e,onClose:t,onRefresh:r,onStatusChange:n,loading:i})=>{const[o,c]=x.useState(null),u=async()=>{if(!(e.outstanding>0&&!window.confirm(`Mark invoice ${e.invoiceNo} as paid? This will set the outstanding balance to $0.`)))try{const j=await kt.markInvoicePaid({invoiceId:e.id,reason:"Marked as paid from drawer",confirm:!0});j.success?(r(),t(),c(null)):c(j.message||"Failed to mark invoice as paid")}catch{c("Error marking invoice as paid")}},[m,f]=x.useState(!1),g=(j,k="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:k}).format(j),p=j=>new Date(j).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),y=j=>{const k="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium";switch(j){case"Paid":return`${k} bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200`;case"PartiallyPaid":return`${k} bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200`;case"Overdue":return`${k} bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200`;case"Sent":return`${k} bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200`;case"Draft":return`${k} bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200`;case"Canceled":return`${k} bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200`;default:return`${k} bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200`}};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.invoiceNo}),a.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[e.status==="Draft"?a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Status:"}),a.jsxs("select",{value:e.status,onChange:j=>n(e,j.target.value),disabled:i,className:"border border-gray-300 dark:border-gray-600 rounded-md px-3 py-1 bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm disabled:opacity-50",children:[a.jsx("option",{value:"Draft",children:"Draft"}),a.jsx("option",{value:"Sent",children:"Sent"}),a.jsx("option",{value:"Paid",children:"Paid"}),a.jsx("option",{value:"Overdue",children:"Overdue"})]})]}):a.jsx("span",{className:y(e.status),children:e.status}),a.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Issued: ",p(e.issueDate)]}),a.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Due: ",p(e.dueDate)]}),a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.currency})]})]}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:a.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),a.jsxs("div",{className:"p-6 space-y-6",children:[o&&a.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md p-4",children:a.jsx("div",{className:"text-sm text-red-700 dark:text-red-300",children:o})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Project Information"}),a.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Project"}),a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:e.projectName})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Phase"}),a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:e.phaseName})]})]})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Financial Summary"}),a.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Subtotal"}),a.jsx("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:g(e.subtotal,e.currency)})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Tax"}),a.jsx("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:g(e.taxAmount,e.currency)})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total"}),a.jsx("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:g(e.total,e.currency)})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Outstanding"}),a.jsx("div",{className:`text-lg font-semibold ${e.outstanding>0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:g(e.outstanding,e.currency)})]})]})})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Payment Progress"}),a.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[Math.round(e.collected/e.total*100),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3",children:a.jsx("div",{className:"bg-primary-600 h-3 rounded-full transition-all duration-300",style:{width:`${Math.min(100,e.collected/e.total*100)}%`}})}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mt-1",children:[a.jsxs("span",{children:["Collected: ",g(e.collected,e.currency)]}),a.jsxs("span",{children:["Total: ",g(e.total,e.currency)]})]})]}),e.notes&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Notes"}),a.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:a.jsx("p",{className:"text-gray-900 dark:text-white",children:e.notes})})]})]}),a.jsx("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[a.jsx("button",{onClick:t,className:"btn-secondary",children:"Close"}),e.outstanding===0&&e.status!=="Paid"&&a.jsx("button",{onClick:u,disabled:i,className:"btn-primary",children:i?"Processing...":"Mark as Paid"}),a.jsx("button",{onClick:()=>f(!0),disabled:i,className:"btn-primary",children:i?"Sending...":"Send Invoice"})]})}),m&&a.jsx(oM,{invoice:e,onClose:()=>f(!1),onSent:()=>{f(!1),r()}})]})})},fD=({onClose:e,onRefresh:t})=>{const[r,n]=x.useState(!1),[i,o]=x.useState(null),[c,u]=x.useState({projectId:"",phaseId:"",issueDate:new Date().toISOString().split("T")[0],dueDate:new Date(Date.now()+336*60*60*1e3).toISOString().split("T")[0],currency:"USD",subtotal:0,taxRate:10,taxAmount:0,total:0,notes:""}),[m,f]=ht.useState([]);ht.useEffect(()=>{(async()=>{try{const b=(await Yb()).map(C=>({id:C.id,name:C.name,phases:C.phases.map(S=>({id:S.id,name:S.name,completed:!1,allocatedHours:0}))}));f(b)}catch{f([])}})()},[]);const g=m.find(k=>k.id===c.projectId),p=g?.phases.find(k=>k.id===c.phaseId),y=(k,b)=>{u(C=>{const S={...C,[k]:b};if(k==="subtotal"||k==="taxRate"){const N=k==="subtotal"?parseFloat(b)||0:S.subtotal,A=k==="taxRate"?parseFloat(b)||0:S.taxRate,E=N*A/100,T=N+E;S.taxAmount=E,S.total=T}return S})},j=async k=>{if(k.preventDefault(),!c.projectId||!c.phaseId){o("Please select both project and phase");return}try{n(!0),o(null);const b=`INV-${new Date().getFullYear()}-${String(Date.now()).slice(-3)}`,C={id:`inv-${Date.now()}`,invoiceNo:b,projectId:c.projectId,phaseId:c.phaseId,projectName:g?.name||"",phaseName:p?.name||"",issueDate:c.issueDate,dueDate:c.dueDate,currency:c.currency,subtotal:c.subtotal,taxAmount:c.taxAmount,total:c.total,collected:0,outstanding:c.total,status:"Draft",notes:c.notes,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},S=await kt.createInvoice(C);if(!S.success)throw new Error(S.message||"Failed to create invoice");t(),e()}catch{o("Failed to create invoice")}finally{n(!1)}};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Create New Invoice"}),a.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:a.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),a.jsxs("form",{onSubmit:j,className:"p-6 space-y-6",children:[i&&a.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md p-4",children:a.jsx("div",{className:"text-sm text-red-700 dark:text-red-300",children:i})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Project *"}),a.jsxs("select",{value:c.projectId,onChange:k=>{y("projectId",k.target.value),y("phaseId","")},className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",required:!0,children:[a.jsx("option",{value:"",children:"Select Project"}),m.map(k=>a.jsx("option",{value:k.id,children:k.name},k.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phase *"}),a.jsxs("select",{value:c.phaseId,onChange:k=>y("phaseId",k.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",required:!0,disabled:!c.projectId,children:[a.jsx("option",{value:"",children:"Select Phase"}),g?.phases.map(k=>a.jsxs("option",{value:k.id,children:[k.name," ",k.completed?"":""," (",k.allocatedHours,"h)"]},k.id))]}),p&&a.jsxs("div",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:["Phase ID: ",p.id," | Status: ",p.completed?"Completed":"In Progress"," | Allocated: ",p.allocatedHours,"h"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Issue Date *"}),a.jsx("input",{type:"date",value:c.issueDate,onChange:k=>y("issueDate",k.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Due Date *"}),a.jsx("input",{type:"date",value:c.dueDate,onChange:k=>y("dueDate",k.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",required:!0})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Currency"}),a.jsxs("select",{value:c.currency,onChange:k=>y("currency",k.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"USD",children:"USD"}),a.jsx("option",{value:"EUR",children:"EUR"}),a.jsx("option",{value:"GBP",children:"GBP"}),a.jsx("option",{value:"CAD",children:"CAD"}),a.jsx("option",{value:"LKR",children:"LKR"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Subtotal *"}),a.jsx("input",{type:"number",step:"0.01",min:"0",value:c.subtotal,onChange:k=>y("subtotal",parseFloat(k.target.value)||0),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tax Rate (%)"}),a.jsx("input",{type:"number",step:"0.01",min:"0",max:"100",value:c.taxRate,onChange:k=>y("taxRate",parseFloat(k.target.value)||0),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),a.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Subtotal"}),a.jsxs("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[c.currency," ",c.subtotal.toFixed(2)]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Tax Amount"}),a.jsxs("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[c.currency," ",c.taxAmount.toFixed(2)]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total"}),a.jsxs("div",{className:"text-xl font-bold text-primary-600 dark:text-primary-400",children:[c.currency," ",c.total.toFixed(2)]})]})]})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Notes"}),a.jsx("textarea",{value:c.notes,onChange:k=>y("notes",k.target.value),rows:3,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Additional notes for this invoice..."})]}),a.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[a.jsx("button",{type:"button",onClick:e,className:"btn-secondary",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:r,className:"btn-primary",children:r?"Creating...":"Create Invoice"})]})]})]})})},Vae=({invoice:e,onClose:t,onRefresh:r})=>{const[n,i]=x.useState(!1),[o,c]=x.useState(null),[u,m]=x.useState({projectId:e.projectId,phaseId:e.phaseId,issueDate:e.issueDate,dueDate:e.dueDate,currency:e.currency,subtotal:e.subtotal,taxRate:e.taxAmount>0?e.taxAmount/e.subtotal*100:10,taxAmount:e.taxAmount,total:e.total,notes:e.notes||""}),[f,g]=x.useState([]);x.useEffect(()=>{(async()=>{try{const C=(await Yb()).map(S=>({id:S.id,name:S.name,phases:S.phases.map(N=>({id:N.id,name:N.name,completed:!1,allocatedHours:0}))}));g(C)}catch{g([])}})()},[]);const p=f.find(b=>b.id===u.projectId),y=p?.phases.find(b=>b.id===u.phaseId),j=(b,C)=>{m(S=>{const N={...S,[b]:C};if(b==="subtotal"||b==="taxRate"){const A=b==="subtotal"?parseFloat(C)||0:N.subtotal,E=b==="taxRate"?parseFloat(C)||0:N.taxRate,T=A*E/100,P=A+T;N.taxAmount=T,N.total=P}return N})},k=async b=>{if(b.preventDefault(),!u.projectId||!u.phaseId){c("Please select both project and phase");return}try{i(!0),c(null);const C={...e,projectId:u.projectId,phaseId:u.phaseId,projectName:p?.name||e.projectName,phaseName:y?.name||e.phaseName,issueDate:u.issueDate,dueDate:u.dueDate,currency:u.currency,subtotal:u.subtotal,taxAmount:u.taxAmount,total:u.total,outstanding:u.total-e.collected,notes:u.notes,updatedAt:new Date().toISOString()},S=await kt.updateInvoice(e.id,C);if(!S.success)throw new Error(S.message||"Failed to update invoice");r(),t()}catch{c("Failed to update invoice")}finally{i(!1)}};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["Edit Invoice ",e.invoiceNo]}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:a.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),a.jsxs("form",{onSubmit:k,className:"p-6 space-y-6",children:[o&&a.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md p-4",children:a.jsx("div",{className:"text-sm text-red-700 dark:text-red-300",children:o})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Project *"}),a.jsxs("select",{value:u.projectId,onChange:b=>{j("projectId",b.target.value),j("phaseId","")},className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",required:!0,children:[a.jsx("option",{value:"",children:"Select Project"}),f.map(b=>a.jsx("option",{value:b.id,children:b.name},b.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phase *"}),a.jsxs("select",{value:u.phaseId,onChange:b=>j("phaseId",b.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",required:!0,disabled:!u.projectId,children:[a.jsx("option",{value:"",children:"Select Phase"}),p?.phases.map(b=>a.jsxs("option",{value:b.id,children:[b.name," ",b.completed?"":""," (",b.allocatedHours,"h)"]},b.id))]}),y&&a.jsxs("div",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:["Phase ID: ",y.id," | Status: ",y.completed?"Completed":"In Progress"," | Allocated: ",y.allocatedHours,"h"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Issue Date *"}),a.jsx("input",{type:"date",value:u.issueDate,onChange:b=>j("issueDate",b.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Due Date *"}),a.jsx("input",{type:"date",value:u.dueDate,onChange:b=>j("dueDate",b.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",required:!0})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Currency"}),a.jsxs("select",{value:u.currency,onChange:b=>j("currency",b.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"USD",children:"USD"}),a.jsx("option",{value:"EUR",children:"EUR"}),a.jsx("option",{value:"GBP",children:"GBP"}),a.jsx("option",{value:"CAD",children:"CAD"}),a.jsx("option",{value:"LKR",children:"LKR"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Subtotal *"}),a.jsx("input",{type:"number",step:"0.01",min:"0",value:u.subtotal,onChange:b=>j("subtotal",parseFloat(b.target.value)||0),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tax Rate (%)"}),a.jsx("input",{type:"number",step:"0.01",min:"0",max:"100",value:u.taxRate,onChange:b=>j("taxRate",parseFloat(b.target.value)||0),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),a.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Subtotal"}),a.jsxs("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[u.currency," ",u.subtotal.toFixed(2)]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Tax Amount"}),a.jsxs("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[u.currency," ",u.taxAmount.toFixed(2)]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total"}),a.jsxs("div",{className:"text-xl font-bold text-primary-600 dark:text-primary-400",children:[u.currency," ",u.total.toFixed(2)]})]})]})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Notes"}),a.jsx("textarea",{value:u.notes,onChange:b=>j("notes",b.target.value),rows:3,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Additional notes for this invoice..."})]}),a.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[a.jsx("button",{type:"button",onClick:t,className:"btn-secondary",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:n,className:"btn-primary",children:n?"Updating...":"Update Invoice"})]})]})]})})},Yae=({comment:e,onClose:t})=>a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl w-full max-w-md",children:[a.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center",children:[a.jsx("svg",{className:"h-5 w-5 mr-2 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),"Invoice Comment"]}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:a.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:a.jsx("div",{className:"text-sm text-gray-700 dark:text-gray-300 whitespace-pre-wrap break-words",children:e})})}),a.jsx("div",{className:"flex items-center justify-end p-6 border-t border-gray-200 dark:border-gray-700",children:a.jsx("button",{onClick:t,className:"btn-primary",children:"Close"})})]})}),oM=({invoice:e,onClose:t,onSent:r})=>{const[n,i]=x.useState(""),[o,c]=x.useState(!1),[u,m]=x.useState(null);x.useEffect(()=>{(async()=>{try{const g=await Tt(`/projects/${e.projectId}`),p=g?.owner?.email||(Array.isArray(g?.memberships)?g.memberships.find(y=>y?.user?.email)?.user?.email:"");i(String(p||""))}catch{i("")}})()},[e.projectId]);const f=async g=>{if(g.preventDefault(),!n||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)){m("Please enter a valid email");return}c(!0),m(null);try{const p=await kt.sendInvoice(e.id,n);if(!p.success)throw new Error(p.message||"Failed to send invoice");r()}catch(p){m(p?.message||"Failed to send invoice")}finally{c(!1)}};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl w-full max-w-md overflow-hidden",children:[a.jsxs("div",{className:"p-5 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Send Invoice"}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:""})]}),a.jsxs("form",{onSubmit:f,className:"p-5 space-y-4",children:[u&&a.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md p-3 text-sm text-red-700 dark:text-red-300",children:u}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Recipient Email"}),a.jsx("input",{type:"email",value:n,onChange:g=>i(g.target.value),placeholder:"client@example.com",className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",required:!0}),a.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Well send from your connected Gmail account."})]}),a.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-2",children:[a.jsx("button",{type:"button",onClick:t,className:"btn-secondary",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:o,className:"btn-primary",children:o?"Sending":"Send"})]})]})]})})};async function Kae(){const e=await fetch(`${tt}/api/gmail/status`,{headers:{"x-user-id":localStorage.getItem("userId")||""}});return e.ok?e.json():{connected:!1}}async function Gae(){const e=await fetch(`${tt}/api/gmail/google/session`,{method:"POST",headers:{"content-type":"application/json","x-user-id":localStorage.getItem("userId")||""}});if(!e.ok)throw new Error(await e.text());return(await e.json())?.redirectUrl}const Xae=({receipts:e,filters:t,onFiltersChange:r,onRefresh:n})=>{const[i,o]=x.useState(null),[c,u]=x.useState(!1),[m,f]=x.useState(!1),[g,p]=x.useState(null),[y,j]=x.useState([]),[k,b]=x.useState(null),[C,S]=x.useState(null),[N,A]=x.useState(()=>{try{const J=localStorage.getItem("verifiedReceipts")||"[]",I=JSON.parse(J);return new Set(Array.isArray(I)?I:[])}catch{return new Set}}),E=J=>{try{const I=new Set(N);I.add(J),A(I),localStorage.setItem("verifiedReceipts",JSON.stringify(Array.from(I)))}catch{}},T=J=>N.has(J.id)?"Verified":J.status,P=J=>{if(!J)return null;if(/^https?:\/\//i.test(J))return J;const I=J.startsWith("/")?J:`/${J}`;return`${tt}${I}`},O=async J=>{if(o(J),u(!0),!J.matchedInvoiceId)try{const I=await kt.getInvoiceSuggestions(J.id);I.success&&j(I.data)}catch(I){console.error("Error loading invoice suggestions:",I)}},U=async(J,I)=>{try{f(!0);const me=e.find(ye=>ye.id===J)?.amount||0,Z=await kt.matchReceiptToInvoice({receiptId:J,invoiceId:I,amount:me});Z.success?(p(null),u(!1),o(null),n?.()):p(Z.message||"Failed to match receipt to invoice")}catch{p("Error matching receipt to invoice")}finally{f(!1)}},X=async J=>{try{f(!0);const I=await kt.unmatchReceipt(J);if(I.success){if(p(null),i){const L=await kt.getInvoiceSuggestions(i.id);L.success&&j(L.data)}n?.()}else p(I.message||"Failed to unmatch receipt")}catch{p("Error unmatching receipt")}finally{f(!1)}},ie=async J=>{try{f(!0);const I=await kt.verifyReceipt({receiptId:J});I.success?(p(null),E(J),n?.()):p(I.message||"Failed to verify receipt")}catch{p("Error verifying receipt")}finally{f(!1)}},W=async J=>{try{f(!0),p(null);const I=await kt.pullPaymentSlipFromEmail(J.id);I.success?alert(`Payment slip successfully pulled from email for receipt ${J.id}`):p(I.message||"Failed to pull payment slip from email")}catch{p("Error pulling payment slip from email")}finally{f(!1)}},G=async J=>{const I=prompt("Please provide a reason for rejection:");if(I)try{f(!0);const L=await kt.rejectReceipt({receiptId:J,reason:I});L.success?p(null):p(L.message||"Failed to reject receipt")}catch{p("Error rejecting receipt")}finally{f(!1)}},H=J=>{const I="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium";switch(J){case"Verified":return`${I} bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200`;case"Submitted":return`${I} bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200`;case"Rejected":return`${I} bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200`;default:return`${I} bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200`}},Q=J=>{const I="inline-flex items-center px-2 py-1 rounded text-xs font-medium";switch(J){case"email":return`${I} bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200`;case"bank_email":return`${I} bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200`;case"attestation":return`${I} bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200`;default:return`${I} bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200`}},te=(J,I="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:I}).format(J),$=J=>new Date(J).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),V=J=>{if(!J.fileKey)return;const I=P(J.fileKey),L=(J.fileType||"").toLowerCase(),me=(J.fileName||"").toLowerCase(),Z=L.startsWith("image/")||/\.(png|jpe?g|gif|webp|bmp|svg)$/i.test(me);if(L.includes("pdf")||me.endsWith(".pdf")){I&&window.open(I,"_blank","noopener,noreferrer");return}S(Z?"image/*":L||null),b(I)},re=()=>{b(null),S(null)},K=J=>{const I=J;if(I.receiptCode)return I.receiptCode;if(J.fileName&&J.fileName.length<=28)return J.fileName;const L=J.messageId||J.id;return L?L.length<=14?L:`${L.slice(0,6)}${L.slice(-6)}`:""};return e.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No receipts found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:t.unmatchedOnly?"No unmatched receipts.":"No payment receipts received."}),t.unmatchedOnly&&a.jsx("button",{onClick:()=>r({...t,unmatchedOnly:!1}),className:"mt-3 text-sm text-primary-600 hover:text-primary-500",children:"View all receipts"})]}):a.jsxs("div",{className:"space-y-4",children:[g&&a.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:"Error"}),a.jsx("div",{className:"mt-2 text-sm text-red-700 dark:text-red-300",children:g})]}),a.jsx("div",{className:"ml-auto pl-3",children:a.jsx("button",{onClick:()=>p(null),className:"text-red-400 hover:text-red-600",children:a.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})})]})}),a.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Status:"}),a.jsxs("select",{value:t.status?.[0]||"all",onChange:J=>{const I=J.target.value==="all"?void 0:[J.target.value];r({...t,status:I})},className:"text-sm border border-gray-300 dark:border-gray-600 rounded-md px-3 py-1 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"Submitted",children:"Submitted"}),a.jsx("option",{value:"Verified",children:"Verified"}),a.jsx("option",{value:"Rejected",children:"Rejected"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Source:"}),a.jsxs("select",{value:t.source?.[0]||"all",onChange:J=>{const I=J.target.value==="all"?void 0:[J.target.value];r({...t,source:I})},className:"text-sm border border-gray-300 dark:border-gray-600 rounded-md px-3 py-1 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Sources"}),a.jsx("option",{value:"email",children:"Email"}),a.jsx("option",{value:"bank_email",children:"Bank Email"}),a.jsx("option",{value:"attestation",children:"Attestation"})]})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:t.unmatchedOnly||!1,onChange:J=>r({...t,unmatchedOnly:J.target.checked}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Unmatched only"})]})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Confidence:"}),a.jsxs("select",{value:t.confidenceThreshold||"all",onChange:J=>{const I=J.target.value==="all"?void 0:parseFloat(J.target.value);r({...t,confidenceThreshold:I})},className:"text-sm border border-gray-300 dark:border-gray-600 rounded-md px-3 py-1 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Confidence"}),a.jsx("option",{value:"0.9",children:"High (90%+)"}),a.jsx("option",{value:"0.7",children:"Medium (70%+)"}),a.jsx("option",{value:"0.5",children:"Low (50%+)"})]})]}),(t.status||t.source||t.unmatchedOnly||t.confidenceThreshold)&&a.jsx("button",{onClick:()=>r({}),className:"text-sm text-primary-600 hover:text-primary-500",children:"Clear filters"})]}),a.jsx("div",{className:"overflow-x-auto shadow ring-1 ring-black ring-opacity-5 md:rounded-lg",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-300 dark:divide-gray-700",style:{minWidth:"1450px"},children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Receipt ID"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Source"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider w-20",children:"Email"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Slip"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Payer"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Received"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Matched Invoice"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Confidence"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700",children:e.map(J=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("button",{onClick:()=>O(J),className:"text-sm font-medium text-primary-600 hover:text-primary-500",title:J.id,children:K(J)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:Q(J.source),children:J.source.replace("_"," ").toUpperCase()})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:a.jsx("div",{className:"flex items-center justify-center space-x-3",children:J.fileKey?a.jsx("button",{onClick:()=>O(J),className:"text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",title:"View slip",children:a.jsxs("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}):a.jsx("button",{onClick:()=>W(J),className:"text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",title:"Pull payment slip from email",children:a.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})})})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:J.fileKey?a.jsx("div",{className:"w-40",children:J.fileType?.startsWith("image/")?a.jsx("img",{src:P(J.fileKey)||void 0,alt:J.fileName||"slip",className:"max-h-24 rounded border border-gray-200 dark:border-gray-600 cursor-pointer object-contain",onClick:()=>V(J)}):J.fileType==="application/pdf"||(J.fileName||"").toLowerCase().endsWith(".pdf")?a.jsx("button",{onClick:()=>V(J),className:"text-primary-600 hover:text-primary-500",title:"Open slip (PDF)",children:"Open PDF"}):a.jsx("button",{onClick:()=>V(J),className:"text-primary-600 hover:text-primary-500",title:"Open slip",children:"Open Slip"})}):a.jsx("span",{className:"text-gray-400 dark:text-gray-500",children:""})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:J.amount?te(J.amount):"N/A"}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:[a.jsx("div",{children:J.payerName||"Unknown"}),a.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-xs",children:J.payerEmail||J.senderEmail})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:$(J.receivedAt)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:H(T(J)),children:T(J)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:J.matchedInvoiceId||J.matchedInvoiceNo?a.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:J.matchedInvoiceNo||J.matchedInvoiceId}):a.jsx("span",{className:"text-gray-400 dark:text-gray-500",children:"Not matched"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:J.confidence?a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-16 bg-gray-200 dark:bg-gray-700 rounded-full h-2 mr-2",children:a.jsx("div",{className:`h-2 rounded-full ${(J.confidence||0)>=.8?"bg-green-500":(J.confidence||0)>=.6?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(100,(J.confidence||0)*100)}%`}})}),a.jsxs("span",{className:"text-xs",children:[Math.round((J.confidence||0)*100),"%"]})]}):a.jsx("span",{className:"text-gray-400 dark:text-gray-500",children:"N/A"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[a.jsx("button",{onClick:()=>O(J),className:"text-primary-600 hover:text-primary-500",title:"View Details",children:a.jsxs("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),T(J)==="Submitted"&&!N.has(J.id)&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>ie(J.id),disabled:m,className:"text-green-600 hover:text-green-500 disabled:opacity-50",title:"Verify Receipt",children:a.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),a.jsx("button",{onClick:()=>G(J.id),disabled:m,className:"text-red-600 hover:text-red-500 disabled:opacity-50",title:"Reject Receipt",children:a.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})})]},J.id))})]})}),k&&a.jsxs("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-90 flex items-center justify-center p-4",children:[a.jsx("button",{onClick:re,className:"absolute top-4 right-4 text-white hover:text-gray-300","aria-label":"Close",children:a.jsx("svg",{className:"h-7 w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),a.jsx("div",{className:"w-full h-full max-w-5xl max-h-[90vh] flex items-center justify-center",children:C&&C.startsWith("image/")?a.jsx("img",{src:k,alt:"slip",className:"max-h-[90vh] max-w-full object-contain"}):a.jsx("iframe",{src:k,title:"Slip",className:"w-full h-full rounded"})})]}),c&&i&&a.jsx(Zae,{receipt:i,suggestedInvoices:y,onClose:()=>{u(!1),o(null),j([])},onMatchInvoice:U,onUnmatchReceipt:X})]})},Zae=({receipt:e,suggestedInvoices:t,onClose:r,onMatchInvoice:n,onUnmatchReceipt:i})=>{const[o]=x.useState(null),c=y=>{try{const j=localStorage.getItem("verifiedReceipts")||"[]",k=JSON.parse(j);return new Set(Array.isArray(k)?k:[]).has(y.id)?"Verified":y.status}catch{return y.status}},u=y=>{if(!y)return null;if(/^https?:\/\//i.test(y))return y;const j=y.startsWith("/")?y:`/${y}`;return`${tt}${j}`},m=(y,j="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:j}).format(y),f=y=>new Date(y).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),g=y=>{const j="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium";switch(y){case"Verified":return`${j} bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200`;case"Submitted":return`${j} bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200`;case"Rejected":return`${j} bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200`;default:return`${j} bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200`}},p=y=>{const j="inline-flex items-center px-3 py-1 rounded text-sm font-medium";switch(y){case"email":return`${j} bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200`;case"bank_email":return`${j} bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200`;case"attestation":return`${j} bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200`;default:return`${j} bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200`}};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl w-full max-w-6xl max-h-[90vh] overflow-y-auto",children:[a.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Payment Receipt Details"}),a.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[a.jsx("span",{className:g(c(e)),children:c(e)}),a.jsx("span",{className:p(e.source),children:e.source.replace("_"," ").toUpperCase()}),a.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Received: ",f(e.receivedAt)]})]})]}),a.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:a.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),a.jsxs("div",{className:"p-6 space-y-6",children:[o&&a.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md p-4",children:a.jsx("div",{className:"text-sm text-red-700 dark:text-red-300",children:o})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Receipt Information"}),a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Receipt ID"}),a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:e.id})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Amount"}),a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:e.amount?m(e.amount):"N/A"})]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Payer Name"}),a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:e.payerName||"Unknown"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Payer Email"}),a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:e.payerEmail||e.senderEmail||"N/A"})]}),e.transactionRef&&a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Transaction Reference"}),a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:e.transactionRef})]}),e.paidDate&&a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Paid Date"}),a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:f(e.paidDate)})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"File Information"}),a.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 space-y-3",children:e.fileName?a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"File Name"}),a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:e.fileName})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"File Type"}),a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:e.fileType||"Unknown"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"File Size"}),a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:e.fileSize?`${(e.fileSize/1024).toFixed(1)} KB`:"Unknown"})]})]}),e.fileKey&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"File URL"}),a.jsx("div",{className:"font-mono text-xs text-gray-600 dark:text-gray-400 break-all",children:e.fileKey})]}),a.jsxs("div",{className:"mt-2",children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Preview"}),e.fileType?.startsWith("image/")?a.jsx("img",{src:u(e.fileKey)||void 0,alt:e.fileName||"receipt",className:"max-h-96 rounded border border-gray-200 dark:border-gray-600"}):e.fileType==="application/pdf"||(e.fileName||"").toLowerCase().endsWith(".pdf")?a.jsxs("div",{children:[a.jsx("iframe",{src:u(e.fileKey)||void 0,title:"Receipt PDF",className:"w-full h-96 rounded border border-gray-200 dark:border-gray-600"}),a.jsx("div",{className:"mt-2",children:a.jsx("a",{href:u(e.fileKey)||void 0,target:"_blank",rel:"noreferrer",className:"text-primary-600 hover:text-primary-500 text-sm",children:"Open in new tab"})})]}):a.jsx("a",{href:u(e.fileKey)||void 0,target:"_blank",rel:"noreferrer",className:"text-primary-600 hover:text-primary-500 text-sm",children:"Open attachment"}),a.jsx("div",{className:"mt-3",children:a.jsx("button",{onClick:async()=>{try{const y=await kt.reextractReceiptAmount?.(e.id);y?.success?alert("Amount re-extracted from slip."):alert(y?.message||"Failed to re-extract amount")}catch{alert("Error re-extracting amount")}},className:"text-xs px-3 py-1 rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white hover:bg-gray-50",children:"Re-extract Amount"})})]})]})]}):a.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:"No file attached"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Invoice Matching"}),e.matchedInvoiceId?a.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-green-800 dark:text-green-200 font-medium",children:"Matched to Invoice"}),a.jsx("div",{className:"text-lg font-bold text-green-900 dark:text-green-100",children:e.matchedInvoiceId}),e.matchedAmount&&a.jsxs("div",{className:"text-sm text-green-700 dark:text-green-300",children:["Amount: ",m(e.matchedAmount)]})]}),a.jsx("button",{onClick:()=>i(e.id),className:"text-red-600 hover:text-red-500 text-sm",children:"Unmatch"})]})}):a.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:[a.jsx("div",{className:"text-sm text-yellow-800 dark:text-yellow-200 font-medium mb-3",children:"Not matched to any invoice"}),t.length>0&&a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-yellow-700 dark:text-yellow-300 mb-2",children:"Suggested matches:"}),a.jsx("div",{className:"space-y-2",children:t.map(y=>a.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-gray-800 rounded p-3",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:y.invoiceNo}),a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[y.projectName," - ",m(y.total)]})]}),a.jsx("button",{onClick:()=>n(e.id,y.id),className:"text-primary-600 hover:text-primary-500 text-sm font-medium",children:"Match"})]},y.id))})]})]})]}),e.flags&&e.flags.length>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Flags"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:e.flags.map((y,j)=>a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",children:y},j))})]}),e.reviewNote&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Review Notes"}),a.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:a.jsx("p",{className:"text-gray-900 dark:text-white",children:e.reviewNote})})]})]}),a.jsx("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"flex items-center justify-end space-x-3",children:a.jsx("button",{onClick:r,className:"btn-secondary",children:"Close"})})})]})})},Jae=({bankCredits:e,filters:t,onFiltersChange:r,onRefresh:n})=>{const[i,o]=x.useState(null),[c,u]=x.useState(!1),[m,f]=x.useState(!1),[g,p]=x.useState(null),[y,j]=x.useState([]),k=async O=>{if(o(O),u(!0),O.status==="Unmatched")try{const U=await kt.getInvoiceSuggestionsForBankCredit(O.id);U.success&&j(U.data)}catch(U){console.error("Error loading invoice suggestions:",U)}},b=async(O,U)=>{try{f(!0);const X=await kt.matchBankCreditToInvoice({creditId:O,invoiceId:U,confirm:!0});X.success?(n(),p(null),u(!1),o(null)):p(X.message||"Failed to match bank credit to invoice")}catch{p("Error matching bank credit to invoice")}finally{f(!1)}},C=async O=>{try{f(!0);const U=await kt.unmatchBankCredit(O);if(U.success){if(n(),p(null),i){const X=await kt.getInvoiceSuggestionsForBankCredit(i.id);X.success&&j(X.data)}}else p(U.message||"Failed to unmatch bank credit")}catch{p("Error unmatching bank credit")}finally{f(!1)}},S=async O=>{try{f(!0);const U=await kt.markBankCreditForReview(O);U.success?(n(),p(null)):p(U.message||"Failed to mark for review")}catch{p("Error marking for review")}finally{f(!1)}},N=O=>{const U="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium";switch(O){case"Matched":return`${U} bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200`;case"Unmatched":return`${U} bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200`;case"NeedsReview":return`${U} bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200`;default:return`${U} bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200`}},A=(O,U="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:U}).format(O),E=O=>new Date(O).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),T=O=>O>=.8?"text-green-600 dark:text-green-400":O>=.6?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400",P=O=>O>=.8?"bg-green-500":O>=.6?"bg-yellow-500":"bg-red-500";return e.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No bank credits found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:t.unmatchedOnly?"No unmatched bank credits.":"No bank credits received."}),t.unmatchedOnly&&a.jsx("button",{onClick:()=>r({...t,unmatchedOnly:!1}),className:"mt-3 text-sm text-primary-600 hover:text-primary-500",children:"View all bank credits"})]}):a.jsxs("div",{className:"space-y-4",children:[g&&a.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:"Error"}),a.jsx("div",{className:"mt-2 text-sm text-red-700 dark:text-red-300",children:g})]}),a.jsx("div",{className:"ml-auto pl-3",children:a.jsx("button",{onClick:()=>p(null),className:"text-red-400 hover:text-red-600",children:a.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})})]})}),a.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Status:"}),a.jsxs("select",{value:t.status?.[0]||"all",onChange:O=>{const U=O.target.value==="all"?void 0:[O.target.value];r({...t,status:U})},className:"text-sm border border-gray-300 dark:border-gray-600 rounded-md px-3 py-1 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"Unmatched",children:"Unmatched"}),a.jsx("option",{value:"Matched",children:"Matched"}),a.jsx("option",{value:"NeedsReview",children:"Needs Review"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Source Mailbox:"}),a.jsxs("select",{value:t.sourceMailbox?.[0]||"all",onChange:O=>{const U=O.target.value==="all"?void 0:[O.target.value];r({...t,sourceMailbox:U})},className:"text-sm border border-gray-300 dark:border-gray-600 rounded-md px-3 py-1 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Mailboxes"}),a.jsx("option",{value:"bank@company.com",children:"Bank Email"}),a.jsx("option",{value:"payments@company.com",children:"Payments Email"}),a.jsx("option",{value:"finance@company.com",children:"Finance Email"})]})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:t.unmatchedOnly||!1,onChange:O=>r({...t,unmatchedOnly:O.target.checked}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Unmatched only"})]})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Confidence:"}),a.jsxs("select",{value:t.confidenceThreshold||"all",onChange:O=>{const U=O.target.value==="all"?void 0:parseFloat(O.target.value);r({...t,confidenceThreshold:U})},className:"text-sm border border-gray-300 dark:border-gray-600 rounded-md px-3 py-1 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Confidence"}),a.jsx("option",{value:"0.9",children:"High (90%+)"}),a.jsx("option",{value:"0.7",children:"Medium (70%+)"}),a.jsx("option",{value:"0.5",children:"Low (50%+)"})]})]}),(t.status||t.sourceMailbox||t.unmatchedOnly||t.confidenceThreshold)&&a.jsx("button",{onClick:()=>r({}),className:"text-sm text-primary-600 hover:text-primary-500",children:"Clear filters"})]}),a.jsx("div",{className:"overflow-x-auto shadow ring-1 ring-black ring-opacity-5 md:rounded-lg",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-300 dark:divide-gray-700",style:{minWidth:"1500px"},children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Credit ID"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Payer"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Value Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Bank Ref"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Source"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Matched Invoice"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Confidence"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700",children:e.map(O=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("button",{onClick:()=>k(O),className:"text-sm font-medium text-primary-600 hover:text-primary-500",children:O.id})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:A(O.amount,O.currency)}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:[a.jsx("div",{children:O.payerName||"Unknown"}),O.bankRef&&a.jsxs("div",{className:"text-gray-500 dark:text-gray-400 text-xs",children:["Ref: ",O.bankRef]})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:E(O.valueDate)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:O.bankRef||"N/A"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:O.sourceMailbox})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:N(O.status),children:O.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:O.matchedInvoiceId?a.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:O.matchedInvoiceId}):a.jsx("span",{className:"text-gray-400 dark:text-gray-500",children:"Not matched"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:O.confidence?a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-16 bg-gray-200 dark:bg-gray-700 rounded-full h-2 mr-2",children:a.jsx("div",{className:`h-2 rounded-full ${P(O.confidence||0)}`,style:{width:`${Math.min(100,(O.confidence||0)*100)}%`}})}),a.jsxs("span",{className:`text-xs ${T(O.confidence||0)}`,children:[Math.round((O.confidence||0)*100),"%"]})]}):a.jsx("span",{className:"text-gray-400 dark:text-gray-500",children:"N/A"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[a.jsx("button",{onClick:()=>k(O),className:"text-primary-600 hover:text-primary-500",title:"View Details",children:a.jsxs("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),O.status==="Unmatched"&&a.jsx("button",{onClick:()=>S(O.id),disabled:m,className:"text-orange-600 hover:text-orange-500 disabled:opacity-50",title:"Mark for Review",children:a.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})})]},O.id))})]})}),c&&i&&a.jsx(Qae,{credit:i,suggestedInvoices:y,onClose:()=>{u(!1),o(null),j([])},onMatchInvoice:b,onUnmatchCredit:C,onRefresh:n})]})},Qae=({credit:e,suggestedInvoices:t,onClose:r,onMatchInvoice:n,onUnmatchCredit:i})=>{const o=(g,p="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:p}).format(g),c=g=>new Date(g).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),u=g=>{const p="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium";switch(g){case"Matched":return`${p} bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200`;case"Unmatched":return`${p} bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200`;case"NeedsReview":return`${p} bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200`;default:return`${p} bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200`}},m=g=>g>=.8?"text-green-600 dark:text-green-400":g>=.6?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400",f=g=>g>=.8?"bg-green-500":g>=.6?"bg-yellow-500":"bg-red-500";return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl w-full max-w-6xl max-h-[90vh] overflow-y-auto",children:[a.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Bank Credit Details"}),a.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[a.jsx("span",{className:u(e.status),children:e.status}),a.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Value Date: ",c(e.valueDate)]}),a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.currency})]})]}),a.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:a.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Credit Information"}),a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Credit ID"}),a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:e.id})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Amount"}),a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:o(e.amount,e.currency)})]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Payer Name"}),a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:e.payerName||"Unknown"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Bank Reference"}),a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:e.bankRef||"N/A"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Value Date"}),a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:c(e.valueDate)})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Source Mailbox"}),a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:e.sourceMailbox})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Message ID"}),a.jsx("div",{className:"font-mono text-xs text-gray-600 dark:text-gray-400 break-all",children:e.messageId})]}),e.memo&&a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Memo"}),a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:e.memo})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Invoice Matching"}),e.matchedInvoiceId?a.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-green-800 dark:text-green-200 font-medium",children:"Matched to Invoice"}),a.jsx("div",{className:"text-lg font-bold text-green-900 dark:text-green-100",children:e.matchedInvoiceId}),e.matchedAmount&&a.jsxs("div",{className:"text-sm text-green-700 dark:text-green-300",children:["Amount: ",o(e.matchedAmount,e.currency)]})]}),a.jsx("button",{onClick:()=>i(e.id),className:"text-red-600 hover:text-red-500 text-sm",children:"Unmatch"})]})}):a.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:[a.jsx("div",{className:"text-sm text-yellow-800 dark:text-yellow-200 font-medium mb-3",children:"Not matched to any invoice"}),t.length>0&&a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-yellow-700 dark:text-yellow-300 mb-2",children:"Suggested matches:"}),a.jsx("div",{className:"space-y-2",children:t.map(g=>a.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-gray-800 rounded p-3",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:g.invoiceNo}),a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[g.projectName," - ",o(g.total)]})]}),a.jsx("button",{onClick:()=>n(e.id,g.id),className:"text-primary-600 hover:text-primary-500 text-sm font-medium",children:"Match"})]},g.id))})]})]}),e.confidence&&a.jsxs("div",{className:"mt-4 bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Confidence Score"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-3 mr-3",children:a.jsx("div",{className:`h-3 rounded-full ${f(e.confidence)}`,style:{width:`${e.confidence*100}%`}})}),a.jsxs("span",{className:`text-sm font-medium ${m(e.confidence)}`,children:[Math.round(e.confidence*100),"%"]})]})]})]})]}),t.length>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Matching Suggestions"}),a.jsx("div",{className:"space-y-3",children:t.map((g,p)=>a.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"font-medium text-gray-900 dark:text-white",children:[g.invoiceNo," - ",g.projectName]}),a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Amount: ",o(g.total)," | Due: ",c(g.dueDate)," | Status: ",g.status]}),g.notes&&a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:g.notes})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Suggestion #",p+1]}),a.jsx("button",{onClick:()=>n(e.id,g.id),className:"text-primary-600 hover:text-primary-500 text-sm font-medium px-3 py-1 border border-primary-600 rounded hover:bg-primary-50 dark:hover:bg-primary-900/20",children:"Match Now"})]})]})},g.id))})]})]}),a.jsx("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"flex items-center justify-end space-x-3",children:a.jsx("button",{onClick:r,className:"btn-secondary",children:"Close"})})})]})})},ene=({emails:e,filters:t,onFiltersChange:r,onRefresh:n})=>{const[i,o]=x.useState(null),[c,u]=x.useState(!1),[m,f]=x.useState(!1),[g,p]=x.useState(null),[y,j]=x.useState("all"),k=O=>{o(O),u(!0)},b=async O=>{try{f(!0);const U=await kt.archiveUnmatchedEmail({id:O,reason:"Archived by user"});U.success?(n(),p(null),u(!1),o(null)):p(U.message||"Failed to archive email")}catch{p("Error archiving email")}finally{f(!1)}},C=async O=>{try{f(!0);const U=await kt.retryProcessingEmail(O);U.success?(n(),p(null),u(!1),o(null)):p(U.message||"Failed to retry processing")}catch{p("Error retrying processing")}finally{f(!1)}},S=O=>{const U="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium";switch(O){case"paymentId_missing":return`${U} bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200`;case"paymentId_unknown":return`${U} bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200`;case"no_valid_attachment":return`${U} bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200`;case"oversize":return`${U} bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200`;case"disallowed_type":return`${U} bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200`;case"av_failed":return`${U} bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200`;default:return`${U} bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200`}},N=O=>{switch(O){case"paymentId_missing":return"Payment ID missing from email";case"paymentId_unknown":return"Payment ID not recognized";case"no_valid_attachment":return"No valid attachment found";case"oversize":return"Attachment too large";case"disallowed_type":return"File type not allowed";case"av_failed":return"Antivirus scan failed";default:return"Unknown error"}},A=O=>new Date(O).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),E=O=>{switch(O){case"paymentId_missing":return a.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})});case"paymentId_unknown":return a.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})});case"no_valid_attachment":return a.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})});case"oversize":return a.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 4V2a1 1 0 011-1h8a1 1 0 011 1v2m-9 0h10m-10 0a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V6a2 2 0 00-2-2M9 8h6m-6 4h6m-6 4h4"})});case"disallowed_type":return a.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})});case"av_failed":return a.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})});default:return a.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}},T=y==="all"?e:e.filter(O=>O.reason===y),P=e.reduce((O,U)=>(O[U.reason]=(O[U.reason]||0)+1,O),{});return e.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No exceptions found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"All emails have been processed successfully."})]}):a.jsxs("div",{className:"space-y-4",children:[g&&a.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:"Error"}),a.jsx("div",{className:"mt-2 text-sm text-red-700 dark:text-red-300",children:g})]}),a.jsx("div",{className:"ml-auto pl-3",children:a.jsx("button",{onClick:()=>p(null),className:"text-red-400 hover:text-red-600",children:a.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})})]})}),a.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:a.jsxs("nav",{className:"-mb-px flex space-x-8 overflow-x-auto",children:[a.jsxs("button",{onClick:()=>j("all"),className:`py-2 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${y==="all"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:["All Exceptions",a.jsx("span",{className:"ml-2 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 py-0.5 px-2 rounded-full text-xs",children:e.length})]}),Object.entries(P).map(([O,U])=>a.jsxs("button",{onClick:()=>j(O),className:`py-2 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${y===O?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[N(O),a.jsx("span",{className:"ml-2 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 py-0.5 px-2 rounded-full text-xs",children:U})]},O))]})}),a.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Reason:"}),a.jsxs("select",{value:t.type?.[0]||"all",onChange:O=>{const U=O.target.value==="all"?void 0:[O.target.value];r({...t,type:U})},className:"text-sm border border-gray-300 dark:border-gray-600 rounded-md px-3 py-1 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Reasons"}),a.jsx("option",{value:"paymentId_missing",children:"Payment ID Missing"}),a.jsx("option",{value:"paymentId_unknown",children:"Payment ID Unknown"}),a.jsx("option",{value:"no_valid_attachment",children:"No Valid Attachment"}),a.jsx("option",{value:"oversize",children:"Oversize"}),a.jsx("option",{value:"disallowed_type",children:"Disallowed Type"}),a.jsx("option",{value:"av_failed",children:"AV Failed"})]})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:t.archivedOnly||!1,onChange:O=>r({...t,archivedOnly:O.target.checked}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Archived only"})]})}),(t.type||t.archivedOnly)&&a.jsx("button",{onClick:()=>r({}),className:"text-sm text-primary-600 hover:text-primary-500",children:"Clear filters"})]}),a.jsx("div",{className:"overflow-x-auto shadow ring-1 ring-black ring-opacity-5 md:rounded-lg",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-300 dark:divide-gray-700",style:{minWidth:"1200px"},children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider w-32",children:"Sender"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider w-64",children:"Subject"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider w-32",children:"Reason"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider w-32",children:"Received"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider w-24",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider w-24",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700",children:T.map(O=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:O.senderEmail})}),a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:O.subject}),O.snippet&&a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 truncate max-w-xs",children:O.snippet})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[E(O.reason),a.jsx("span",{className:S(O.reason),children:N(O.reason)})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:A(O.receivedAt)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${O.archived?"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"}`,children:O.archived?"Archived":"Active"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[a.jsx("button",{onClick:()=>k(O),className:"text-primary-600 hover:text-primary-500",title:"View Details",children:a.jsxs("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),!O.archived&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>C(O.id),disabled:m,className:"text-green-600 hover:text-green-500 disabled:opacity-50",title:"Retry Processing",children:a.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),a.jsx("button",{onClick:()=>b(O.id),disabled:m,className:"text-gray-600 hover:text-gray-500 disabled:opacity-50",title:"Archive Email",children:a.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8l6 6 6-6"})})})]})]})})]},O.id))})]})}),c&&i&&a.jsx(tne,{email:i,onClose:()=>{u(!1),o(null)},onArchive:b,onRetry:C,onRefresh:n})]})},tne=({email:e,onClose:t,onArchive:r,onRetry:n})=>{const[i]=x.useState(null),o=f=>new Date(f).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),c=f=>{const g="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium";switch(f){case"paymentId_missing":return`${g} bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200`;case"paymentId_unknown":return`${g} bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200`;case"no_valid_attachment":return`${g} bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200`;case"oversize":return`${g} bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200`;case"disallowed_type":return`${g} bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200`;case"av_failed":return`${g} bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200`;default:return`${g} bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200`}},u=f=>{switch(f){case"paymentId_missing":return"Payment ID missing from email";case"paymentId_unknown":return"Payment ID not recognized";case"no_valid_attachment":return"No valid attachment found";case"oversize":return"Attachment too large";case"disallowed_type":return"File type not allowed";case"av_failed":return"Antivirus scan failed";default:return"Unknown error"}},m=f=>{switch(f){case"paymentId_missing":return a.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})});case"paymentId_unknown":return a.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})});case"no_valid_attachment":return a.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})});case"oversize":return a.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 4V2a1 1 0 011-1h8a1 1 0 011 1v2m-9 0h10m-10 0a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V6a2 2 0 00-2-2M9 8h6m-6 4h6m-6 4h4"})});case"disallowed_type":return a.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})});case"av_failed":return a.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})});default:return a.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Email Exception Details"}),a.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[a.jsx("span",{className:c(e.reason),children:u(e.reason)}),a.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Received: ",o(e.receivedAt)]}),a.jsx("span",{className:`text-sm ${e.archived?"text-gray-500 dark:text-gray-400":"text-yellow-600 dark:text-yellow-400"}`,children:e.archived?"Archived":"Active"})]})]}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:a.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),a.jsxs("div",{className:"p-6 space-y-6",children:[i&&a.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md p-4",children:a.jsx("div",{className:"text-sm text-red-700 dark:text-red-300",children:i})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Email Information"}),a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 space-y-3",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Sender Email"}),a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:e.senderEmail})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Subject"}),a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:e.subject})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Message ID"}),a.jsx("div",{className:"font-mono text-xs text-gray-600 dark:text-gray-400 break-all",children:e.messageId})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Received At"}),a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:o(e.receivedAt)})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Exception Details"}),a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 space-y-3",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Exception Type"}),a.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[m(e.reason),a.jsx("span",{className:c(e.reason),children:u(e.reason)})]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Status"}),a.jsx("div",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-sm font-medium ${e.archived?"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"}`,children:e.archived?"Archived":"Active"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Exception ID"}),a.jsx("div",{className:"font-mono text-xs text-gray-600 dark:text-gray-400",children:e.id})]})]})]})]}),e.snippet&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Email Content Preview"}),a.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:a.jsx("p",{className:"text-gray-900 dark:text-white whitespace-pre-wrap",children:e.snippet})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Troubleshooting Tips"}),a.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:a.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-200",children:[e.reason==="paymentId_missing"&&a.jsx("p",{children:"This email is missing a payment ID. Check if the client included the correct payment reference in their email subject or body."}),e.reason==="paymentId_unknown"&&a.jsx("p",{children:"This email contains a payment ID that we don't recognize. Verify the payment reference with the client or check if it's a new project."}),e.reason==="no_valid_attachment"&&a.jsx("p",{children:"This email doesn't contain any valid payment attachments. Ask the client to resend with a proper payment receipt or invoice."}),e.reason==="oversize"&&a.jsx("p",{children:"This email's attachment is too large. Ask the client to compress the file or send it via a file sharing service."}),e.reason==="disallowed_type"&&a.jsx("p",{children:"This email contains a file type that's not allowed. Ask the client to send the document in PDF, JPG, or PNG format."}),e.reason==="av_failed"&&a.jsx("p",{children:"This email failed antivirus scanning. The attachment may be corrupted or contain suspicious content. Ask the client to resend."})]})})]})]}),a.jsx("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[a.jsx("button",{onClick:t,className:"btn-secondary",children:"Close"}),!e.archived&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>n(e.id),className:"btn-primary",children:"Retry Processing"}),a.jsx("button",{onClick:()=>r(e.id),className:"btn-secondary",children:"Archive Email"})]})]})})]})})},rne=()=>{const[e,t]=x.useState("invoices"),[r,n]=x.useState(null),[i,o]=x.useState(!0),[c,u]=x.useState(null),[m,f]=x.useState([]),[g,p]=x.useState([]),[y,j]=x.useState([]),[k,b]=x.useState([]),[C,S]=x.useState({}),[N,A]=x.useState({}),[E,T]=x.useState({}),[P,O]=x.useState({}),[U,X]=x.useState("2024-W04"),[ie,W]=x.useState(!1),[G,H]=x.useState(null);x.useEffect(()=>{Q(),(async()=>{try{const K=await Kae(),J=String(K?.scope||""),I=/gmail\.(readonly|send)/.test(J);W(!!K?.connected&&I),H(K?.email||null)}catch{}})()},[U]);const Q=async()=>{try{o(!0),u(null);const K=await kt.getCashSummary(U);K.success&&n(K.data),await te(e)}catch(K){u("Failed to load data"),console.error("Error loading slips & invoices data:",K)}finally{o(!1)}},te=async(K,J)=>{try{switch(K){case"invoices":const I=await kt.getInvoices(J||C);I.success&&f(I.data.data);break;case"receipts":const L=await kt.getReceipts(J||N);L.success&&p(L.data.data);break;case"bank-credits":const me=await kt.getBankCredits(J||E);me.success&&j(me.data.data);break;case"exceptions":const Z=await kt.getUnmatchedEmails(J||P);Z.success&&b(Z.data.data);break}}catch(I){console.error(`Error loading ${K} data:`,I)}},$=K=>{t(K),te(K)},V=K=>{switch(K){case"invoices":t("invoices"),te("invoices");break;case"receipts":t("receipts"),te("receipts");break;case"bank-credits":t("bank-credits"),te("bank-credits");break;case"exceptions":t("exceptions"),te("exceptions");break;case"overdue":S({...C,overdueOnly:!0}),t("invoices"),te("invoices");break}},re=K=>{X(K)};return i?a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-1/4 mb-4"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[...Array(5)].map((K,J)=>a.jsx("div",{className:"h-24 bg-gray-200 dark:bg-gray-700 rounded"},J))}),a.jsx("div",{className:"h-64 bg-gray-200 dark:bg-gray-700 rounded"})]})}):c?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-red-600 dark:text-red-400 mb-4",children:a.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Error Loading Data"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:c}),a.jsx("button",{onClick:Q,className:"btn-primary",children:"Try Again"})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Slips & Invoices"}),a.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Financial tracking and payment management"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Week:"}),a.jsxs("select",{value:U,onChange:K=>re(K.target.value),className:"text-sm border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"2024-W01",children:"2024-W01"}),a.jsx("option",{value:"2024-W02",children:"2024-W02"}),a.jsx("option",{value:"2024-W03",children:"2024-W03"}),a.jsx("option",{value:"2024-W04",children:"2024-W04"}),a.jsx("option",{value:"2024-W05",children:"2024-W05"})]}),a.jsx("button",{onClick:async()=>{try{const K=await Gae();window.location.href=K}catch{alert("Failed to start Google session")}},className:`text-sm px-3 py-2 rounded-md border ${ie?"border-green-300 text-green-700 bg-green-50 dark:bg-green-900/20":"border-gray-300 text-gray-700 bg-gray-50 dark:bg-gray-800"}`,title:ie?`Connected: ${G||"Gmail"}`:"Connect Gmail to send and ingest emails",children:ie?G||"Gmail Connected":"Connect Gmail"})]})]}),r&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[a.jsx("div",{className:"card cursor-pointer hover:shadow-md transition-shadow",onClick:()=>V("invoices"),children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:r.invoicesIssued.count}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Invoices Issued"}),a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-500",children:["$",r.invoicesIssued.total.toLocaleString()]})]})}),a.jsx("div",{className:"card cursor-pointer hover:shadow-md transition-shadow",onClick:()=>V("receipts"),children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:r.receiptsReceived.count}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Receipts Received"}),a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-500",children:["$",r.receiptsReceived.total.toLocaleString()]})]})}),a.jsx("div",{className:"card cursor-pointer hover:shadow-md transition-shadow",onClick:()=>V("bank-credits"),children:a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:[r.collectedVsInvoiced.percentage,"%"]}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Collected vs Invoiced"}),a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-500",children:["$",r.collectedVsInvoiced.collected.toLocaleString()," / $",r.collectedVsInvoiced.invoiced.toLocaleString()]})]})}),a.jsx("div",{className:"card cursor-pointer hover:shadow-md transition-shadow",onClick:()=>V("overdue"),children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:r.overdueInvoices.count}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Overdue Invoices"}),a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-500",children:["$",r.overdueInvoices.total.toLocaleString()]})]})}),a.jsx("div",{className:"card cursor-pointer hover:shadow-md transition-shadow",onClick:()=>V("exceptions"),children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:r.unmatchedItems.count}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Unmatched Items"}),a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-500",children:[r.unmatchedItems.receipts,"R, ",r.unmatchedItems.bankCredits,"BC, ",r.unmatchedItems.emails,"E"]})]})})]}),a.jsxs("div",{className:"card",children:[a.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:a.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"invoices",label:"Invoices (This Week)",count:m.length},{id:"receipts",label:"Client Slips (Email)",count:g.length},{id:"bank-credits",label:"Bank Credits (Email)",count:y.length},{id:"exceptions",label:"Exceptions Queue",count:k.length}].map(K=>a.jsxs("button",{onClick:()=>$(K.id),className:`py-2 px-1 border-b-2 font-medium text-sm ${e===K.id?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[K.label,K.count>0&&a.jsx("span",{className:"ml-2 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 py-0.5 px-2 rounded-full text-xs",children:K.count})]},K.id))})}),a.jsxs("div",{className:"p-6",children:[e==="invoices"&&a.jsx(qae,{invoices:m,filters:C,onFiltersChange:K=>{S(K),te("invoices",K)},onRefresh:()=>te("invoices")}),e==="receipts"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Pull client reply emails with attachments (payment slips) from Gmail."}),a.jsx("button",{onClick:async()=>{try{const K=await kt.ingestReceiptsFromGmail?.();K?.success?te("receipts"):alert(K?.message||"Failed to sync from Gmail")}catch{alert("Failed to sync from Gmail")}},className:"text-sm px-3 py-2 rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white hover:bg-gray-50",children:"Sync Client Slips"})]}),a.jsx(Xae,{receipts:g,filters:N,onFiltersChange:K=>{A(K),te("receipts",K)},onRefresh:()=>te("receipts")})]}),e==="bank-credits"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Pull recent bank emails from Gmail and predict matches."}),a.jsx("button",{onClick:async()=>{try{const K=await kt.ingestBankEmailsFromGmail?.();K?.success?te("bank-credits"):alert(K?.message||"Failed to sync from Gmail")}catch{alert("Failed to sync from Gmail")}},className:"text-sm px-3 py-2 rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white hover:bg-gray-50",children:"Sync Bank Emails"})]}),a.jsx(Jae,{bankCredits:y,filters:E,onFiltersChange:K=>{T(K),te("bank-credits",K)},onRefresh:()=>te("bank-credits")})]}),e==="exceptions"&&a.jsx(ene,{emails:k,filters:P,onFiltersChange:K=>{O(K),te("exceptions",K)},onRefresh:()=>te("exceptions")})]})]})]})},ane=()=>{const[e,t]=x.useState([]),[r,n]=x.useState([]),[i,o]=x.useState({name:"",email:"",password:"",roleName:"",departmentName:"",verify:!0,active:!0}),[c,u]=x.useState(!1),[m,f]=x.useState(""),[g,p]=x.useState({name:"",email:"",roleName:"",departmentName:""}),[y,j]=x.useState(!1),[k,b]=x.useState("");x.useEffect(()=>{(async()=>{try{const N=await lU();t(N.roles||[]),n(N.departments||[])}catch{t([]),n([])}})()},[]);async function C(N){N.preventDefault(),f(""),u(!0);try{const A=await oU(i);f(`Created: ${A.name} (${A.email})  ${A.role} @ ${A.department}`),o({name:"",email:"",password:"",roleName:"",departmentName:"",verify:!0,active:!0})}catch(A){f(String(A?.message||"Failed to register"))}finally{u(!1)}}async function S(N){N.preventDefault(),b(""),j(!0);try{const A=await uv({name:g.name,email:g.email,roleName:g.roleName||void 0,departmentName:g.departmentName});b(`Invite sent to ${A.email}${A.verifyUrl?`  Dev link: ${A.verifyUrl}`:""}`),p({name:"",email:"",roleName:"",departmentName:""})}catch(A){b(String(A?.message||"Failed to send invite"))}finally{j(!1)}}return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Admin: Users"}),a.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Register or invite users with role and department"})]})}),a.jsxs("form",{onSubmit:C,className:"card space-y-4 max-w-xl",children:[m&&a.jsx("div",{className:"text-sm p-2 rounded bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200",children:m}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",children:"Name"}),a.jsx("input",{className:"input-field",value:i.name,onChange:N=>o({...i,name:N.target.value}),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",children:"Email"}),a.jsx("input",{type:"email",className:"input-field",value:i.email,onChange:N=>o({...i,email:N.target.value}),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",children:"Password"}),a.jsx("input",{type:"password",className:"input-field",value:i.password,onChange:N=>o({...i,password:N.target.value}),required:!0})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",children:"Role"}),a.jsxs("select",{className:"input-field",value:i.roleName,onChange:N=>o({...i,roleName:N.target.value}),required:!0,children:[a.jsx("option",{value:"",children:"Select role"}),e.map(N=>a.jsx("option",{value:N,children:N},N))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",children:"Department"}),a.jsxs("select",{className:"input-field",value:i.departmentName,onChange:N=>o({...i,departmentName:N.target.value}),required:!0,children:[a.jsx("option",{value:"",children:"Select department"}),r.map(N=>a.jsx("option",{value:N,children:N},N))]})]})]}),a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("label",{className:"flex items-center space-x-2 text-sm",children:[a.jsx("input",{type:"checkbox",checked:i.verify,onChange:N=>o({...i,verify:N.target.checked})}),a.jsx("span",{children:"Mark email as verified"})]}),a.jsxs("label",{className:"flex items-center space-x-2 text-sm",children:[a.jsx("input",{type:"checkbox",checked:i.active,onChange:N=>o({...i,active:N.target.checked})}),a.jsx("span",{children:"Active"})]})]}),a.jsx("div",{className:"pt-2",children:a.jsx("button",{type:"submit",disabled:c,className:"btn-primary",children:c?"Creating":"Create User"})})]}),a.jsxs("form",{onSubmit:S,className:"card space-y-4 max-w-xl",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Invite User"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Sends an email with an acceptinvite link"})]}),k&&a.jsx("div",{className:"text-sm p-2 rounded bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200",children:k}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",children:"Name"}),a.jsx("input",{className:"input-field",value:g.name,onChange:N=>p({...g,name:N.target.value}),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",children:"Email"}),a.jsx("input",{type:"email",className:"input-field",value:g.email,onChange:N=>p({...g,email:N.target.value}),required:!0})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",children:"Role"}),a.jsxs("select",{className:"input-field",value:g.roleName,onChange:N=>p({...g,roleName:N.target.value}),children:[a.jsx("option",{value:"",children:"Client (default)"}),e.map(N=>a.jsx("option",{value:N,children:N},N))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",children:"Department"}),a.jsxs("select",{className:"input-field",value:g.departmentName,onChange:N=>p({...g,departmentName:N.target.value}),required:!0,children:[a.jsx("option",{value:"",children:"Select department"}),r.map(N=>a.jsx("option",{value:N,children:N},N))]})]})]}),a.jsx("div",{className:"pt-2",children:a.jsx("button",{type:"submit",disabled:y,className:"btn-primary",children:y?"Sending":"Send Invite"})})]})]})},nne=()=>{const[e,t]=x.useState([]),[r,n]=x.useState([]),[i,o]=x.useState([]),[c,u]=x.useState(null),[m,f]=x.useState({departmentId:"",roleId:"",active:!0}),[g,p]=x.useState("");x.useEffect(()=>{(async()=>{try{const[b,C,S]=await Promise.all([uU(),Td(),ko()]);t(b.items||[]),n(C||[]),o(S||[])}catch{}})()},[]);const y=b=>{u(b.userId),f({departmentId:b.requestedDepartmentId||"",roleId:b.requestedRoleId||"",active:!0})},j=async()=>{if(c)try{await mU(c,m),t(b=>b.filter(C=>C.userId!==c)),u(null),p("Approved user")}catch(b){p(b?.message||"Failed to approve")}},k=async b=>{const C=prompt("Reason for rejection?")||"";if(C)try{await fU(b,C),t(S=>S.filter(N=>N.userId!==b)),p("Rejected user")}catch(S){p(S?.message||"Failed to reject")}};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Pending Approvals"}),a.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Approve or reject verified sign-ups"})]})}),g&&a.jsx("div",{className:"text-sm p-2 rounded bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200",children:g}),a.jsx("div",{className:"card",children:a.jsxs("table",{className:"min-w-full",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Email"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Requested Dept"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700",children:e.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:4,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:"No pending approvals"})}):e.map(b=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4",children:b.name}),a.jsx("td",{className:"px-6 py-4",children:b.email}),a.jsx("td",{className:"px-6 py-4",children:b.requestedDepartmentId||"-"}),a.jsxs("td",{className:"px-6 py-4 space-x-3",children:[a.jsx("button",{className:"text-blue-600",onClick:()=>y(b),children:"Approve"}),a.jsx("button",{className:"text-red-600",onClick:()=>k(b.userId),children:"Reject"})]})]},b.userId))})]})}),c&&a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 sm:p-6",children:[a.jsx("div",{className:"modal-overlay",onClick:()=>u(null)}),a.jsxs("div",{className:"modal-panel max-w-lg",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h3",{className:"modal-title",children:"Approve User"}),a.jsx("button",{className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",onClick:()=>u(null),children:a.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("div",{className:"modal-body space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",children:"Department"}),a.jsxs("select",{className:"input-field",value:m.departmentId,onChange:b=>f({...m,departmentId:b.target.value}),children:[a.jsx("option",{value:"",children:"Select department"}),r.map(b=>a.jsx("option",{value:b.id,children:b.name},b.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",children:"Role"}),a.jsxs("select",{className:"input-field",value:m.roleId,onChange:b=>f({...m,roleId:b.target.value}),children:[a.jsx("option",{value:"",children:"Select role"}),i.map(b=>a.jsx("option",{value:b.id,children:b.name},b.id))]})]}),a.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[a.jsx("input",{type:"checkbox",checked:!!m.active,onChange:b=>f({...m,active:b.target.checked})})," Active"]})]}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{className:"btn-secondary",onClick:()=>u(null),children:"Cancel"}),a.jsx("button",{className:"btn-primary",onClick:j,disabled:!m.departmentId||!m.roleId,children:"Approve"})]})]})]})]})},jo=[{key:"users:read",group:"Users",description:"View user profiles and information"},{key:"users:invite",group:"Users",description:"Send invitations to new users"},{key:"users:deactivate",group:"Users",description:"Deactivate user accounts"},{key:"approvals:any",group:"Users",description:"Approve any user action across organization"},{key:"approvals:dept",group:"Users",description:"Approve actions within department"},{key:"projects:create",group:"Projects",description:"Create new projects"},{key:"projects:read",group:"Projects",description:"View project details"},{key:"projects:update",group:"Projects",description:"Edit project information"},{key:"projects:delete",group:"Projects",description:"Delete projects"},{key:"projects:assign",group:"Projects",description:"Assign team members to projects"},{key:"tasks:create",group:"Tasks",description:"Create new tasks"},{key:"tasks:read",group:"Tasks",description:"View task details"},{key:"tasks:update",group:"Tasks",description:"Edit task information"},{key:"tasks:assign",group:"Tasks",description:"Assign tasks to team members"},{key:"tasks:comment",group:"Tasks",description:"Comment on tasks"},{key:"timelogs:create",group:"Timelogs",description:"Log time entries"},{key:"timelogs:read",group:"Timelogs",description:"View time entries"},{key:"timelogs:update",group:"Timelogs",description:"Edit time entries"},{key:"documents:upload",group:"Documents",description:"Upload new documents"},{key:"documents:read",group:"Documents",description:"View documents"},{key:"documents:assign_reviewer",group:"Documents",description:"Assign reviewers to documents"},{key:"documents:review",group:"Documents",description:"Review and approve documents"},{key:"calendar:connect",group:"Calendar",description:"Connect calendar services"},{key:"calendar:read",group:"Calendar",description:"View calendar events"},{key:"calendar:sources_manage",group:"Calendar",description:"Manage calendar sources"},{key:"finance:invoices:read",group:"Finance",description:"View invoices"},{key:"finance:invoices:write",group:"Finance",description:"Create and edit invoices"},{key:"finance:receipts:read",group:"Finance",description:"View receipts"},{key:"finance:receipts:verify",group:"Finance",description:"Verify receipt authenticity"},{key:"finance:receipts:reject",group:"Finance",description:"Reject invalid receipts"},{key:"finance:receipts:match",group:"Finance",description:"Match receipts to transactions"},{key:"finance:bank_credits:read",group:"Finance",description:"View bank credits"},{key:"finance:bank_credits:match",group:"Finance",description:"Match bank credits to records"},{key:"email:send_invite",group:"Email",description:"Send email invitations"},{key:"system:settings:manage",group:"System",description:"Manage system settings"},{key:"system:roles:manage",group:"System",description:"Manage roles and permissions"},{key:"system:departments:manage",group:"System",description:"Manage departments"},{key:"system:audit:read",group:"System",description:"View audit logs"}],By=[{id:"director",name:"Director",description:"Full access to all features and settings",isSystem:!0,permissions:jo.map(e=>({...e,allowed:!0,scope:{type:"any"}}))},{id:"manager",name:"Manager",description:"Manage team and department operations",isSystem:!0,permissions:jo.map(e=>{const t=["users:read","users:invite","approvals:dept","projects:create","projects:read","projects:update","projects:assign","tasks:create","tasks:read","tasks:update","tasks:assign","tasks:comment","documents:upload","documents:read","documents:assign_reviewer","documents:review","calendar:connect","calendar:read","finance:invoices:read","finance:receipts:read","finance:receipts:verify","finance:bank_credits:read"].includes(e.key);return{...e,allowed:t,scope:t&&(e.key.includes("approvals:dept")||e.key.includes("projects"))?{type:"department",ids:["tech","grc"]}:{type:"any"}}})},{id:"lead",name:"Lead",description:"Lead team members within department",isSystem:!0,permissions:jo.map(e=>{const t=["users:read","approvals:dept","projects:read","projects:update","projects:assign","tasks:create","tasks:read","tasks:update","tasks:assign","tasks:comment","documents:upload","documents:read","documents:review","calendar:connect","calendar:read","finance:invoices:read","finance:receipts:read"].includes(e.key);return{...e,allowed:t,scope:t&&e.key.includes("approvals:dept")?{type:"department",ids:["tech"]}:{type:"any"}}})},{id:"consultant",name:"Consultant",description:"Work on assigned projects and tasks",isSystem:!1,permissions:jo.map(e=>{const t=["projects:read","tasks:create","tasks:read","tasks:update","tasks:comment","timelogs:create","timelogs:read","timelogs:update","documents:upload","documents:read","documents:review","calendar:connect","calendar:read"].includes(e.key);return{...e,allowed:t,scope:t?{type:"assigned"}:{type:"any"}}})},{id:"member",name:"Member",description:"Basic team member access",isSystem:!1,permissions:jo.map(e=>{const t=["projects:read","tasks:read","tasks:comment","timelogs:create","timelogs:read","documents:read","calendar:connect","calendar:read"].includes(e.key);return{...e,allowed:t,scope:t?{type:"assigned"}:{type:"any"}}})},{id:"client",name:"Client",description:"External client with limited access",isSystem:!1,permissions:jo.map(e=>{const t=["projects:read","tasks:read","tasks:comment","documents:read","documents:upload"].includes(e.key);return{...e,allowed:t,scope:t?{type:"assigned"}:{type:"any"}}})}],sne=[{id:"v5",authorName:"Sarah Chen",comment:"Granted Manager role access to finance receipts verification",changes:["Added finance:receipts:verify to Manager role"],createdAt:"2025-01-15T10:30:00Z"},{id:"v4",authorName:"John Smith",comment:"Restricted project assignment to department scope for Leads",changes:['Updated projects:assign scope from "any" to "department" for Lead role'],createdAt:"2025-01-10T14:20:00Z"},{id:"v3",authorName:"Sarah Chen",comment:"Added Client role for external stakeholders",changes:["Created new Client role with limited permissions"],createdAt:"2025-01-05T09:15:00Z"},{id:"v2",authorName:"Admin System",comment:"Initial setup of department-scoped permissions",changes:["Configured department scopes for Manager and Lead roles"],createdAt:"2025-01-01T08:00:00Z"}],ine=T0("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Vo({className:e,variant:t,...r}){return a.jsx("div",{className:nt(ine({variant:t}),e),...r})}function lne(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var T1="ScrollArea",[cM]=Ds(T1),[one,nn]=cM(T1),dM=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:i,scrollHideDelay:o=600,...c}=e,[u,m]=x.useState(null),[f,g]=x.useState(null),[p,y]=x.useState(null),[j,k]=x.useState(null),[b,C]=x.useState(null),[S,N]=x.useState(0),[A,E]=x.useState(0),[T,P]=x.useState(!1),[O,U]=x.useState(!1),X=vt(t,W=>m(W)),ie=yT(i);return a.jsx(one,{scope:r,type:n,dir:ie,scrollHideDelay:o,scrollArea:u,viewport:f,onViewportChange:g,content:p,onContentChange:y,scrollbarX:j,onScrollbarXChange:k,scrollbarXEnabled:T,onScrollbarXEnabledChange:P,scrollbarY:b,onScrollbarYChange:C,scrollbarYEnabled:O,onScrollbarYEnabledChange:U,onCornerWidthChange:N,onCornerHeightChange:E,children:a.jsx(ct.div,{dir:ie,...c,ref:X,style:{position:"relative","--radix-scroll-area-corner-width":S+"px","--radix-scroll-area-corner-height":A+"px",...e.style}})})});dM.displayName=T1;var uM="ScrollAreaViewport",mM=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:i,...o}=e,c=nn(uM,r),u=x.useRef(null),m=vt(t,u,c.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),a.jsx(ct.div,{"data-radix-scroll-area-viewport":"",...o,ref:m,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...e.style},children:a.jsx("div",{ref:c.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});mM.displayName=uM;var Wn="ScrollAreaScrollbar",E1=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=nn(Wn,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:c}=i,u=e.orientation==="horizontal";return x.useEffect(()=>(u?o(!0):c(!0),()=>{u?o(!1):c(!1)}),[u,o,c]),i.type==="hover"?a.jsx(cne,{...n,ref:t,forceMount:r}):i.type==="scroll"?a.jsx(dne,{...n,ref:t,forceMount:r}):i.type==="auto"?a.jsx(fM,{...n,ref:t,forceMount:r}):i.type==="always"?a.jsx(O1,{...n,ref:t}):null});E1.displayName=Wn;var cne=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=nn(Wn,e.__scopeScrollArea),[o,c]=x.useState(!1);return x.useEffect(()=>{const u=i.scrollArea;let m=0;if(u){const f=()=>{window.clearTimeout(m),c(!0)},g=()=>{m=window.setTimeout(()=>c(!1),i.scrollHideDelay)};return u.addEventListener("pointerenter",f),u.addEventListener("pointerleave",g),()=>{window.clearTimeout(m),u.removeEventListener("pointerenter",f),u.removeEventListener("pointerleave",g)}}},[i.scrollArea,i.scrollHideDelay]),a.jsx(en,{present:r||o,children:a.jsx(fM,{"data-state":o?"visible":"hidden",...n,ref:t})})}),dne=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=nn(Wn,e.__scopeScrollArea),o=e.orientation==="horizontal",c=Nh(()=>m("SCROLL_END"),100),[u,m]=lne("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(u==="idle"){const f=window.setTimeout(()=>m("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(f)}},[u,i.scrollHideDelay,m]),x.useEffect(()=>{const f=i.viewport,g=o?"scrollLeft":"scrollTop";if(f){let p=f[g];const y=()=>{const j=f[g];p!==j&&(m("SCROLL"),c()),p=j};return f.addEventListener("scroll",y),()=>f.removeEventListener("scroll",y)}},[i.viewport,o,m,c]),a.jsx(en,{present:r||u!=="hidden",children:a.jsx(O1,{"data-state":u==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:rt(e.onPointerEnter,()=>m("POINTER_ENTER")),onPointerLeave:rt(e.onPointerLeave,()=>m("POINTER_LEAVE"))})})}),fM=x.forwardRef((e,t)=>{const r=nn(Wn,e.__scopeScrollArea),{forceMount:n,...i}=e,[o,c]=x.useState(!1),u=e.orientation==="horizontal",m=Nh(()=>{if(r.viewport){const f=r.viewport.offsetWidth<r.viewport.scrollWidth,g=r.viewport.offsetHeight<r.viewport.scrollHeight;c(u?f:g)}},10);return Yo(r.viewport,m),Yo(r.content,m),a.jsx(en,{present:n||o,children:a.jsx(O1,{"data-state":o?"visible":"hidden",...i,ref:t})})}),O1=x.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,i=nn(Wn,e.__scopeScrollArea),o=x.useRef(null),c=x.useRef(0),[u,m]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=yM(u.viewport,u.content),g={...n,sizes:u,onSizesChange:m,hasThumb:f>0&&f<1,onThumbChange:y=>o.current=y,onThumbPointerUp:()=>c.current=0,onThumbPointerDown:y=>c.current=y};function p(y,j){return pne(y,c.current,u,j)}return r==="horizontal"?a.jsx(une,{...g,ref:t,onThumbPositionChange:()=>{if(i.viewport&&o.current){const y=i.viewport.scrollLeft,j=hD(y,u,i.dir);o.current.style.transform=`translate3d(${j}px, 0, 0)`}},onWheelScroll:y=>{i.viewport&&(i.viewport.scrollLeft=y)},onDragScroll:y=>{i.viewport&&(i.viewport.scrollLeft=p(y,i.dir))}}):r==="vertical"?a.jsx(mne,{...g,ref:t,onThumbPositionChange:()=>{if(i.viewport&&o.current){const y=i.viewport.scrollTop,j=hD(y,u);o.current.style.transform=`translate3d(0, ${j}px, 0)`}},onWheelScroll:y=>{i.viewport&&(i.viewport.scrollTop=y)},onDragScroll:y=>{i.viewport&&(i.viewport.scrollTop=p(y))}}):null}),une=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...i}=e,o=nn(Wn,e.__scopeScrollArea),[c,u]=x.useState(),m=x.useRef(null),f=vt(t,m,o.onScrollbarXChange);return x.useEffect(()=>{m.current&&u(getComputedStyle(m.current))},[m]),a.jsx(gM,{"data-orientation":"horizontal",...i,ref:f,sizes:r,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":wh(r)+"px",...e.style},onThumbPointerDown:g=>e.onThumbPointerDown(g.x),onDragScroll:g=>e.onDragScroll(g.x),onWheelScroll:(g,p)=>{if(o.viewport){const y=o.viewport.scrollLeft+g.deltaX;e.onWheelScroll(y),bM(y,p)&&g.preventDefault()}},onResize:()=>{m.current&&o.viewport&&c&&n({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:m.current.clientWidth,paddingStart:y0(c.paddingLeft),paddingEnd:y0(c.paddingRight)}})}})}),mne=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...i}=e,o=nn(Wn,e.__scopeScrollArea),[c,u]=x.useState(),m=x.useRef(null),f=vt(t,m,o.onScrollbarYChange);return x.useEffect(()=>{m.current&&u(getComputedStyle(m.current))},[m]),a.jsx(gM,{"data-orientation":"vertical",...i,ref:f,sizes:r,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":wh(r)+"px",...e.style},onThumbPointerDown:g=>e.onThumbPointerDown(g.y),onDragScroll:g=>e.onDragScroll(g.y),onWheelScroll:(g,p)=>{if(o.viewport){const y=o.viewport.scrollTop+g.deltaY;e.onWheelScroll(y),bM(y,p)&&g.preventDefault()}},onResize:()=>{m.current&&o.viewport&&c&&n({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:m.current.clientHeight,paddingStart:y0(c.paddingTop),paddingEnd:y0(c.paddingBottom)}})}})}),[fne,hM]=cM(Wn),gM=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:i,onThumbChange:o,onThumbPointerUp:c,onThumbPointerDown:u,onThumbPositionChange:m,onDragScroll:f,onWheelScroll:g,onResize:p,...y}=e,j=nn(Wn,r),[k,b]=x.useState(null),C=vt(t,X=>b(X)),S=x.useRef(null),N=x.useRef(""),A=j.viewport,E=n.content-n.viewport,T=ia(g),P=ia(m),O=Nh(p,10);function U(X){if(S.current){const ie=X.clientX-S.current.left,W=X.clientY-S.current.top;f({x:ie,y:W})}}return x.useEffect(()=>{const X=ie=>{const W=ie.target;k?.contains(W)&&T(ie,E)};return document.addEventListener("wheel",X,{passive:!1}),()=>document.removeEventListener("wheel",X,{passive:!1})},[A,k,E,T]),x.useEffect(P,[n,P]),Yo(k,O),Yo(j.content,O),a.jsx(fne,{scope:r,scrollbar:k,hasThumb:i,onThumbChange:ia(o),onThumbPointerUp:ia(c),onThumbPositionChange:P,onThumbPointerDown:ia(u),children:a.jsx(ct.div,{...y,ref:C,style:{position:"absolute",...y.style},onPointerDown:rt(e.onPointerDown,X=>{X.button===0&&(X.target.setPointerCapture(X.pointerId),S.current=k.getBoundingClientRect(),N.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",j.viewport&&(j.viewport.style.scrollBehavior="auto"),U(X))}),onPointerMove:rt(e.onPointerMove,U),onPointerUp:rt(e.onPointerUp,X=>{const ie=X.target;ie.hasPointerCapture(X.pointerId)&&ie.releasePointerCapture(X.pointerId),document.body.style.webkitUserSelect=N.current,j.viewport&&(j.viewport.style.scrollBehavior=""),S.current=null})})})}),x0="ScrollAreaThumb",pM=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=hM(x0,e.__scopeScrollArea);return a.jsx(en,{present:r||i.hasThumb,children:a.jsx(hne,{ref:t,...n})})}),hne=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...i}=e,o=nn(x0,r),c=hM(x0,r),{onThumbPositionChange:u}=c,m=vt(t,p=>c.onThumbChange(p)),f=x.useRef(void 0),g=Nh(()=>{f.current&&(f.current(),f.current=void 0)},100);return x.useEffect(()=>{const p=o.viewport;if(p){const y=()=>{if(g(),!f.current){const j=xne(p,u);f.current=j,u()}};return u(),p.addEventListener("scroll",y),()=>p.removeEventListener("scroll",y)}},[o.viewport,g,u]),a.jsx(ct.div,{"data-state":c.hasThumb?"visible":"hidden",...i,ref:m,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:rt(e.onPointerDownCapture,p=>{const j=p.target.getBoundingClientRect(),k=p.clientX-j.left,b=p.clientY-j.top;c.onThumbPointerDown({x:k,y:b})}),onPointerUp:rt(e.onPointerUp,c.onThumbPointerUp)})});pM.displayName=x0;var M1="ScrollAreaCorner",xM=x.forwardRef((e,t)=>{const r=nn(M1,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?a.jsx(gne,{...e,ref:t}):null});xM.displayName=M1;var gne=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,i=nn(M1,r),[o,c]=x.useState(0),[u,m]=x.useState(0),f=!!(o&&u);return Yo(i.scrollbarX,()=>{const g=i.scrollbarX?.offsetHeight||0;i.onCornerHeightChange(g),m(g)}),Yo(i.scrollbarY,()=>{const g=i.scrollbarY?.offsetWidth||0;i.onCornerWidthChange(g),c(g)}),f?a.jsx(ct.div,{...n,ref:t,style:{width:o,height:u,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function y0(e){return e?parseInt(e,10):0}function yM(e,t){const r=e/t;return isNaN(r)?0:r}function wh(e){const t=yM(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function pne(e,t,r,n="ltr"){const i=wh(r),o=i/2,c=t||o,u=i-c,m=r.scrollbar.paddingStart+c,f=r.scrollbar.size-r.scrollbar.paddingEnd-u,g=r.content-r.viewport,p=n==="ltr"?[0,g]:[g*-1,0];return vM([m,f],p)(e)}function hD(e,t,r="ltr"){const n=wh(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-i,c=t.content-t.viewport,u=o-n,m=r==="ltr"?[0,c]:[c*-1,0],f=ev(e,m);return vM([0,c],[0,u])(f)}function vM(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function bM(e,t){return e>0&&e<t}var xne=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return(function i(){const o={left:e.scrollLeft,top:e.scrollTop},c=r.left!==o.left,u=r.top!==o.top;(c||u)&&t(),r=o,n=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(n)};function Nh(e,t){const r=ia(e),n=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),x.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Yo(e,t){const r=ia(t);$r(()=>{let n=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return i.observe(e),()=>{window.cancelAnimationFrame(n),i.unobserve(e)}}},[e,r])}var jM=dM,yne=mM,vne=xM;const kh=x.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(jM,{ref:n,className:nt("relative overflow-hidden",e),...r,children:[a.jsx(yne,{className:"h-full w-full rounded-[inherit]",children:t}),a.jsx(wM,{}),a.jsx(vne,{})]}));kh.displayName=jM.displayName;const wM=x.forwardRef(({className:e,orientation:t="vertical",...r},n)=>a.jsx(E1,{ref:n,orientation:t,className:nt("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:a.jsx(pM,{className:"relative flex-1 rounded-full bg-border"})}));wM.displayName=E1.displayName;function bne({roles:e,selectedRole:t,onSelectRole:r,onAddRole:n}){const[i,o]=x.useState(""),c=e.filter(u=>u.name.toLowerCase().includes(i.toLowerCase())||u.description.toLowerCase().includes(i.toLowerCase()));return a.jsxs("div",{className:"flex h-full flex-col border-r bg-card",children:[a.jsxs("div",{className:"border-b p-4",children:[a.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Qd,{className:"h-5 w-5 text-primary"}),a.jsx("h2",{className:"text-lg font-semibold",children:"Roles"})]}),a.jsxs(ut,{size:"sm",onClick:n,className:"gap-2",children:[a.jsx(yf,{className:"h-4 w-4"}),"Add"]})]}),a.jsxs("div",{className:"relative",children:[a.jsx(D0,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(sa,{placeholder:"Search roles...",value:i,onChange:u=>o(u.target.value),className:"pl-9"})]})]}),a.jsx(kh,{className:"flex-1",children:a.jsx("div",{className:"space-y-1 p-2",children:c.map(u=>{const m=u.permissions.filter(g=>g.allowed).length,f=u.permissions.length;return a.jsxs("button",{onClick:()=>r(u),className:nt("w-full rounded-lg border p-3 text-left transition-all hover:bg-accent/50",t?.id===u.id&&"border-primary bg-accent shadow-sm"),children:[a.jsxs("div",{className:"mb-2 flex items-start justify-between gap-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold truncate",children:u.name}),a.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:u.description})]}),u.hasChanges&&a.jsx(js,{className:"h-4 w-4 shrink-0 text-amber-500"})]}),a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx(Vo,{variant:u.isSystem?"secondary":"outline",className:"text-xs",children:u.isSystem?"System":"Custom"}),a.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[a.jsx(gn,{className:"h-3 w-3"}),a.jsxs("span",{children:[m,"/",f]})]})]})]},u.id)})})})]})}var Sh="Switch",[jne]=Ds(Sh),[wne,Nne]=jne(Sh),NM=x.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:o,required:c,disabled:u,value:m="on",onCheckedChange:f,form:g,...p}=e,[y,j]=x.useState(null),k=vt(t,A=>j(A)),b=x.useRef(!1),C=y?g||!!y.closest("form"):!0,[S,N]=gl({prop:i,defaultProp:o??!1,onChange:f,caller:Sh});return a.jsxs(wne,{scope:r,checked:S,disabled:u,children:[a.jsx(ct.button,{type:"button",role:"switch","aria-checked":S,"aria-required":c,"data-state":AM(S),"data-disabled":u?"":void 0,disabled:u,value:m,...p,ref:k,onClick:rt(e.onClick,A=>{N(E=>!E),C&&(b.current=A.isPropagationStopped(),b.current||A.stopPropagation())})}),C&&a.jsx(CM,{control:y,bubbles:!b.current,name:n,value:m,checked:S,required:c,disabled:u,form:g,style:{transform:"translateX(-100%)"}})]})});NM.displayName=Sh;var kM="SwitchThumb",SM=x.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,i=Nne(kM,r);return a.jsx(ct.span,{"data-state":AM(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t})});SM.displayName=kM;var kne="SwitchBubbleInput",CM=x.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...i},o)=>{const c=x.useRef(null),u=vt(c,o),m=Ab(r),f=Db(t);return x.useEffect(()=>{const g=c.current;if(!g)return;const p=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(p,"checked").set;if(m!==r&&j){const k=new Event("click",{bubbles:n});j.call(g,r),g.dispatchEvent(k)}},[m,r,n]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:u,style:{...i.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});CM.displayName=kne;function AM(e){return e?"checked":"unchecked"}var DM=NM,Sne=SM;const TM=x.forwardRef(({className:e,...t},r)=>a.jsx(DM,{className:nt("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:a.jsx(Sne,{className:nt("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));TM.displayName=DM.displayName;var Ch="Popover",[EM]=Ds(Ch,[ac]),vu=ac(),[Cne,Ei]=EM(Ch),OM=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:i,onOpenChange:o,modal:c=!1}=e,u=vu(t),m=x.useRef(null),[f,g]=x.useState(!1),[p,y]=gl({prop:n,defaultProp:i??!1,onChange:o,caller:Ch});return a.jsx(Bb,{...u,children:a.jsx(Cne,{scope:t,contentId:yi(),triggerRef:m,open:p,onOpenChange:y,onOpenToggle:x.useCallback(()=>y(j=>!j),[y]),hasCustomAnchor:f,onCustomAnchorAdd:x.useCallback(()=>g(!0),[]),onCustomAnchorRemove:x.useCallback(()=>g(!1),[]),modal:c,children:r})})};OM.displayName=Ch;var MM="PopoverAnchor",Ane=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=Ei(MM,r),o=vu(r),{onCustomAnchorAdd:c,onCustomAnchorRemove:u}=i;return x.useEffect(()=>(c(),()=>u()),[c,u]),a.jsx(I0,{...o,...n,ref:t})});Ane.displayName=MM;var PM="PopoverTrigger",RM=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=Ei(PM,r),o=vu(r),c=vt(t,i.triggerRef),u=a.jsx(ct.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":zM(i.open),...n,ref:c,onClick:rt(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?u:a.jsx(I0,{asChild:!0,...o,children:u})});RM.displayName=PM;var P1="PopoverPortal",[Dne,Tne]=EM(P1,{forceMount:void 0}),_M=e=>{const{__scopePopover:t,forceMount:r,children:n,container:i}=e,o=Ei(P1,t);return a.jsx(Dne,{scope:t,forceMount:r,children:a.jsx(en,{present:r||o.open,children:a.jsx(L0,{asChild:!0,container:i,children:n})})})};_M.displayName=P1;var Ko="PopoverContent",IM=x.forwardRef((e,t)=>{const r=Tne(Ko,e.__scopePopover),{forceMount:n=r.forceMount,...i}=e,o=Ei(Ko,e.__scopePopover);return a.jsx(en,{present:n||o.open,children:o.modal?a.jsx(One,{...i,ref:t}):a.jsx(Mne,{...i,ref:t})})});IM.displayName=Ko;var Ene=hl("PopoverContent.RemoveScroll"),One=x.forwardRef((e,t)=>{const r=Ei(Ko,e.__scopePopover),n=x.useRef(null),i=vt(t,n),o=x.useRef(!1);return x.useEffect(()=>{const c=n.current;if(c)return qb(c)},[]),a.jsx(z0,{as:Ene,allowPinchZoom:!0,children:a.jsx(LM,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:rt(e.onCloseAutoFocus,c=>{c.preventDefault(),o.current||r.triggerRef.current?.focus()}),onPointerDownOutside:rt(e.onPointerDownOutside,c=>{const u=c.detail.originalEvent,m=u.button===0&&u.ctrlKey===!0,f=u.button===2||m;o.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:rt(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),Mne=x.forwardRef((e,t)=>{const r=Ei(Ko,e.__scopePopover),n=x.useRef(!1),i=x.useRef(!1);return a.jsx(LM,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{e.onCloseAutoFocus?.(o),o.defaultPrevented||(n.current||r.triggerRef.current?.focus(),o.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:o=>{e.onInteractOutside?.(o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const c=o.target;r.triggerRef.current?.contains(c)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),LM=x.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:c,onEscapeKeyDown:u,onPointerDownOutside:m,onFocusOutside:f,onInteractOutside:g,...p}=e,y=Ei(Ko,r),j=vu(r);return Mb(),a.jsx(O0,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:o,children:a.jsx(tu,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:g,onEscapeKeyDown:u,onPointerDownOutside:m,onFocusOutside:f,onDismiss:()=>y.onOpenChange(!1),children:a.jsx(Hb,{"data-state":zM(y.open),role:"dialog",id:y.contentId,...j,...p,ref:t,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),$M="PopoverClose",Pne=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=Ei($M,r);return a.jsx(ct.button,{type:"button",...n,ref:t,onClick:rt(e.onClick,()=>i.onOpenChange(!1))})});Pne.displayName=$M;var Rne="PopoverArrow",_ne=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=vu(r);return a.jsx(Fb,{...i,...n,ref:t})});_ne.displayName=Rne;function zM(e){return e?"open":"closed"}var Ine=OM,Lne=RM,$ne=_M,UM=IM;const zne=Ine,Une=Lne,BM=x.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},i)=>a.jsx($ne,{children:a.jsx(UM,{ref:i,align:t,sideOffset:r,className:nt("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));BM.displayName=UM.displayName;const gD=[{id:"tech",name:"Technology"},{id:"grc",name:"GRC"},{id:"finance",name:"Finance"},{id:"hr",name:"Human Resources"}],pD=[{id:"proj-a",name:"Project Alpha"},{id:"proj-b",name:"Project Beta"},{id:"proj-c",name:"Project Gamma"}];function Bne({scope:e,onChange:t}){const[r,n]=x.useState(!1),i=()=>{switch(e?.type){case"any":return a.jsx(Jp,{className:"h-3 w-3"});case"department":return a.jsx(Ky,{className:"h-3 w-3"});case"project":return a.jsx(Xy,{className:"h-3 w-3"});case"assigned":return a.jsx(_k,{className:"h-3 w-3"});default:return a.jsx(Jp,{className:"h-3 w-3"})}},o=()=>{if(!e)return"Any";switch(e.type){case"any":return"Any";case"department":return e.ids&&e.ids.length>0?`Dept: ${e.ids.map(f=>gD.find(g=>g.id===f)?.name||f).join(", ")}`:"Department";case"project":return e.ids&&e.ids.length>0?`Project: ${e.ids.map(f=>pD.find(g=>g.id===f)?.name||f).join(", ")}`:"Project";case"assigned":return"Assigned Only";default:return"Any"}},c=f=>{t({type:f,ids:[]}),(f==="any"||f==="assigned")&&n(!1)},u=f=>{const g=e?.ids||[],p=g.includes(f)?g.filter(y=>y!==f):[...g,f];t({type:e?.type||"any",ids:p})},m=e?.type==="department"?gD:pD;return a.jsxs(zne,{open:r,onOpenChange:n,children:[a.jsx(Une,{asChild:!0,children:a.jsxs(ut,{variant:"outline",size:"sm",className:"h-7 gap-1.5 text-xs",children:[i(),a.jsx("span",{children:o()}),a.jsx(A0,{className:"h-3 w-3 opacity-50"})]})}),a.jsx(BM,{className:"w-80",align:"start",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"mb-3 text-sm font-semibold",children:"Permission Scope"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("button",{onClick:()=>c("any"),className:`flex w-full items-center gap-2 rounded-md border p-2 text-left text-sm transition-colors hover:bg-accent ${e?.type==="any"?"border-primary bg-accent":""}`,children:[a.jsx(Jp,{className:"h-4 w-4"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:"Any"}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"No restrictions"})]})]}),a.jsxs("button",{onClick:()=>c("department"),className:`flex w-full items-center gap-2 rounded-md border p-2 text-left text-sm transition-colors hover:bg-accent ${e?.type==="department"?"border-primary bg-accent":""}`,children:[a.jsx(Ky,{className:"h-4 w-4"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:"Department"}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Specific departments"})]})]}),a.jsxs("button",{onClick:()=>c("project"),className:`flex w-full items-center gap-2 rounded-md border p-2 text-left text-sm transition-colors hover:bg-accent ${e?.type==="project"?"border-primary bg-accent":""}`,children:[a.jsx(Xy,{className:"h-4 w-4"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:"Project"}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Specific projects"})]})]}),a.jsxs("button",{onClick:()=>c("assigned"),className:`flex w-full items-center gap-2 rounded-md border p-2 text-left text-sm transition-colors hover:bg-accent ${e?.type==="assigned"?"border-primary bg-accent":""}`,children:[a.jsx(_k,{className:"h-4 w-4"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:"Assigned Only"}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Only assigned items"})]})]})]})]}),(e?.type==="department"||e?.type==="project")&&a.jsxs("div",{children:[a.jsxs("h4",{className:"mb-2 text-sm font-semibold",children:["Select ",e.type==="department"?"Departments":"Projects"]}),a.jsx("div",{className:"space-y-2",children:m.map(f=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ob,{id:f.id,checked:e.ids?.includes(f.id)||!1,onCheckedChange:()=>u(f.id)}),a.jsx("label",{htmlFor:f.id,className:"flex-1 cursor-pointer text-sm",children:f.name})]},f.id))})]})]})})]})}var[Ah]=Ds("Tooltip",[ac]),Dh=ac(),HM="TooltipProvider",Hne=700,ob="tooltip.open",[Fne,R1]=Ah(HM),FM=e=>{const{__scopeTooltip:t,delayDuration:r=Hne,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:o}=e,c=x.useRef(!0),u=x.useRef(!1),m=x.useRef(0);return x.useEffect(()=>{const f=m.current;return()=>window.clearTimeout(f)},[]),a.jsx(Fne,{scope:t,isOpenDelayedRef:c,delayDuration:r,onOpen:x.useCallback(()=>{window.clearTimeout(m.current),c.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>c.current=!0,n)},[n]),isPointerInTransitRef:u,onPointerInTransitChange:x.useCallback(f=>{u.current=f},[]),disableHoverableContent:i,children:o})};FM.displayName=HM;var Gd="Tooltip",[qne,Th]=Ah(Gd),qM=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:i,onOpenChange:o,disableHoverableContent:c,delayDuration:u}=e,m=R1(Gd,e.__scopeTooltip),f=Dh(t),[g,p]=x.useState(null),y=yi(),j=x.useRef(0),k=c??m.disableHoverableContent,b=u??m.delayDuration,C=x.useRef(!1),[S,N]=gl({prop:n,defaultProp:i??!1,onChange:O=>{O?(m.onOpen(),document.dispatchEvent(new CustomEvent(ob))):m.onClose(),o?.(O)},caller:Gd}),A=x.useMemo(()=>S?C.current?"delayed-open":"instant-open":"closed",[S]),E=x.useCallback(()=>{window.clearTimeout(j.current),j.current=0,C.current=!1,N(!0)},[N]),T=x.useCallback(()=>{window.clearTimeout(j.current),j.current=0,N(!1)},[N]),P=x.useCallback(()=>{window.clearTimeout(j.current),j.current=window.setTimeout(()=>{C.current=!0,N(!0),j.current=0},b)},[b,N]);return x.useEffect(()=>()=>{j.current&&(window.clearTimeout(j.current),j.current=0)},[]),a.jsx(Bb,{...f,children:a.jsx(qne,{scope:t,contentId:y,open:S,stateAttribute:A,trigger:g,onTriggerChange:p,onTriggerEnter:x.useCallback(()=>{m.isOpenDelayedRef.current?P():E()},[m.isOpenDelayedRef,P,E]),onTriggerLeave:x.useCallback(()=>{k?T():(window.clearTimeout(j.current),j.current=0)},[T,k]),onOpen:E,onClose:T,disableHoverableContent:k,children:r})})};qM.displayName=Gd;var cb="TooltipTrigger",WM=x.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=Th(cb,r),o=R1(cb,r),c=Dh(r),u=x.useRef(null),m=vt(t,u,i.onTriggerChange),f=x.useRef(!1),g=x.useRef(!1),p=x.useCallback(()=>f.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),a.jsx(I0,{asChild:!0,...c,children:a.jsx(ct.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:m,onPointerMove:rt(e.onPointerMove,y=>{y.pointerType!=="touch"&&!g.current&&!o.isPointerInTransitRef.current&&(i.onTriggerEnter(),g.current=!0)}),onPointerLeave:rt(e.onPointerLeave,()=>{i.onTriggerLeave(),g.current=!1}),onPointerDown:rt(e.onPointerDown,()=>{i.open&&i.onClose(),f.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:rt(e.onFocus,()=>{f.current||i.onOpen()}),onBlur:rt(e.onBlur,i.onClose),onClick:rt(e.onClick,i.onClose)})})});WM.displayName=cb;var Wne="TooltipPortal",[ole,Vne]=Ah(Wne,{forceMount:void 0}),Go="TooltipContent",VM=x.forwardRef((e,t)=>{const r=Vne(Go,e.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...o}=e,c=Th(Go,e.__scopeTooltip);return a.jsx(en,{present:n||c.open,children:c.disableHoverableContent?a.jsx(YM,{side:i,...o,ref:t}):a.jsx(Yne,{side:i,...o,ref:t})})}),Yne=x.forwardRef((e,t)=>{const r=Th(Go,e.__scopeTooltip),n=R1(Go,e.__scopeTooltip),i=x.useRef(null),o=vt(t,i),[c,u]=x.useState(null),{trigger:m,onClose:f}=r,g=i.current,{onPointerInTransitChange:p}=n,y=x.useCallback(()=>{u(null),p(!1)},[p]),j=x.useCallback((k,b)=>{const C=k.currentTarget,S={x:k.clientX,y:k.clientY},N=Jne(S,C.getBoundingClientRect()),A=Qne(S,N),E=ese(b.getBoundingClientRect()),T=rse([...A,...E]);u(T),p(!0)},[p]);return x.useEffect(()=>()=>y(),[y]),x.useEffect(()=>{if(m&&g){const k=C=>j(C,g),b=C=>j(C,m);return m.addEventListener("pointerleave",k),g.addEventListener("pointerleave",b),()=>{m.removeEventListener("pointerleave",k),g.removeEventListener("pointerleave",b)}}},[m,g,j,y]),x.useEffect(()=>{if(c){const k=b=>{const C=b.target,S={x:b.clientX,y:b.clientY},N=m?.contains(C)||g?.contains(C),A=!tse(S,c);N?y():A&&(y(),f())};return document.addEventListener("pointermove",k),()=>document.removeEventListener("pointermove",k)}},[m,g,c,f,y]),a.jsx(YM,{...e,ref:o})}),[Kne,Gne]=Ah(Gd,{isInside:!1}),Xne=X9("TooltipContent"),YM=x.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:c,...u}=e,m=Th(Go,r),f=Dh(r),{onClose:g}=m;return x.useEffect(()=>(document.addEventListener(ob,g),()=>document.removeEventListener(ob,g)),[g]),x.useEffect(()=>{if(m.trigger){const p=y=>{y.target?.contains(m.trigger)&&g()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[m.trigger,g]),a.jsx(tu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:p=>p.preventDefault(),onDismiss:g,children:a.jsxs(Hb,{"data-state":m.stateAttribute,...f,...u,ref:t,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(Xne,{children:n}),a.jsx(Kne,{scope:r,isInside:!0,children:a.jsx(B$,{id:m.contentId,role:"tooltip",children:i||n})})]})})});VM.displayName=Go;var KM="TooltipArrow",Zne=x.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=Dh(r);return Gne(KM,r).isInside?null:a.jsx(Fb,{...i,...n,ref:t})});Zne.displayName=KM;function Jne(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(r,n,i,o)){case o:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Qne(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function ese(e){const{top:t,right:r,bottom:n,left:i}=e;return[{x:i,y:t},{x:r,y:t},{x:r,y:n},{x:i,y:n}]}function tse(e,t){const{x:r,y:n}=e;let i=!1;for(let o=0,c=t.length-1;o<t.length;c=o++){const u=t[o],m=t[c],f=u.x,g=u.y,p=m.x,y=m.y;g>n!=y>n&&r<(p-f)*(n-g)/(y-g)+f&&(i=!i)}return i}function rse(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),ase(t)}function ase(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const i=e[n];for(;t.length>=2;){const o=t[t.length-1],c=t[t.length-2];if((o.x-c.x)*(i.y-c.y)>=(o.y-c.y)*(i.x-c.x))t.pop();else break}t.push(i)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const i=e[n];for(;r.length>=2;){const o=r[r.length-1],c=r[r.length-2];if((o.x-c.x)*(i.y-c.y)>=(o.y-c.y)*(i.x-c.x))r.pop();else break}r.push(i)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var nse=FM,sse=qM,ise=WM,GM=VM;const db=nse,tl=sse,rl=ise,hi=x.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(GM,{ref:n,sideOffset:t,className:nt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));hi.displayName=GM.displayName;const lse={Users:gn,Projects:Xy,Tasks:c9,Timelogs:Sr,Documents:_n,Calendar:Ca,Finance:V8,Email:x9,System:Sb},ose={Users:"users",Projects:"projects",Tasks:"tasks",Timelogs:"timelogs",Documents:"documents",Calendar:"calendar",Finance:"finance",Email:"email",System:"system"};function cse({role:e,onPermissionChange:t,onScopeChange:r}){const[n,i]=x.useState(""),[o,c]=x.useState("Users");if(!e)return a.jsx("div",{className:"flex h-full items-center justify-center text-muted-foreground",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Qd,{className:"mx-auto mb-4 h-12 w-12 opacity-20"}),a.jsx("p",{className:"text-lg",children:"Select a role to view permissions"}),a.jsx("p",{className:"text-sm",children:"Choose a role from the sidebar to start editing"})]})});const u=e.permissions.reduce((p,y)=>(p[y.group]||(p[y.group]=[]),p[y.group].push(y),p),{}),m=Object.entries(u).reduce((p,[y,j])=>{const k=j.filter(b=>b.key.toLowerCase().includes(n.toLowerCase())||b.description.toLowerCase().includes(n.toLowerCase()));return k.length>0&&(p[y]=k),p},{}),f=p=>{c(o===p?null:p)},g=(p,y)=>{u[p].forEach(j=>{t(j.key,y)})};return a.jsxs("div",{className:"flex h-full flex-col",children:[a.jsxs("div",{className:"border-b bg-card p-4",children:[a.jsxs("div",{className:"mb-3 flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold",children:e.name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e.description})]}),e.hasChanges&&a.jsx(Vo,{variant:"outline",className:"border-amber-500 text-amber-600",children:"Unsaved Changes"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(D0,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(sa,{placeholder:"Search permissions...",value:n,onChange:p=>i(p.target.value),className:"pl-9"})]})]}),a.jsx(kh,{className:"flex-1",children:a.jsx("div",{className:"space-y-3 p-4",children:a.jsx(db,{children:Object.entries(m).map(([p,y])=>{const j=lse[p],k=ose[p],b=y.filter(S=>S.allowed).length,C=o===p;return a.jsxs(hn,{className:"overflow-hidden",children:[a.jsxs("button",{onClick:()=>f(p),className:"flex w-full items-center justify-between border-b p-4 text-left transition-colors hover:bg-accent/50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:nt("rounded-lg p-2",`bg-${k}/10`),children:a.jsx(j,{className:nt("h-5 w-5",`text-${k}`)})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:p}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[b," of ",y.length," enabled"]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(ut,{size:"sm",variant:"ghost",onClick:S=>{S.stopPropagation(),g(p,!0)},children:[a.jsx(P9,{className:"mr-1 h-3 w-3"}),"All"]}),a.jsxs(ut,{size:"sm",variant:"ghost",onClick:S=>{S.stopPropagation(),g(p,!1)},children:[a.jsx(_9,{className:"mr-1 h-3 w-3"}),"None"]})]})]}),C&&a.jsx("div",{className:"space-y-1 p-2",children:y.map(S=>a.jsx("div",{className:"rounded-lg border bg-card p-3 transition-colors hover:bg-accent/30",children:a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[a.jsx("code",{className:"rounded bg-muted px-2 py-0.5 text-xs font-mono",children:S.key}),a.jsxs(tl,{children:[a.jsx(rl,{children:a.jsx(l9,{className:"h-3 w-3 text-muted-foreground"})}),a.jsx(hi,{children:a.jsx("p",{className:"max-w-xs",children:S.description})})]})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:S.description}),S.allowed&&S.scope&&a.jsx("div",{className:"mt-2",children:a.jsx(Bne,{scope:S.scope,onChange:N=>r(S.key,N)})})]}),a.jsx(TM,{checked:S.allowed,onCheckedChange:N=>t(S.key,N)})]})},S.key))})]},p)})})})})]})}function dse({selectedRole:e,hasChanges:t,onSaveDraft:r,onPublish:n,onCloneRole:i,onCompareRoles:o,onPreviewRole:c,onViewHistory:u,onExport:m,onImport:f}){return a.jsxs("div",{className:"flex items-center justify-between border-b bg-card px-4 py-3",children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(db,{children:[a.jsxs(tl,{children:[a.jsx(rl,{asChild:!0,children:a.jsxs(ut,{variant:"outline",size:"sm",onClick:i,disabled:!e,className:"gap-2",children:[a.jsx(q8,{className:"h-4 w-4"}),"Clone"]})}),a.jsx(hi,{children:a.jsx("p",{children:"Create a copy of this role"})})]}),a.jsxs(tl,{children:[a.jsx(rl,{asChild:!0,children:a.jsxs(ut,{variant:"outline",size:"sm",onClick:o,className:"gap-2",children:[a.jsx(r9,{className:"h-4 w-4"}),"Compare"]})}),a.jsx(hi,{children:a.jsx("p",{children:"Compare two roles side by side"})})]}),a.jsxs(tl,{children:[a.jsx(rl,{asChild:!0,children:a.jsxs(ut,{variant:"outline",size:"sm",onClick:c,disabled:!e,className:"gap-2",children:[a.jsx(Oo,{className:"h-4 w-4"}),"Preview"]})}),a.jsx(hi,{children:a.jsx("p",{children:"Preview permissions as this role"})})]}),a.jsxs(tl,{children:[a.jsx(rl,{asChild:!0,children:a.jsxs(ut,{variant:"outline",size:"sm",onClick:u,className:"gap-2",children:[a.jsx(s9,{className:"h-4 w-4"}),"History"]})}),a.jsx(hi,{children:a.jsx("p",{children:"View policy version history"})})]})]})}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(db,{children:[a.jsxs(tl,{children:[a.jsx(rl,{asChild:!0,children:a.jsxs(ut,{variant:"outline",size:"sm",onClick:m,className:"gap-2",children:[a.jsx(nl,{className:"h-4 w-4"}),"Export"]})}),a.jsx(hi,{children:a.jsx("p",{children:"Export roles to JSON"})})]}),a.jsxs(tl,{children:[a.jsx(rl,{asChild:!0,children:a.jsxs(ut,{variant:"outline",size:"sm",onClick:f,className:"gap-2",children:[a.jsx(H9,{className:"h-4 w-4"}),"Import"]})}),a.jsx(hi,{children:a.jsx("p",{children:"Import roles from JSON"})})]}),a.jsxs(ut,{variant:"outline",size:"sm",onClick:r,disabled:!t,className:"gap-2",children:[a.jsx(D9,{className:"h-4 w-4"}),"Save Draft"]}),a.jsxs(ut,{size:"sm",onClick:n,disabled:!t,className:"gap-2",children:[a.jsx(la,{className:"h-4 w-4"}),"Publish"]})]})})]})}var Eh="Dialog",[XM]=Ds(Eh),[use,kn]=XM(Eh),ZM=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:i,onOpenChange:o,modal:c=!0}=e,u=x.useRef(null),m=x.useRef(null),[f,g]=gl({prop:n,defaultProp:i??!1,onChange:o,caller:Eh});return a.jsx(use,{scope:t,triggerRef:u,contentRef:m,contentId:yi(),titleId:yi(),descriptionId:yi(),open:f,onOpenChange:g,onOpenToggle:x.useCallback(()=>g(p=>!p),[g]),modal:c,children:r})};ZM.displayName=Eh;var JM="DialogTrigger",mse=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=kn(JM,r),o=vt(t,i.triggerRef);return a.jsx(ct.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":L1(i.open),...n,ref:o,onClick:rt(e.onClick,i.onOpenToggle)})});mse.displayName=JM;var _1="DialogPortal",[fse,QM]=XM(_1,{forceMount:void 0}),eP=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:i}=e,o=kn(_1,t);return a.jsx(fse,{scope:t,forceMount:r,children:x.Children.map(n,c=>a.jsx(en,{present:r||o.open,children:a.jsx(L0,{asChild:!0,container:i,children:c})}))})};eP.displayName=_1;var v0="DialogOverlay",tP=x.forwardRef((e,t)=>{const r=QM(v0,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,o=kn(v0,e.__scopeDialog);return o.modal?a.jsx(en,{present:n||o.open,children:a.jsx(gse,{...i,ref:t})}):null});tP.displayName=v0;var hse=hl("DialogOverlay.RemoveScroll"),gse=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=kn(v0,r);return a.jsx(z0,{as:hse,allowPinchZoom:!0,shards:[i.contentRef],children:a.jsx(ct.div,{"data-state":L1(i.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Nl="DialogContent",rP=x.forwardRef((e,t)=>{const r=QM(Nl,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,o=kn(Nl,e.__scopeDialog);return a.jsx(en,{present:n||o.open,children:o.modal?a.jsx(pse,{...i,ref:t}):a.jsx(xse,{...i,ref:t})})});rP.displayName=Nl;var pse=x.forwardRef((e,t)=>{const r=kn(Nl,e.__scopeDialog),n=x.useRef(null),i=vt(t,r.contentRef,n);return x.useEffect(()=>{const o=n.current;if(o)return qb(o)},[]),a.jsx(aP,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:rt(e.onCloseAutoFocus,o=>{o.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:rt(e.onPointerDownOutside,o=>{const c=o.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0;(c.button===2||u)&&o.preventDefault()}),onFocusOutside:rt(e.onFocusOutside,o=>o.preventDefault())})}),xse=x.forwardRef((e,t)=>{const r=kn(Nl,e.__scopeDialog),n=x.useRef(!1),i=x.useRef(!1);return a.jsx(aP,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{e.onCloseAutoFocus?.(o),o.defaultPrevented||(n.current||r.triggerRef.current?.focus(),o.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:o=>{e.onInteractOutside?.(o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const c=o.target;r.triggerRef.current?.contains(c)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),aP=x.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:o,...c}=e,u=kn(Nl,r),m=x.useRef(null),f=vt(t,m);return Mb(),a.jsxs(a.Fragment,{children:[a.jsx(O0,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:o,children:a.jsx(tu,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":L1(u.open),...c,ref:f,onDismiss:()=>u.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(yse,{titleId:u.titleId}),a.jsx(bse,{contentRef:m,descriptionId:u.descriptionId})]})]})}),I1="DialogTitle",nP=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=kn(I1,r);return a.jsx(ct.h2,{id:i.titleId,...n,ref:t})});nP.displayName=I1;var sP="DialogDescription",iP=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=kn(sP,r);return a.jsx(ct.p,{id:i.descriptionId,...n,ref:t})});iP.displayName=sP;var lP="DialogClose",oP=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=kn(lP,r);return a.jsx(ct.button,{type:"button",...n,ref:t,onClick:rt(e.onClick,()=>i.onOpenChange(!1))})});oP.displayName=lP;function L1(e){return e?"open":"closed"}var cP="DialogTitleWarning",[cle,dP]=HL(cP,{contentName:Nl,titleName:I1,docsSlug:"dialog"}),yse=({titleId:e})=>{const t=dP(cP),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},vse="DialogDescriptionWarning",bse=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${dP(vse).contentName}}.`;return x.useEffect(()=>{const i=e.current?.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},uP=ZM,mP=eP,Oh=tP,Mh=rP,Ph=nP,Rh=iP,fP=oP;const jse=uP,wse=mP,hP=x.forwardRef(({className:e,...t},r)=>a.jsx(Oh,{className:nt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));hP.displayName=Oh.displayName;const Nse=T0("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),gP=x.forwardRef(({side:e="right",className:t,children:r,...n},i)=>a.jsxs(wse,{children:[a.jsx(hP,{}),a.jsxs(Mh,{ref:i,className:nt(Nse({side:e}),t),...n,children:[r,a.jsxs(fP,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[a.jsx(eu,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));gP.displayName=Mh.displayName;const pP=({className:e,...t})=>a.jsx("div",{className:nt("flex flex-col space-y-2 text-center sm:text-left",e),...t});pP.displayName="SheetHeader";const xP=x.forwardRef(({className:e,...t},r)=>a.jsx(Ph,{ref:r,className:nt("text-lg font-semibold text-foreground",e),...t}));xP.displayName=Ph.displayName;const yP=x.forwardRef(({className:e,...t},r)=>a.jsx(Rh,{ref:r,className:nt("text-sm text-muted-foreground",e),...t}));yP.displayName=Rh.displayName;function Sn(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function kl(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const vP=6048e5,kse=864e5;let Sse={};function _h(){return Sse}function Xd(e,t){const r=_h(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=Sn(e),o=i.getDay(),c=(o<n?7:0)+o-n;return i.setDate(i.getDate()-c),i.setHours(0,0,0,0),i}function b0(e){return Xd(e,{weekStartsOn:1})}function bP(e){const t=Sn(e),r=t.getFullYear(),n=kl(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=b0(n),o=kl(e,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const c=b0(o);return t.getTime()>=i.getTime()?r+1:t.getTime()>=c.getTime()?r:r-1}function xD(e){const t=Sn(e);return t.setHours(0,0,0,0),t}function yD(e){const t=Sn(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Cse(e,t){const r=xD(e),n=xD(t),i=+r-yD(r),o=+n-yD(n);return Math.round((i-o)/kse)}function Ase(e){const t=bP(e),r=kl(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),b0(r)}function Dse(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Tse(e){if(!Dse(e)&&typeof e!="number")return!1;const t=Sn(e);return!isNaN(Number(t))}function Ese(e){const t=Sn(e),r=kl(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Ose={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Mse=(e,t,r)=>{let n;const i=Ose[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Hy(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Pse={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Rse={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},_se={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ise={date:Hy({formats:Pse,defaultWidth:"full"}),time:Hy({formats:Rse,defaultWidth:"full"}),dateTime:Hy({formats:_se,defaultWidth:"full"})},Lse={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},$se=(e,t,r,n)=>Lse[e];function xd(e){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,u=r?.width?String(r.width):c;i=e.formattingValues[u]||e.formattingValues[c]}else{const c=e.defaultWidth,u=r?.width?String(r.width):e.defaultWidth;i=e.values[u]||e.values[c]}const o=e.argumentCallback?e.argumentCallback(t):t;return i[o]}}const zse={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Use={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Bse={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Hse={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Fse={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},qse={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Wse=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Vse={ordinalNumber:Wse,era:xd({values:zse,defaultWidth:"wide"}),quarter:xd({values:Use,defaultWidth:"wide",argumentCallback:e=>e-1}),month:xd({values:Bse,defaultWidth:"wide"}),day:xd({values:Hse,defaultWidth:"wide"}),dayPeriod:xd({values:Fse,defaultWidth:"wide",formattingValues:qse,defaultFormattingWidth:"wide"})};function yd(e){return(t,r={})=>{const n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;const c=o[0],u=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],m=Array.isArray(u)?Kse(u,p=>p.test(c)):Yse(u,p=>p.test(c));let f;f=e.valueCallback?e.valueCallback(m):m,f=r.valueCallback?r.valueCallback(f):f;const g=t.slice(c.length);return{value:f,rest:g}}}function Yse(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Kse(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Gse(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],o=t.match(e.parsePattern);if(!o)return null;let c=e.valueCallback?e.valueCallback(o[0]):o[0];c=r.valueCallback?r.valueCallback(c):c;const u=t.slice(i.length);return{value:c,rest:u}}}const Xse=/^(\d+)(th|st|nd|rd)?/i,Zse=/\d+/i,Jse={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Qse={any:[/^b/i,/^(a|c)/i]},eie={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},tie={any:[/1/i,/2/i,/3/i,/4/i]},rie={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},aie={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},nie={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},sie={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},iie={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},lie={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},oie={ordinalNumber:Gse({matchPattern:Xse,parsePattern:Zse,valueCallback:e=>parseInt(e,10)}),era:yd({matchPatterns:Jse,defaultMatchWidth:"wide",parsePatterns:Qse,defaultParseWidth:"any"}),quarter:yd({matchPatterns:eie,defaultMatchWidth:"wide",parsePatterns:tie,defaultParseWidth:"any",valueCallback:e=>e+1}),month:yd({matchPatterns:rie,defaultMatchWidth:"wide",parsePatterns:aie,defaultParseWidth:"any"}),day:yd({matchPatterns:nie,defaultMatchWidth:"wide",parsePatterns:sie,defaultParseWidth:"any"}),dayPeriod:yd({matchPatterns:iie,defaultMatchWidth:"any",parsePatterns:lie,defaultParseWidth:"any"})},cie={code:"en-US",formatDistance:Mse,formatLong:Ise,formatRelative:$se,localize:Vse,match:oie,options:{weekStartsOn:0,firstWeekContainsDate:1}};function die(e){const t=Sn(e);return Cse(t,Ese(t))+1}function uie(e){const t=Sn(e),r=+b0(t)-+Ase(t);return Math.round(r/vP)+1}function jP(e,t){const r=Sn(e),n=r.getFullYear(),i=_h(),o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,c=kl(e,0);c.setFullYear(n+1,0,o),c.setHours(0,0,0,0);const u=Xd(c,t),m=kl(e,0);m.setFullYear(n,0,o),m.setHours(0,0,0,0);const f=Xd(m,t);return r.getTime()>=u.getTime()?n+1:r.getTime()>=f.getTime()?n:n-1}function mie(e,t){const r=_h(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,i=jP(e,t),o=kl(e,0);return o.setFullYear(i,0,n),o.setHours(0,0,0,0),Xd(o,t)}function fie(e,t){const r=Sn(e),n=+Xd(r,t)-+mie(r,t);return Math.round(n/vP)+1}function Dt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const di={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Dt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Dt(r+1,2)},d(e,t){return Dt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Dt(e.getHours()%12||12,t.length)},H(e,t){return Dt(e.getHours(),t.length)},m(e,t){return Dt(e.getMinutes(),t.length)},s(e,t){return Dt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return Dt(i,t.length)}},wo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},vD={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return di.y(e,t)},Y:function(e,t,r,n){const i=jP(e,n),o=i>0?i:1-i;if(t==="YY"){const c=o%100;return Dt(c,2)}return t==="Yo"?r.ordinalNumber(o,{unit:"year"}):Dt(o,t.length)},R:function(e,t){const r=bP(e);return Dt(r,t.length)},u:function(e,t){const r=e.getFullYear();return Dt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Dt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Dt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return di.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Dt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const i=fie(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):Dt(i,t.length)},I:function(e,t,r){const n=uie(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Dt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):di.d(e,t)},D:function(e,t,r){const n=die(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Dt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const i=e.getDay(),o=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Dt(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const i=e.getDay(),o=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Dt(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return Dt(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let i;switch(n===12?i=wo.noon:n===0?i=wo.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let i;switch(n>=17?i=wo.evening:n>=12?i=wo.afternoon:n>=4?i=wo.morning:i=wo.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return di.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):di.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Dt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Dt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):di.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):di.s(e,t)},S:function(e,t){return di.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return jD(n);case"XXXX":case"XX":return al(n);case"XXXXX":case"XXX":default:return al(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return jD(n);case"xxxx":case"xx":return al(n);case"xxxxx":case"xxx":default:return al(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+bD(n,":");case"OOOO":default:return"GMT"+al(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+bD(n,":");case"zzzz":default:return"GMT"+al(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Dt(n,t.length)},T:function(e,t,r){const n=e.getTime();return Dt(n,t.length)}};function bD(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),o=n%60;return o===0?r+String(i):r+String(i)+t+Dt(o,2)}function jD(e,t){return e%60===0?(e>0?"-":"+")+Dt(Math.abs(e)/60,2):al(e,t)}function al(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Dt(Math.trunc(n/60),2),o=Dt(n%60,2);return r+i+t+o}const wD=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},wP=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},hie=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return wD(e,t);let o;switch(n){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",wD(n,t)).replace("{{time}}",wP(i,t))},gie={p:wP,P:hie},pie=/^D+$/,xie=/^Y+$/,yie=["D","DD","YY","YYYY"];function vie(e){return pie.test(e)}function bie(e){return xie.test(e)}function jie(e,t,r){const n=wie(e,t,r);if(console.warn(n),yie.includes(e))throw new RangeError(n)}function wie(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Nie=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,kie=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Sie=/^'([^]*?)'?$/,Cie=/''/g,Aie=/[a-zA-Z]/;function Die(e,t,r){const n=_h(),i=n.locale??cie,o=n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,c=n.weekStartsOn??n.locale?.options?.weekStartsOn??0,u=Sn(e);if(!Tse(u))throw new RangeError("Invalid time value");let m=t.match(kie).map(g=>{const p=g[0];if(p==="p"||p==="P"){const y=gie[p];return y(g,i.formatLong)}return g}).join("").match(Nie).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const p=g[0];if(p==="'")return{isToken:!1,value:Tie(g)};if(vD[p])return{isToken:!0,value:g};if(p.match(Aie))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:g}});i.localize.preprocessor&&(m=i.localize.preprocessor(u,m));const f={firstWeekContainsDate:o,weekStartsOn:c,locale:i};return m.map(g=>{if(!g.isToken)return g.value;const p=g.value;(bie(p)||vie(p))&&jie(p,t,String(e));const y=vD[p[0]];return y(u,p,i.localize,f)}).join("")}function Tie(e){const t=e.match(Sie);return t?t[1].replace(Cie,"'"):e}function Eie({open:e,onClose:t,versions:r,onRollback:n}){return a.jsx(jse,{open:e,onOpenChange:t,children:a.jsxs(gP,{className:"w-full sm:max-w-lg",children:[a.jsxs(pP,{children:[a.jsx(xP,{children:"Version History"}),a.jsx(yP,{children:"View and rollback to previous policy versions"})]}),a.jsx(kh,{className:"h-[calc(100vh-8rem)] pr-4 mt-6",children:a.jsx("div",{className:"space-y-4",children:r.map((i,o)=>a.jsxs("div",{className:"rounded-lg border bg-card p-4 transition-colors hover:bg-accent/50",children:[a.jsxs("div",{className:"mb-3 flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[a.jsx(Vo,{variant:o===0?"default":"secondary",children:i.id}),o===0&&a.jsx(Vo,{variant:"outline",className:"border-green-500 text-green-600",children:"Current"})]}),a.jsx("p",{className:"text-sm font-medium",children:i.comment})]}),o!==0&&a.jsxs(ut,{size:"sm",variant:"outline",onClick:()=>n(i.id),className:"gap-1.5",children:[a.jsx(U9,{className:"h-3 w-3"}),"Rollback"]})]}),a.jsxs("div",{className:"mb-3 space-y-1 text-xs text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(So,{className:"h-3 w-3"}),a.jsx("span",{children:i.authorName})]}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(Sr,{className:"h-3 w-3"}),a.jsx("span",{children:Die(new Date(i.createdAt),"PPpp")})]})]}),a.jsxs("div",{className:"rounded-md bg-muted/50 p-3",children:[a.jsx("p",{className:"mb-1 text-xs font-medium text-muted-foreground",children:"Changes:"}),a.jsx("ul",{className:"space-y-1",children:i.changes.map((c,u)=>a.jsxs("li",{className:"text-xs",children:[" ",c]},u))})]})]},i.id))})})]})})}const ub=uP,Oie=mP,NP=x.forwardRef(({className:e,...t},r)=>a.jsx(Oh,{ref:r,className:nt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));NP.displayName=Oh.displayName;const j0=x.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(Oie,{children:[a.jsx(NP,{}),a.jsxs(Mh,{ref:n,className:nt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,a.jsxs(fP,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[a.jsx(eu,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));j0.displayName=Mh.displayName;const w0=({className:e,...t})=>a.jsx("div",{className:nt("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});w0.displayName="DialogHeader";const mb=({className:e,...t})=>a.jsx("div",{className:nt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});mb.displayName="DialogFooter";const N0=x.forwardRef(({className:e,...t},r)=>a.jsx(Ph,{ref:r,className:nt("text-lg font-semibold leading-none tracking-tight",e),...t}));N0.displayName=Ph.displayName;const k0=x.forwardRef(({className:e,...t},r)=>a.jsx(Rh,{ref:r,className:nt("text-sm text-muted-foreground",e),...t}));k0.displayName=Rh.displayName;const ND=[{id:"u1",name:"John Director",role:"Director"},{id:"u2",name:"Sarah Manager",role:"Manager"},{id:"u3",name:"Mike Lead",role:"Lead"},{id:"u4",name:"Lisa Consultant",role:"Consultant"}],Mie=["users:read","users:invite","projects:create","projects:delete","finance:invoices:write","system:roles:manage"];function Pie({open:e,onClose:t}){const[r,n]=x.useState(""),[i,o]=x.useState(""),[c,u]=x.useState(null),m=()=>{const f=ND.find(k=>k.id===r),g=f?.role==="Director",p=f?.role==="Manager";let y=!1,j="";g?(y=!0,j="Director role has full access to all permissions"):p&&!i.includes("system:")&&!i.includes("delete")?(y=!0,j="Manager role has access to this permission within department scope"):(y=!1,j=`${f?.role} role does not have permission: ${i}`),u({allowed:y,reason:j,evaluatedRoles:[f?.role||"Unknown"]})};return a.jsx(ub,{open:e,onOpenChange:t,children:a.jsxs(j0,{className:"sm:max-w-[500px]",children:[a.jsxs(w0,{children:[a.jsx(N0,{children:"Authorization Check"}),a.jsx(k0,{children:"Test permissions for a specific user and action"})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(vr,{htmlFor:"user",children:"User"}),a.jsxs(kf,{value:r,onValueChange:n,children:[a.jsx(_d,{id:"user",children:a.jsx(Sf,{placeholder:"Select a user"})}),a.jsx(Id,{children:ND.map(f=>a.jsx(Ld,{value:f.id,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{children:f.name}),a.jsx(Vo,{variant:"secondary",className:"text-xs",children:f.role})]})},f.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(vr,{htmlFor:"permission",children:"Permission"}),a.jsxs(kf,{value:i,onValueChange:o,children:[a.jsx(_d,{id:"permission",children:a.jsx(Sf,{placeholder:"Select a permission"})}),a.jsx(Id,{children:Mie.map(f=>a.jsx(Ld,{value:f,children:a.jsx("code",{className:"text-xs",children:f})},f))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(vr,{htmlFor:"context",children:"Context (Optional)"}),a.jsx(sa,{id:"context",placeholder:'{"departmentId": "tech", "projectId": "p123"}',className:"font-mono text-xs"})]}),a.jsxs(ut,{onClick:m,disabled:!r||!i,className:"w-full gap-2",children:[a.jsx(kb,{className:"h-4 w-4"}),"Check Authorization"]}),c&&a.jsxs("div",{className:`rounded-lg border p-4 ${c.allowed?"border-green-500/50 bg-green-500/10":"border-red-500/50 bg-red-500/10"}`,children:[a.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[c.allowed?a.jsx(la,{className:"h-5 w-5 text-green-600"}):a.jsx(B8,{className:"h-5 w-5 text-red-600"}),a.jsx("span",{className:"font-semibold",children:c.allowed?"Access Granted":"Access Denied"})]}),a.jsx("p",{className:"mb-2 text-sm text-muted-foreground",children:c.reason}),a.jsxs("div",{className:"flex flex-wrap gap-1",children:[a.jsx("span",{className:"text-xs text-muted-foreground",children:"Evaluated roles:"}),c.evaluatedRoles.map(f=>a.jsx(Vo,{variant:"outline",className:"text-xs",children:f},f))]})]})]})]})})}const Rie=1,_ie=1e6;let Fy=0;function Iie(){return Fy=(Fy+1)%Number.MAX_SAFE_INTEGER,Fy.toString()}const qy=new Map,kD=e=>{if(qy.has(e))return;const t=setTimeout(()=>{qy.delete(e),Ad({type:"REMOVE_TOAST",toastId:e})},_ie);qy.set(e,t)},Lie=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Rie)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?kD(r):e.toasts.forEach(n=>{kD(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},hf=[];let gf={toasts:[]};function Ad(e){gf=Lie(gf,e),hf.forEach(t=>{t(gf)})}function $ie({...e}){const t=Iie(),r=i=>Ad({type:"UPDATE_TOAST",toast:{...i,id:t}}),n=()=>Ad({type:"DISMISS_TOAST",toastId:t});return Ad({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||n()}}}),{id:t,dismiss:n,update:r}}function zie(){const[e,t]=x.useState(gf);return x.useEffect(()=>(hf.push(t),()=>{const r=hf.indexOf(t);r>-1&&hf.splice(r,1)}),[e]),{...e,toast:$ie,dismiss:r=>Ad({type:"DISMISS_TOAST",toastId:r})}}const fb=x.forwardRef(({className:e,...t},r)=>a.jsx("textarea",{className:nt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));fb.displayName="Textarea";const Uie=()=>{const{toast:e}=zie(),[t,r]=x.useState(By),[n,i]=x.useState(By[0]),[o,c]=x.useState(!1),[u,m]=x.useState(!1),[f,g]=x.useState(!1),[p,y]=x.useState(!1),[j,k]=x.useState(""),[b,C]=x.useState(""),[S,N]=x.useState(""),A=t.some(te=>te.hasChanges),E=(te,$)=>{if(!n)return;const V=t.map(re=>re.id===n.id?{...re,hasChanges:!0,permissions:re.permissions.map(K=>K.key===te?{...K,allowed:$}:K)}:re);r(V),i(V.find(re=>re.id===n.id)||null)},T=(te,$)=>{if(!n)return;const V=t.map(re=>re.id===n.id?{...re,hasChanges:!0,permissions:re.permissions.map(K=>K.key===te?{...K,scope:$}:K)}:re);r(V),i(V.find(re=>re.id===n.id)||null)},P=()=>{e({title:"Draft saved",description:"Your changes have been saved as a draft."})},O=()=>{if(!j.trim()){e({title:"Comment required",description:"Please describe the changes you're making.",variant:"destructive"});return}const te=t.map($=>({...$,hasChanges:!1}));r(te),i(te.find($=>$.id===n?.id)||null),y(!1),k(""),e({title:"Changes published",description:"New policy version has been created successfully."})},U=()=>{if(!b.trim()){e({title:"Name required",description:"Please enter a role name.",variant:"destructive"});return}const te={id:`role-${Date.now()}`,name:b,description:S||"Custom role",isSystem:!1,permissions:By[0].permissions.map($=>({...$,allowed:!1}))};r([...t,te]),i(te),g(!1),C(""),N(""),e({title:"Role created",description:`${b} has been created successfully.`})},X=()=>{if(!n)return;const te={...n,id:`role-${Date.now()}`,name:`${n.name} (Copy)`,isSystem:!1,hasChanges:!0};r([...t,te]),i(te),e({title:"Role cloned",description:`Created a copy of ${n.name}.`})},ie=()=>{e({title:"Compare roles",description:"Role comparison feature - coming soon in the full version!"})},W=()=>{e({title:"Preview mode",description:`Previewing permissions as ${n?.name||"selected role"}.`})},G=()=>{const te=JSON.stringify(t,null,2),$="data:application/json;charset=utf-8,"+encodeURIComponent(te),V="roles-export.json",re=document.createElement("a");re.setAttribute("href",$),re.setAttribute("download",V),re.click(),e({title:"Roles exported",description:"Downloaded roles-export.json successfully."})},H=()=>{e({title:"Import roles",description:"File import feature - select a JSON file to import roles."})},Q=te=>{e({title:"Rollback initiated",description:`Rolling back to version ${te}.`}),c(!1)};return a.jsxs("div",{className:"permissions-page flex h-screen flex-col bg-background",children:[a.jsx("header",{className:"border-b bg-card",children:a.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Remora"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Role-Based Access Control Management"})]}),a.jsx(ut,{onClick:()=>m(!0),variant:"outline",children:"Test Authorization"})]})}),a.jsx(dse,{selectedRole:n,hasChanges:A,onSaveDraft:P,onPublish:()=>y(!0),onCloneRole:X,onCompareRoles:ie,onPreviewRole:W,onViewHistory:()=>c(!0),onExport:G,onImport:H}),a.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[a.jsx("div",{className:"w-80",children:a.jsx(bne,{roles:t,selectedRole:n,onSelectRole:i,onAddRole:()=>g(!0)})}),a.jsx("div",{className:"flex-1",children:a.jsx(cse,{role:n,onPermissionChange:E,onScopeChange:T})})]}),a.jsx(Eie,{open:o,onClose:()=>c(!1),versions:sne,onRollback:Q}),a.jsx(Pie,{open:u,onClose:()=>m(!1)}),a.jsx(ub,{open:f,onOpenChange:g,children:a.jsxs(j0,{children:[a.jsxs(w0,{children:[a.jsx(N0,{children:"Add New Role"}),a.jsx(k0,{children:"Create a new custom role with specific permissions"})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(vr,{htmlFor:"role-name",children:"Role Name"}),a.jsx(sa,{id:"role-name",placeholder:"e.g., Senior Developer",value:b,onChange:te=>C(te.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(vr,{htmlFor:"role-desc",children:"Description"}),a.jsx(fb,{id:"role-desc",placeholder:"Describe the role's responsibilities...",value:S,onChange:te=>N(te.target.value)})]})]}),a.jsxs(mb,{children:[a.jsx(ut,{variant:"outline",onClick:()=>g(!1),children:"Cancel"}),a.jsx(ut,{onClick:U,children:"Create Role"})]})]})}),a.jsx(ub,{open:p,onOpenChange:y,children:a.jsxs(j0,{children:[a.jsxs(w0,{children:[a.jsx(N0,{children:"Publish Changes"}),a.jsx(k0,{children:"Describe the changes you're making to create a new policy version"})]}),a.jsxs("div",{className:"py-4",children:[a.jsx(vr,{htmlFor:"publish-comment",children:"Change Description"}),a.jsx(fb,{id:"publish-comment",placeholder:"e.g., Added finance permissions to Manager role",value:j,onChange:te=>k(te.target.value),className:"mt-2"})]}),a.jsxs(mb,{children:[a.jsx(ut,{variant:"outline",onClick:()=>y(!1),children:"Cancel"}),a.jsx(ut,{onClick:O,children:"Publish Version"})]})]})})]})};function Bie(){return a.jsx(d8,{children:a.jsx(m8,{children:a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:a.jsxs(TI,{children:[a.jsx(Wt,{path:"/login",element:a.jsx(f8,{})}),a.jsx(Wt,{path:"/signup",element:a.jsx(g8,{})}),a.jsx(Wt,{path:"/forgot-password",element:a.jsx(sU,{})}),a.jsx(Wt,{path:"/reset-password",element:a.jsx(iU,{})}),a.jsx(Wt,{path:"/invite/accept",element:a.jsx(nU,{})}),a.jsxs(Wt,{path:"/",element:a.jsx(IU,{}),children:[a.jsx(Wt,{index:!0,element:a.jsx(_D,{to:"/dashboard",replace:!0})}),a.jsx(Wt,{path:"dashboard",element:a.jsx(LU,{})}),a.jsx(Wt,{path:"manager-dashboard",element:a.jsx($U,{})}),a.jsx(Wt,{path:"projects",element:a.jsx(FU,{})}),a.jsx(Wt,{path:"projects/add",element:a.jsx(qU,{})}),a.jsx(Wt,{path:"projects/:id",element:a.jsx(KU,{})}),a.jsx(Wt,{path:"projects/:projectId/tasks/:taskId",element:a.jsx(Cae,{})}),a.jsx(Wt,{path:"tasks",element:a.jsx(GU,{})}),a.jsx(Wt,{path:"users",element:a.jsx(Aae,{})}),a.jsx(Wt,{path:"admin/approvals",element:a.jsx(nne,{})}),a.jsx(Wt,{path:"admin/permissions",element:a.jsx(Uie,{})}),a.jsx(Wt,{path:"admin/register-user",element:a.jsx(ane,{})}),a.jsx(Wt,{path:"documents",element:a.jsx(Mae,{})}),a.jsx(Wt,{path:"profile",element:a.jsx(Lae,{})}),a.jsx(Wt,{path:"completed-projects",element:a.jsx($ae,{})}),a.jsx(Wt,{path:"completed-projects/:id",element:a.jsx(Uae,{})}),a.jsx(Wt,{path:"calendar",element:a.jsx(Hae,{})}),a.jsx(Wt,{path:"slips-invoices",element:a.jsx(rne,{})})]})]})})})})}I_.createRoot(document.getElementById("root")).render(a.jsx(ht.StrictMode,{children:a.jsx(QI,{children:a.jsx(Bie,{})})}));
